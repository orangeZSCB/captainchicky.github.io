(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,a,t){},150:function(e,a,t){e.exports=t.p+"static/media/yourwaifu.1334e18d.png"},177:function(e,a,t){e.exports=t(309)},182:function(e,a,t){},184:function(e,a,t){},309:function(e,a,t){"use strict";t.r(a);var r=t(24),n=t(25),i=t(27),o=t(26),s=t(28),l=t(0),c=t.n(l),u=t(322),d=t(18),m=t.n(d),h=t(325),p=(t(182),t(14)),g=t.n(p),f=t(23),v=t(326),k=t(15),E=t(314),b=t(315),y=t(45),w=t(69),S=(t(108),t(109),t(110),t(111),t(112),t(184),t(68)),N=t.n(S),O=t(13),C=t(143),A=t(162),M=t(32),T=t(60),I=t(324),x=t(316),G=t(317),j=t(318),L=t(151),R=(t(163),function(e){return"data:image/png;charset=utf-8;base64,".concat(e)}),K={root:{borderRadius:5,transformStyle:"preserve-3d",WebkitTapHighlightColor:"rgba(#000, 0)"},staticFallback:{maxWidth:"100%",maxHeight:"100%",borderRadius:5,boxShadow:"0 2px 8px rgba(14, 21, 47, 0.25)"},container:{position:"relative",width:"100%",height:"100%",borderRadius:5,transition:"all 0.2s ease-out"},shadowOnHover:{boxShadow:"0 45px 100px rgba(14, 21, 47, 0.4), 0 16px 40px rgba(14, 21, 47, 0.4)"},layers:{position:"relative",width:"100%",height:"100%",borderRadius:5,overflow:"hidden",transformStyle:"preserve-3d"},renderedLayer:{position:"absolute",width:"104%",height:"104%",top:"-2%",left:"-2%",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundColor:"transparent",backgroundSize:"cover",transition:"all 0.1s ease-out"},shadow:{position:"absolute",top:"5%",left:"5%",width:"90%",height:"90%",transition:"all 0.2s ease-out",boxShadow:"0 8px 30px rgba(14, 21, 47, 0.6)"},shine:{position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:5,background:"linear-gradient(135deg, rgba(255, 255, 255, .25) 0%, rgba(255, 255, 255, 0) 60%)"}},z=function(e){function a(){var e,t;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(t=Object(i.a)(this,(e=Object(o.a)(a)).call.apply(e,[this].concat(s)))).state={rootElemWidth:0,rootElemHeight:0,isOnHover:!1,container:{},shine:{},layers:[]},t.handleMove=function(e){var a=e.pageX,r=e.pageY,n=t.props.layers.length,i=t.state,o=i.rootElemWidth,s=i.rootElemHeight,l=document.body.scrollTop||document.getElementsByTagName("html")[0].scrollTop,c=document.body.scrollLeft,u=t.refs.root.getBoundingClientRect(),d=320/o,m=.52-(a-u.left-c)/o,h=.52-(r-u.top-l)/s,p=r-u.top-l-s/2,g=a-u.left-c-o/2,f=.07*d*(m-g),v=.1*d*(p-h),k=180*Math.atan2(p,g)/Math.PI-90,E=k<0?k+360:k;t.setState({container:{transform:"rotateX(".concat(v,"deg) rotateY(").concat(f,"deg)")+(t.state.isOnHover?" scale3d(1.07,1.07,1.07)":"")},shine:{background:"linear-gradient(".concat(E,"deg, rgba(255, 255, 255, ").concat((r-u.top-l)/s*.4,") 0%, rgba(255, 255, 255, 0) 80%)"),transform:"translateX(".concat(m*n-.1,"px) translateY(").concat(h*n-.1,"px)")},layers:t.props.layers.map(function(e,a){return{transform:"translateX(".concat(m*(n-a)*(2.5*a/d),"px) translateY(").concat(h*n*(2.5*a/d),"px)")}})})},t.handleTouchMove=function(e){e.preventDefault();var a=e.touches[0],r=a.pageX,n=a.pageY;t.handleMove({pageX:r,pageY:n})},t.handleEnter=function(){t.setState({isOnHover:!0})},t.handleLeave=function(){t.setState({isOnHover:!1,container:{},shine:{},layers:[]})},t.renderShadow=function(){return c.a.createElement("div",{style:Object(O.a)({},K.shadow,t.state.isOnHover?K.shadowOnHover:{})})},t.renderLayers=function(){return c.a.createElement("div",{style:K.layers},t.props.layers&&t.props.layers.map(function(e,a){return c.a.createElement("div",{style:Object(O.a)({backgroundImage:"url(".concat(e,")")},K.renderedLayer,t.state.layers[a]?t.state.layers[a]:{}),key:a})}))},t.renderShine=function(){return c.a.createElement("div",{style:Object(O.a)({},K.shine,t.state.shine)})},t}return Object(s.a)(a,e),Object(n.a)(a,[{key:"componentDidMount",value:function(){this.props.isStatic||this.setState({rootElemWidth:this.refs.root.clientWidth||this.refs.root.offsetWidth||this.refs.root.scrollWidth,rootElemHeight:this.refs.root.clientHeight||this.refs.root.offsetHeight||this.refs.root.scrollHeight})}},{key:"render",value:function(){return this.props.isStatic?c.a.createElement("div",{style:Object(O.a)({},K.root,this.props.style?this.props.style:{}),className:this.props.className||""},c.a.createElement("img",{style:K.staticFallback,src:this.props.staticFallback})):c.a.createElement("div",{style:Object(O.a)({},K.root,{transform:"perspective(".concat(3*this.state.rootElemWidth,"px)")},this.props.style?this.props.style:{}),onMouseMove:this.handleMove,onMouseEnter:this.handleEnter,onMouseLeave:this.handleLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleEnter,onTouchEnd:this.handleLeave,className:this.props.className||"",ref:"root"},c.a.createElement("div",{style:Object(O.a)({},K.container,this.state.container)},this.renderShadow(),this.renderLayers(),this.renderShine()))}}]),a}(l.Component),Y=function(e){var a=e.girls,t=e.onClick,r=e.className;return c.a.createElement("div",{className:"cards-container ".concat(r)},a.map(function(e,a){return c.a.createElement(H,{key:a,girl:e,onClick:t})}))},H=function(e){var a=e.girl,t=e.onClick,r=a.image;return c.a.createElement("div",{onClick:function(){return t(a)},className:"girl"},c.a.createElement(z,{layers:[R(r)],staticFallback:R(r),isStatic:!1,style:{width:150,height:150}}))},P=t(150),D=t.n(P),W=function(e){var a=e.girl.image,t=e.keepGirl,r=e.showSkipButton,n=e.showDownloadButton,i=e.showRestartButton,o=e.showUndoButton,s=e.showSaveGirlButton,l=e.downloadGirl,u=e.restart,d=e.undo,m=e.saveGirl,h=e.loading,p=e.girlLoading,g=e.dontShowYourWaifu;return c.a.createElement("div",{className:"my-girl-container"},c.a.createElement("div",{className:"my-girl"},g?void 0:c.a.createElement("img",{className:"your-waifu",src:D.a}),c.a.createElement("img",{width:"512",className:"my-girl-image ".concat(p?"my-girl-loading":"my-girl-loaded"),src:R(a)})),r?c.a.createElement("div",{className:"keep-button"},c.a.createElement(w.b,{onClick:t,loading:h,minimal:!0,fill:!0,icon:"heart",text:"Keep this girl and skip this step"})):void 0,s?c.a.createElement("div",null,c.a.createElement("div",{className:"product-image",style:{padding:15,marginTop:0,marginBottom:20,display:"flex",flexDirection:"column",alignItems:"center"}},c.a.createElement("h2",null,"Share your Waifu on Twitter with hashtag"," ",c.a.createElement("a",{href:"https://twitter.com/hashtag/waifulabs",target:"_blank"},"#WaifuLabs"),". Or join our"," ",c.a.createElement("a",{href:"https://discordapp.com/invite/W4FBCSf",target:"_blank"},"Discord"),"!")),c.a.createElement("div",{className:"restart-button"},c.a.createElement(w.b,{onClick:m,loading:h,intent:M.a.SUCCESS,fill:!0,large:!0,icon:"heart",text:"Name this girl and link her to your email address!"}))):void 0,n?c.a.createElement("div",{className:"download-button"},c.a.createElement(w.b,{onClick:l,loading:h,minimal:!0,fill:!0,icon:"download",text:"Download this girl"})):void 0,o?c.a.createElement("div",{className:"restart-button"},c.a.createElement(w.b,{onClick:d,loading:h,minimal:!0,fill:!0,icon:"undo",text:"Undo the previous step"})):void 0,i?c.a.createElement("div",{className:"restart-button"},c.a.createElement(w.b,{onClick:u,loading:h,minimal:!0,fill:!0,icon:"heart-broken",text:"Restart from the beginning"})):void 0)},F=t(323),_=t(38),B=t(152),U=t.n(B),J=t(153);t(211);function V(e,a){for(var t,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=["Aka","Ake","Aki","Ara","Ari","Ashi","Ata","Atsu","Azu","Bai","Benji","Bo","Bunra","Chi","Cho","Dai","Do","Enno","Fu","Fuku","Fumi","Ge","Go","Ha","Hachi","Hara","Hi","Hide","Hiro","Hisa","Ho","Hoku","Hyo","Ichi","Ine","Iso","Ja","Jinza","Jo","Juni","Ka","Kage","Kama","Kanza","Katsu","Kawa","Kazu","Ke","Kei","Kiyo","Ko","Koju","Ku","Kuni","Kyo","Kyu","Ma","Mamo","Mana","Mare","Masa","Mata","Matsu","Mitsu","Miya","Mo","Monta","Moro","Moto","Mu","Mune","Na","Naga","Naka","Nari","Naru","No","Nobo","Nobu","Nori","Oka","Oki","Ori","Ra","Ri","Ryu","Sa","Sada","Saku","Sei","Sha","Shi","Shini","Shinza","Sho","Shu","So","Suke","Sumi","Ta","Tada","Tadi","Taka","Take","Tama","Tamu","Tatsu","To","Toki","Tomo","Toyo","Tsu","Tsuga","Tsune","Tsura","Uta","Ya","Yaka","Yasu","Yo","Yori","Yoshi","Yu","Yugo","Yusu"],i=["baru","bei","bo","boru","buchi","bumi","buro","busuke","chi","chiro","chu","daira","dao","dashi","dasu","don","fumi","fusa","gai","gawa","geru","ginori","goro","gumi","gumichi","hachi","haku","haru","hashi","hei","hhiko","hi","hide","hiko","hira","hiro","hisa","hito","jiro","juro","ka","kan","kao","kashi","kasu","kazu","ke","ken","keno","ki","kichi","kio","kira","kishi","kko","ko","koji","koto","kuhei","kumi","kumo","kuni","kuro","kusho","mao","mara","maro","masa","masu","matsu","mba","mei","meisetsu","michi","mio","mitsu","mochi","momi","mon","mori","moru","moto","muku","mune","muro","naga","naka","nao","nari","ne","nibu","nji","njiro","nkei","nmochi","nobu","nokoji","nore","nori","noru","npachi","npaku","nsei","nso","ntaro","pachi","rai","raku","rao","rata","razo","rei","reo","ri","rio","ro","robei","romao","ruki","ruko","rumi","sa","saburo","sai","sake","saki","saru","sashi","sato","sayuki","seki","shai","shi","shida","shige","shiki","shin","shiro","shisai","sho","sine","ssai","su","suke","sumu","tada","taka","take","tan","tane","taro","taru","teru","toki","tomi","tomo","tomu","tora","toru","toshi","tsu","tsugu","tsuna","tsune","tsuya","tsuzan","yaki","yasu","yori","yoshi","yuki","zan","zane","zen","zo","zushi"],o=["A","Ai","Aki","Ako","Ama","Ane","Ari","Asa","Asu","Atsu","Aya","Azu","Chi","China","Do","E","Emi","Etsu","Fu","Fumi","Fuyu","Gi","Ha","Hai","Hani","Haru","Hazu","Hi","Hika","Hime","Hiro","Ho","Hono","Hoshi","I","Ichi","Ima","Ina","Iri","Isa","Itsu","Jo","Ka","Kaho","Kai","Kame","Kami","Kane","Kasu","Katsu","Kaza","Kazu","Ki","Kimi","Kinu","Kio","Kira","Kiyo","Ko","Kochi","Koha","Koma","Kono","Koza","Ku","Kuki","Kuru","Kyo","Ma","Machi","Mae","Maki","Mari","Masu","Matsu","Mayo","Me","Michi","Mido","Miho","Mika","Mili","Mine","Misa","Mitsu","Natsu","Ni","No","Ori","Osa","Ra","Rai","Rei","Ri","Rina","Ru","Ruri","Ryo","Sa","Sai","Saki","Saku","Sana","Sawa","Sayo","Shi","Shiho","Shiru","Su","Sumi","Suzu","Ta","Tada","Taka","Tama","Tana","Tani","Tatsu","Te","To","Toki","Tomi","Tomo","Toshi","Tsu","Tsuki","U","Ume","Ura","Ure","Usa","Utsu","Wa","Waka","Ya","Yasu","Yoshi","Yu","Yumi"],s=["chi","chiko","chiru","diri","doka","dori","fumi","fuyu","gami","gi","gisa","hana","haru","ho","homi","hori","kari","kayo","kemi","keno","ki","kichi","kiko","ko","kumi","kura","kuri","machi","maki","mami","mari","me","meki","meko","mi","miju","mika","miko","mo","momi","na","nako","nami","nari","nase","natsu","ne","neko","ni","niko","no","nomi","noue","nri","nuye","ra","rabi","rako","rari","ri","riko","rime","risa","rise","ru","rumi","ruri","sa","sagi","sago","saki","sami","sato","se","shi","shiko","su","suki","sumi","tako","to","tomi","tori","tose","tsu","tsuki","tsumi","tsune","tsuyo","tu","wara","ya","yama","yoko","yomi","yoshi","yumi","ze","zomi","zu","zuka","zuki","zume","zumi"],l=["A","Ada","Aga","Ai","Aka","Aki","Ama","Ame","Ami","Ara","Ari","Asa","Ashi","Azu","Chi","De","Do","Ebi","Eda","Ena","Eno","Fu","Fuchi","Fuji","Fuku","Furu","Ha","Hagi","Hama","Hana","Hara","Hari","Hashi","Hata","Haya","Hi","Higa","Hira","Hiro","Hisa","Ho","Hori","Ichi","Iga","Ike","Ima","Ina","Ise","Ishi","Iso","Iwa","Izu","Ka","Kaga","Kagu","Kami","Kana","Kane","Kashi","Kata","Katsu","Kawa","Kaze","Ki","Kino","Kiri","Ko","Koba","Koda","Komo","Koni","Koya","Ku","Kuma","Kuri","Kuro","Kuwa","Ma","Maki","Mana","Maru","Masa","Masu","Matsu","Mawa","Mi","Mina","Mitsu","Miya","Mizu","Mo","Mochi","Mori","Moto","Mu","Mura","Na","Naga","Naka","Nari","Natsu","Ni","Nishi","No","Oga","Oha","Oka","Oki","Oku","Omo","Ona","Osa","Oshi","Oto","Otsu","Ra","Raku","Ri","Riki","Sa","Saka","Saki","Saku","Se","Seki","Shi","Shino","Shira","Sho","So","Su","Suga","Sugi","Sumi","Suzu","Ta","Taha","Taka","Take","Tani","Tate","Tatsu","To","Tomi","Tsu","Ubu","Uchi","Ume","Ura","Uye","Uzu","Wa","Waka","Waki","Waku","Ya","Yada","Yaku","Yama","Yana","Yashi","Yasu","Yori","Yoshi","Yu","Za","Zaka"],c=["ba","bara","baru","bashi","bata","be","bi","bira","bu","buki","buto","chi","da","date","dera","fumi","ga","gae","gai","gaki","gami","gata","gawa","gi","gimoto","giri","gisawa","gishi","gita","gome","guchi","gusa","hara","hata","haya","hei","hira","hisa","hoshi","jima","ka","kaga","kaki","kama","kami","kawa","kaze","ken","ki","kida","kino","kiri","kita","kite","kono","kuda","kuma","kura","kuro","kuwa","ma","machi","maki","mano","mari","maru","matsu","maya","me","mi","mida","mine","misu","mitsu","miya","mo","mori","moto","mura","muro","naba","naga","nagi","naha","naka","nari","nashi","nda","ndo","ne","nen","ni","nishi","no","nobu","noda","numa","ra","rada","ragi","raki","rano","rata","ri","rima","ro","roma","runo","ruta","saka","saki","sano","sari","sato","sawa","se","shi","shiba","shida","shige","shima","shino","shiro","shita","sho","sone","su","suchi","suda","sugi","ta","tagi","taka","take","taki","tanda","tani","tase","to","tomi","tsami","tsu","tsuka","tsuki","tsumi","wa","wagi","wara","wari","wata","ya","yama","yashi","yomi","yoshi","yuki","za","zaka","zaki","zato","zawa","ziwa","zora","zuki","zuma","zumi","zuno"],u=e,d=[],m=0;m<a;m++){var h=Math.random()*l.length|0,p=Math.random()*c.length|0;if(1===u){var g=Math.random()*o.length|0,f=Math.random()*s.length|0;t=r?o[g]+s[f]:l[h]+c[p]+" "+o[g]+s[f]}else{var v=Math.random()*n.length|0,k=Math.random()*i.length|0;t=r?n[v]+i[k]:l[h]+c[p]+" "+n[v]+i[k]}d.push(t)}return d}var X=function(e){function a(){var e,t;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(t=Object(i.a)(this,(e=Object(o.a)(a)).call.apply(e,[this].concat(s)))).state={loading:!0,image:void 0},t}return Object(s.a)(a,e),Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=Object(f.a)(g.a.mark(function e(){var a,t,r,n,i,o;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props,t=a.girl,r=a.product,e.next=3,ee("".concat(ge,"/generate_preview"),4e3,3,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentGirl:t.seeds,product:r})});case 3:return n=e.sent,e.next=6,n.json();case 6:i=e.sent,o=i.girl,this.setState({loading:!1,image:o});case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,a=e.loading,t=e.image;return a?c.a.createElement("div",{style:{width:250,height:250,display:"flex",alignItems:"center",justifyContent:"center"}},c.a.createElement(L.a,{size:L.a.SIZE_LARGE})):c.a.createElement("img",{style:{width:250,height:250},className:"product-image",src:R(t)})}}]),a}(c.a.Component),Z=t(97),q=t.n(Z),Q=F.a.Step,$=[{selector:".steps",content:"Creating a waifu is easy! Here you can see the four steps you need to go through"},{selector:".cards-container",content:"Use the grid to guide the AI to the waifu of your dreams. Click on the portrait of the girl you like the most!"},{selector:".refresh-button",content:"Heads up! Use this button to refresh the grid if you are not satisfied with the current waifus"},{selector:".undo-button",content:"And here is the undo button if something goes wrong"}];var ee=function(e,a,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise(function(n,i){function o(e){n(e)}function s(e){--t?setTimeout(c,a):i(e)}function l(e){throw e}function c(){return fetch(e,r).then(o).catch(s).catch(l)}console.log(e,a,t),c()})},ae=function(e){function a(){var e,t;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(t=Object(i.a)(this,(e=Object(o.a)(a)).call.apply(e,[this].concat(s)))).state={tutorialModal:!1,tutorial:!1,step:0,loading:!0,error:!1,wrongToken:!1,girlLoading:!1,girls:[],girl:void 0,lastGirls:void 0,lastGirl:void 0,lastStep:void 0,finalStage:!1,restartModal:!1,uid:void 0,saveGirlModal:void 0,emailAddress:"",girlName:"",saveGirlModalError:void 0,saveGirlModalLoading:!1,orderModal:!1,product:ve,addressVerificationLoading:!1,validAddress:!0,address:{line1:"",line2:"",city:"",state:"CA",postalCode:"",countryCode:"US"},name:{firstName:"",lastName:"",extraLine:""},proposedAddress:void 0},t}return Object(s.a)(a,e),Object(n.a)(a,[{key:"restartFromTheBeginning",value:function(){this.setState({step:0,girl:void 0,girls:[],lastStep:void 0,lastGirl:void 0,lastGirls:void 0,restartModal:!1,loading:!0}),this.fetchStep(0)}},{key:"undo",value:function(){var e=this.state,a=e.lastStep,t=e.lastGirl,r=e.lastGirls;this.setState({step:a,girl:t,girls:r,lastGirl:void 0,lastGirls:void 0,lastStep:void 0})}},{key:"fetchStep",value:function(){var e=Object(f.a)(g.a.mark(function e(a){var t,r,n,i,o,s,l,c=arguments;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>1&&void 0!==c[1]&&c[1],r=this.state,n=r.step,i=r.girls,4!==a){e.next=5;break}return this.setState({step:a,loading:!1,lastStep:n,lastGirls:i}),e.abrupt("return");case 5:return e.prev=5,e.next=8,this.setState({loading:!0,step:a,lastStep:t?void 0:n,lastGirls:t?void 0:i});case 8:return e.next=10,ee("".concat(ge,"/generate"),4e3,3,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({step:a,currentGirl:this.state.girl?this.state.girl.seeds:void 0})});case 10:return o=e.sent,e.next=13,o.json();case 13:s=e.sent,l=s.newGirls,this.setState({step:a,loading:!1,girls:l}),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(5),console.error(e.t0),this.setState({error:e.t0}),this.props.onError(e.t0);case 23:case"end":return e.stop()}},e,this,[[5,18]])}));return function(a){return e.apply(this,arguments)}}()},{key:"selectGirl",value:function(){var e=Object(f.a)(g.a.mark(function e(a){var t,r,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,r=t.step,n=t.girl,e.next=3,this.setState({lastGirl:n,girl:a});case 3:return e.next=5,Promise.all([this.getBigGirl(r+1),this.fetchStep(r+1)]);case 5:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}()},{key:"getBigGirl",value:function(){var e=Object(f.a)(g.a.mark(function e(a){var t,r,n,i;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.girl,e.next=3,this.setState({girlLoading:!0});case 3:return e.prev=3,e.next=6,ee("".concat(ge,"/generate_big"),4e3,3,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentGirl:t.seeds,step:a,size:512})});case 6:return r=e.sent,e.next=9,r.json();case 9:return n=e.sent,i=n.girl,e.next=13,this.setState({girlLoading:!1,girl:Object(O.a)({},t,{image:i})});case 13:4===a&&localStorage.setItem("waifu",JSON.stringify(this.state.girl)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),this.props.onError(e.t0);case 19:case"end":return e.stop()}},e,this,[[3,16]])}));return function(a){return e.apply(this,arguments)}}()},{key:"keepGirl",value:function(){var e=Object(f.a)(g.a.mark(function e(){var a,t,r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state,t=a.step,r=a.girl,e.next=3,this.setState({lastGirl:r,girl:r});case 3:return e.next=5,this.fetchStep(t+1);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"finishTutorial",value:function(){this.setState({tutorial:!1,tutorialModal:!1}),localStorage.setItem("tutorial_done",!0)}},{key:"startTutorial",value:function(){this.setState({tutorial:!0,tutorialModal:!1})}},{key:"downloadGirl",value:function(){var e=Object(f.a)(g.a.mark(function e(){var a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state.girl.image,e.next=3,Object(C.save)(a,"waifu.png");case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"restart",value:function(){localStorage.removeItem("waifu"),this.setState({step:0,girl:void 0}),this.fetchStep(0)}},{key:"confirmAddress",value:function(){var e=Object(f.a)(g.a.mark(function e(){var a,t,r,n,i,o,s,l,c,u,d;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state,t=a.address,r=a.girl,n=a.name,i=a.product,e.next=3,this.setState({addressVerificationLoading:!0});case 3:return o=Object(O.a)({recipeid:"c2eb58bf-5bb2-449b-acfc-d26d0cbaab2a"},t),e.next=6,ee("https://api.print.io/api/v/5/source/api/addressvalidation/?".concat(U.a.stringify(o)),4e3,3,{method:"GET",headers:{"Content-Type":"application/json"}});case 6:return s=e.sent,e.next=9,s.json();case 9:if(l=e.sent,c=l.IsValid,u=l.ProposedAddress,!c){e.next=18;break}return this.props.onConvert({address:t,seeds:r.seeds.slice(0,17),name:n,product:i}),e.next=16,this.setState({addressVerificationLoading:!1});case 16:e.next=22;break;case 18:console.log(u),d=void 0,u&&u.StreetLines&&Array.isArray(u.StreetLines)&&u.StreetLines.length>0&&u.City&&u.PostalCode&&u.CountryCode&&(d={line1:u.StreetLines[0],line2:u.StreetLines[1]?u.StreetLines[1]:"",city:u.City,postalCode:u.PostalCode,state:u.StateOrProvinceCode?u.StateOrProvinceCode:"",countryCode:u.CountryCode}),this.setState({proposedAddress:d,addressVerificationLoading:!1,validAddress:!1});case 22:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"saveGirl",value:function(){var e=Object(f.a)(g.a.mark(function e(){var a,t,r,n,i,o,s;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state,t=a.girlName,r=a.emailAddress,n=a.girl,this.setState({saveGirlModalLoading:!0}),t&&0!==t.length){e.next=5;break}return this.setState({saveGirlModalError:"The name of the girl cannot be empty",saveGirlModalLoading:!1}),e.abrupt("return");case 5:if(r&&J.validate(r)){e.next=8;break}return this.setState({saveGirlModalError:"This email address is invalid",saveGirlModalLoading:!1}),e.abrupt("return");case 8:return e.prev=8,e.next=11,ee("".concat(fe,"/save"),4e3,3,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({seeds:n.seeds.slice(0,17),emailAddress:r,girlName:t})});case 11:return i=e.sent,e.next=14,i.json();case 14:o=e.sent,s=o.success,this.setState({saveGirlModalLoading:!1,saveGirlModal:!1,saveGirlModalError:void 0}),s?be.show({message:"This girl has been linked with your email address!",intent:M.a.SUCCESS}):be.show({message:"An error happened while linking your girl, try again later",intent:M.a.DANGER}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(8),be.show({message:"An error happened while linking your girl, try again later",intent:M.a.DANGER,icon:"heart"});case 23:case"end":return e.stop()}},e,this,[[8,20]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){if(localStorage.getItem("waifu"))return this.setState({girl:JSON.parse(localStorage.getItem("waifu")),step:4}),void be.show({message:"We restored your Waifu \u2764\ufe0f Restart from the beginning to delete her"});localStorage.getItem("tutorial_done")||this.startTutorial();var e=Math.round(1e4*Math.random());this.setState({uid:e}),this.fetchStep(0)}},{key:"render",value:function(){var e=this,a=this.state,t=a.loading,r=a.error,n=a.wrongToken,i=a.girls,o=a.girl,s=a.girlLoading,l=a.step,u=a.tutorial,d=a.tutorialModal,m=a.restartModal,p=a.lastStep,g=a.lastGirl,f=a.lastGirls,v=a.orderModal,k=a.product,b=a.address,y=a.name,S=a.validAddress,O=a.addressVerificationLoading,C=a.proposedAddress,I=a.saveGirlModal,x=a.saveGirlModalError,G=a.saveGirlModalLoading,j=a.emailAddress,L=a.girlName,R=this.props.convertLoading;return n?c.a.createElement("div",{className:"App"},c.a.createElement(h.a,{in:!0,timeout:1e3,appear:!0,classNames:"cross-fade"},c.a.createElement(E.a,{icon:_.a.ERROR,title:"This product is not ready yet!",description:"We are working hard on releasing Waifu Factory. Please be patient. If you are supposed to have an access, contact someone at Sizigi."}))):r?c.a.createElement("div",{className:"App"},c.a.createElement(h.a,{in:!0,timeout:1e3,appear:!0,classNames:"cross-fade"},c.a.createElement(E.a,{icon:_.a.ERROR,title:"We are having some trouble generating your waifus",description:"Please try again later! Our machines may be overloaded."}))):4===l?c.a.createElement("div",{className:"App"},c.a.createElement(h.a,{in:!0,timeout:1e3,appear:!0,classNames:"cross-fade"},c.a.createElement("div",{className:"convert-container"},c.a.createElement("div",{className:"girl-container"},c.a.createElement(W,{girl:o,showDownloadButton:!0,downloadGirl:function(){return e.downloadGirl()},showRestartButton:!0,showSaveGirlButton:!0,saveGirl:function(){return e.setState({saveGirlModal:!0})},showUndoButton:p&&g&&f,undo:function(){return e.undo()},girlLoading:s,restart:function(){return e.restart()},continueWithGirl:function(){e.setState({finalStage:!0})}})),c.a.createElement("div",{className:"products"},c.a.createElement("div",{class:"bp3-callout bp3-intent-primary bp3-dark",style:{width:"auto",marginBottom:10,borderRadius:5,padding:20,backgroundColor:"#325264"}},c.a.createElement("a",{href:"https://arrowmancer.com"},c.a.createElement("img",{alt:"Arrowmancer Logo",style:{height:"100px"},src:"https://uploads-ssl.webflow.com/60e638e6dbec6b4f313cf18c/60e63ab7e944ac55dff18ad9_logo.svg"})),c.a.createElement("div",null,"After 2 years, we're ready to show off our new title!",c.a.createElement("br",null),c.a.createElement("b",null,c.a.createElement("a",{href:"https://arrowmancer.com"},"Preregister for the Arrowmancer Beta"))," ","and get a ",c.a.createElement("b",null,"sneak peek at the all-new Waifulabs 2.0"),". Featuring husbando creation as well as character import directly into the game!"),c.a.createElement("div",null)),c.a.createElement("div",{className:"product"},c.a.createElement(X,{girl:o,product:ve}),c.a.createElement("div",{className:"product-description"},c.a.createElement(T.a,null,"Get your Pillow!"),c.a.createElement("p",null,"Our ",c.a.createElement("strong",null,'18"x18" pillows')," are individually cut on demand, with your one-of-a-kind waifu printed on both sides in full color, full bleed at high resolution."),c.a.createElement("p",null,"The pillows are soft yet durable, made from 100% spun polyester poplin fabric. Each pillow comes pre-stuffed, and shells have a zipper for easy removal. Shells are machine-washable in cold water on the gentle cycle."),c.a.createElement("div",{className:"countries-available"},c.a.createElement("span",{className:"ship-to"},"Ships to: "),c.a.createElement("span",{className:"flags"},"USA, Canada, ",c.a.createElement("strong",null,"Japan"))),c.a.createElement(w.b,{intent:M.a.PRIMARY,onClick:function(){return e.setState({orderModal:!0,product:ve})}},"Order a Pillow for $",Ee[ve].price,"! (Free shipping)"))),c.a.createElement("div",{className:"product"},c.a.createElement(X,{girl:o,product:ke}),c.a.createElement("div",{className:"product-description"},c.a.createElement(T.a,null,"Get your Poster!"),c.a.createElement("p",null,"Our ",c.a.createElement("strong",null,'12"x12" gicl\xe9e art prints')," are produced with high-quality archival inks. Your one-of-a-kind waifu is printed with a semi-gloss finish on luxurious 240gsm smooth fine art paper at high resolution."),c.a.createElement("div",{className:"countries-available"},c.a.createElement("span",{className:"ship-to"},"Ships to: "),c.a.createElement("span",{className:"flags"},"USA, Canada, ",c.a.createElement("strong",null,"Japan"))),c.a.createElement(w.b,{intent:M.a.PRIMARY,onClick:function(){return e.setState({orderModal:!0,product:ke})}},"Order a Poster for $",Ee[ke].price,"! (Free shipping)"))),c.a.createElement("div",{className:"product"},c.a.createElement("div",{style:{margin:25,width:250}},c.a.createElement("a",{href:"https://www.patreon.com/bePatron?u=23037728",target:"_blank"},c.a.createElement("img",{height:40,style:{marginBottom:25},src:"patreon_button.png",alt:"Support us on Patreon"})),c.a.createElement("a",{href:"https://ko-fi.com/B0B5106CI",target:"_blank"},c.a.createElement("img",{height:40,src:"kofi_button.png",alt:"Support us on Ko-fi"}))),c.a.createElement("div",{className:"product-description"},c.a.createElement(T.a,null,"Support Us!"),c.a.createElement("p",null,"If physical goods aren't your thing, please consider donating to support running our servers! Generating lit waifus isn't cheap and it costs us hundreds of dollars a month. Your support is greatly appreciated!")))))),c.a.createElement(se,{isOpen:v,onClose:function(){return e.setState({orderModal:!1})},validAddress:S,address:b,name:y,product:k,proposedAddress:C,addressVerificationLoading:O||R,onAddressChange:function(a){return e.setState({address:a})},onNameChange:function(a){return e.setState({name:a})},confirm:function(){return e.confirmAddress()},useProposedAddress:function(){return e.setState({address:C,validAddress:!0,proposedAddress:void 0})}}),c.a.createElement(ce,{isOpen:I,onClose:function(){return e.setState({saveGirlModal:!1})},girlName:L,girl:o,emailAddress:j,error:x,loading:G,setEmailAddress:function(a){return e.setState({emailAddress:a})},setGirlName:function(a){return e.setState({girlName:a})},save:function(){return e.saveGirl()},generateRandomName:function(){return e.setState({girlName:V(1,1)[0]})}}),c.a.createElement("a",{target:"_blank",href:"https://twitter.com/SizigiStudios"},c.a.createElement("img",{src:N.a,className:"sizigi"}))):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"column"},c.a.createElement(F.a,{className:"steps",direction:q()()?"vertical":"horizontal",progressDot:!0,current:l},c.a.createElement(Q,{title:"Start here",description:"Choose your initial waifu"}),c.a.createElement(Q,{title:"Color palette",description:"Tune the color palette"}),c.a.createElement(Q,{title:"Details",description:"Fine tune the details"}),c.a.createElement(Q,{title:"Pose",description:"Finish with your favorite pose!"})),c.a.createElement("div",{className:"container ".concat(t?"loading":"")},c.a.createElement(ue,{loading:t,girlLoading:s,girls:i,girl:o,onClick:function(a){return e.selectGirl(a)},keepGirl:function(){return e.keepGirl()}}))),c.a.createElement(w.b,{className:"undo-button",intent:M.a.PRIMARY,disabled:s||t||0===l||void 0===p,large:!0,text:"Undo",icon:"undo",onClick:function(){return e.undo()}}),c.a.createElement(w.b,{className:"restart-button-floating",intent:M.a.WARNING,disabled:s||t,large:!0,text:"Restart",icon:"reset",onClick:function(){return e.setState({restartModal:!0})}}),c.a.createElement(w.b,{className:"refresh-button",intent:M.a.PRIMARY,large:!0,text:"Refresh the grid",icon:"refresh",onClick:function(){return e.fetchStep(l,!0)}}),c.a.createElement(w.b,{className:"go-back-button",intent:M.a.DANGER,large:!0,text:"Go back to the intro screen",icon:"undo",onClick:function(){return e.props.cancel()}}),c.a.createElement(te,{isOpen:d,onClose:function(){return e.finishTutorial()},startTutorial:function(){return e.startTutorial()}}),c.a.createElement(le,{isOpen:m,onClose:function(){return e.setState({restartModal:!1})},restart:function(){return e.restartFromTheBeginning()}})),c.a.createElement(A.a,{steps:$,isOpen:u,disableInteraction:!0,rounded:5,onRequestClose:function(){return e.finishTutorial()},lastStepNextButton:c.a.createElement(w.b,{minimal:!0,text:"Got it!",icon:"ninja"})}),c.a.createElement("a",{target:"_blank",href:"https://twitter.com/SizigiStudios"},c.a.createElement("img",{src:N.a,className:"sizigi"})))}}]),a}(c.a.Component),te=function(e){var a=e.isOpen,t=e.onClose,r=e.startTutorial;return c.a.createElement(b.a,{icon:"info-sign",isOpen:a,onClose:t,title:"You are new here"},c.a.createElement("div",{className:y.a.DIALOG_BODY},c.a.createElement("p",null,c.a.createElement("strong",null,"It looks like you are new to Waifu Factory!")),c.a.createElement("p",null,"We built a very quick tutorial to help you get the hang of the interface. You'll be able to create your dream waifu in no time ;)"),c.a.createElement("p",null,c.a.createElement("strong",null,"A Sizigi Studios project"))),c.a.createElement("div",{className:y.a.DIALOG_FOOTER},c.a.createElement("div",{className:y.a.DIALOG_FOOTER_ACTIONS},c.a.createElement(I.a,{content:"Are you sure you want to skip the tutorial?"},c.a.createElement(w.b,{onClick:t},"Close")),c.a.createElement(w.b,{intent:M.a.PRIMARY,onClick:r},"Start the tutorial!"))))},re={AL:"Alabama",AK:"Alaska",AS:"American Samoa",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",DC:"District Of Columbia",FM:"Federated States Of Micronesia",FL:"Florida",GA:"Georgia",GU:"Guam",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MH:"Marshall Islands",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",MP:"Northern Mariana Islands",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PW:"Palau",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VI:"Virgin Islands",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming"},ne=Object.keys(re).map(function(e){return{label:re[e],value:e}}),ie={AB:"Alberta",BC:"British Columbia",MB:"Manitoba",NB:"New Brunswick",NL:"Newfoundland and Labrador",NS:"Nova Scotia",NT:"Northwest Territories",NU:"Nunavut",ON:"Ontario",PE:"Prince Edward Island",QC:"Qu\xe9bec",SK:"Saskatchewan",YT:"Yukon"},oe=Object.keys(ie).map(function(e){return{label:ie[e],value:e}}),se=function(e){var a=e.isOpen,t=e.onClose,r=e.address,n=e.useProposedAddress,i=e.onAddressChange,o=e.confirm,s=e.addressVerificationLoading,l=e.proposedAddress,u=e.validAddress,d=e.product,m=e.name,h=e.onNameChange,p=r.line1,g=r.line2,f=r.city,v=r.state,k=r.postalCode,E=r.countryCode,S=m.firstName,N=m.lastName,C=m.extraLine;return c.a.createElement(b.a,{icon:"info-sign",isOpen:a,onClose:t,title:"Get your ".concat(d.toLowerCase(),"!"),canOutsideClickClose:!1},c.a.createElement("div",{className:y.a.DIALOG_BODY},c.a.createElement("p",null,c.a.createElement("strong",null,"Fill your shipping address to get your ",d.toLowerCase())),u?void 0:c.a.createElement(x.a,{intent:M.a.DANGER},"It looks like this address is invalid."," ",l?"Try using the proposed address:":"Try again!",l?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},c.a.createElement("span",null,l.line1),l.line2?c.a.createElement("span",null,l.line2):void 0,c.a.createElement("span",null,l.city),c.a.createElement("span",null,l.state),c.a.createElement("span",null,l.postalCode),c.a.createElement("span",null,l.countryCode)),c.a.createElement(w.b,{intent:M.a.SUCCESS,onClick:n},"Use this address")):void 0),c.a.createElement("br",null),c.a.createElement("p",{className:"order-p"},"First Name: "),c.a.createElement(G.a,{placeholder:"John",value:S,onChange:function(e){return h(Object(O.a)({},m,{firstName:e.target.value}))}}),c.a.createElement("br",null),c.a.createElement("p",{className:"order-p"},"Last Name: "),c.a.createElement(G.a,{placeholder:"Doe",value:N,onChange:function(e){return h(Object(O.a)({},m,{lastName:e.target.value}))}}),c.a.createElement("br",null),c.a.createElement("p",{className:"order-p"},"Line 1: "),c.a.createElement(G.a,{placeholder:"Line 1",value:p,onChange:function(e){return i(Object(O.a)({},r,{line1:e.target.value}))}}),c.a.createElement("br",null),c.a.createElement("p",{className:"order-p"},"Line 2: "),c.a.createElement(G.a,{placeholder:"Line 2",value:g,onChange:function(e){return i(Object(O.a)({},r,{line2:e.target.value}))}}),c.a.createElement("br",null),c.a.createElement("p",{className:"order-p"},"Line 3 (Extra Information): "),c.a.createElement(G.a,{placeholder:"Line 3",value:C,onChange:function(e){return h(Object(O.a)({},m,{extraLine:e.target.value}))}}),c.a.createElement("br",null),c.a.createElement("p",{className:"order-p"},"City: "),c.a.createElement(G.a,{placeholder:"City",value:f,onChange:function(e){return i(Object(O.a)({},r,{city:e.target.value}))}}),c.a.createElement("br",null),"JP"===E?c.a.createElement(c.a.Fragment,null,c.a.createElement("p",{className:"order-p"},"Prefecture:"),c.a.createElement(G.a,{placeholder:"Prefecture",value:v,onChange:function(e){return i(Object(O.a)({},r,{state:e.target.value}))}})):c.a.createElement(c.a.Fragment,null,c.a.createElement("p",{className:"order-p"},"US"===E?"State":"Province",":"),c.a.createElement(j.a,{value:v,onChange:function(e){return i(Object(O.a)({},r,{state:e.currentTarget.value}))},options:"US"===E?ne:oe})),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("p",{className:"order-p"},"JP"===E?"Postal Code":"Zip Code",":"," "),c.a.createElement(G.a,{placeholder:"Zip",value:k,onChange:function(e){return i(Object(O.a)({},r,{postalCode:e.target.value}))}}),c.a.createElement("br",null),c.a.createElement("p",{className:"order-p"},"Country: "),c.a.createElement(j.a,{value:E,onChange:function(e){return i(Object(O.a)({},r,{countryCode:e.currentTarget.value,state:"US"===e.currentTarget.value?"CA":"QC"}))},options:[{label:"USA",value:"US"},{label:"Canada",value:"CA"},{label:"Japan",value:"JP"}]})),c.a.createElement("div",{className:y.a.DIALOG_FOOTER},c.a.createElement("div",{className:y.a.DIALOG_FOOTER_ACTIONS},c.a.createElement(w.b,{intent:M.a.PRIMARY,onClick:o,loading:s},"Pay $",Ee[d].price," with our partner Stripe"))))},le=function(e){var a=e.isOpen,t=e.onClose,r=e.restart;return c.a.createElement(b.a,{icon:"info-sign",isOpen:a,onClose:t,title:"You sure you want to restart"},c.a.createElement("div",{className:y.a.DIALOG_BODY},c.a.createElement("p",null,c.a.createElement("strong",null,"Are you sure you want to restart?")),c.a.createElement("p",null,"You'll lose your waifu \ud83d\ude22")),c.a.createElement("div",{className:y.a.DIALOG_FOOTER},c.a.createElement("div",{className:y.a.DIALOG_FOOTER_ACTIONS},c.a.createElement(w.b,{onClick:t},"No, close this window"),c.a.createElement(w.b,{intent:M.a.DANGER,onClick:r},"Restart"))))},ce=function(e){var a=e.isOpen,t=e.onClose,r=e.save,n=e.loading,i=e.girl,o=e.girlName,s=e.setGirlName,l=e.generateRandomName,u=e.emailAddress,d=e.setEmailAddress,m=e.error;return c.a.createElement(b.a,{icon:"heart",isOpen:a,onClose:t,title:"Link your waifu",className:"override-dialog"},c.a.createElement("div",{className:y.a.DIALOG_BODY},c.a.createElement(h.a,{in:!0,timeout:1e3,appear:!0,classNames:"cross-fade"},c.a.createElement("div",{className:"final-stage"},c.a.createElement(W,{girl:i,dontShowYourWaifu:!0}),c.a.createElement(x.a,{title:"Keep this waifu forever",className:"too-big"},"Now that we've created your perfect waifu, please give her a name to keep her forever. Enter your email here to link her \"DNA\" with your email address. You'll be able to bring her into other future products of ours, like"," ",c.a.createElement("a",{target:"_blank",href:"https://play.google.com/store/apps/details?id=com.Sizigi.Concentration&pcampaignid=MKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1"},"this game"),"! This is just for us to keep a record of your waifus: we will never solicit you with spam.",m?c.a.createElement("p",{className:"error"},m):void 0,c.a.createElement("div",{style:{marginTop:30}},c.a.createElement(G.a,{large:!0,leftIcon:"person",onChange:function(e){return s(e.target.value)},placeholder:"Her name",rightElement:c.a.createElement(w.b,{onClick:function(){return l()},text:"Get a random name!"}),value:o})),c.a.createElement("div",{style:{marginTop:30}},c.a.createElement(G.a,{large:!0,leftIcon:"envelope",onChange:function(e){return d(e.target.value)},placeholder:"Your email address",value:u})),c.a.createElement("div",{style:{marginTop:30}}))))),c.a.createElement("div",{className:y.a.DIALOG_FOOTER},c.a.createElement("div",{className:y.a.DIALOG_FOOTER_ACTIONS},c.a.createElement(w.b,{intent:M.a.SUCCESS,large:!0,loading:n,text:"Link this girl to your email address!",icon:"heart",onClick:function(){return r()}}))))},ue=function(e){var a=e.loading,t=e.girls,r=e.girl,n=e.onClick,i=e.keepGirl,o=e.girlLoading;return c.a.createElement(c.a.Fragment,null,r?c.a.createElement(W,{girl:r,keepGirl:i,showSkipButton:!0,loading:a,girlLoading:o}):void 0,c.a.createElement("div",{className:"stacked"},c.a.createElement(h.a,{in:a,timeout:1e3,classNames:"cross-fade",unmountOnExit:!0},c.a.createElement("div",{className:"loading-callout stacked-1"},c.a.createElement("h2",{style:{color:"rgb(0,0,0,0.6)"}},"Generating your waifus"),c.a.createElement(L.a,{size:L.a.SIZE_LARGE}))),c.a.createElement(h.a,{in:!a,timeout:1e3,classNames:"cross-fade",unmountOnExit:!0},c.a.createElement(Y,{className:"stacked-2",girls:t,onClick:n}))))},de=ae,me=(c.a.Component,t(70)),he=t.n(me),pe=function(e){function a(){return Object(r.a)(this,a),Object(i.a)(this,Object(o.a)(a).apply(this,arguments))}return Object(s.a)(a,e),Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=Object(f.a)(g.a.mark(function e(){var a,t,r,n,i,o,s;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=function(){var e=document.querySelector("#grid-parent"),t=e.offsetWidth,r=e.offsetHeight;a.width(t),a.height(r),a.draw()},2170,2170,a=new he.a.Stage({container:"infinite-grid",width:2170,height:2170}),t=new he.a.Layer,he.a.Image.fromURL("girls/waifus.jpg",function(e){e.setAttrs({x:0,y:0,scaleX:1,scaleY:1}),t.add(e),t.batchDraw()}),a.add(t),this.fitStageIntoParentContainer=r,r(),window.addEventListener("resize",r),t.draw(),n=1085-a.height()/2,i=1085-a.width()/2,7e4,o=a.width()/2-1085,s=a.height()/2-1085,new he.a.Animation(function(e){t.y(n*Math.sin(2*e.time*Math.PI/7e4)+s),t.x(i*Math.sin(2*e.time*Math.PI/7e4*2)+o)},t).start();case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.fitStageIntoParentContainer)}},{key:"render",value:function(){return c.a.createElement("div",{style:{width:"100%",height:"100%"},id:"infinite-grid"})}}]),a}(c.a.Component),ge="https://api.waifulabs.com",fe="https://waifu-labs.appspot.com/",ve="PILLOW",ke="POSTER",Ee={PILLOW:{price:90},POSTER:{price:30}},be=v.a.create({className:"recipe-toaster",position:k.a.TOP}),ye=function(e){function a(){var e,t;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(t=Object(i.a)(this,(e=Object(o.a)(a)).call.apply(e,[this].concat(s)))).state={step:0,whatModal:!1,convertLoading:!1,stripe:void 0},t}return Object(s.a)(a,e),Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=window.Stripe("pk_live_Fbbaj8YSdQYt2p4lGd0VIu0i00iXNsT43p");this.setState({stripe:e}),"/"===window.location.pathname&&localStorage.getItem("waifu")&&this.setState({step:1})}},{key:"componentDidCatch",value:function(e){this.setState({error:e})}},{key:"convert",value:function(){var e=Object(f.a)(g.a.mark(function e(a){var t,r,n,i,o,s,l,c,u=this;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.address,r=a.seeds,n=a.name,i=a.product,o=this.state.stripe,e.prev=2,console.log(t,r),e.next=6,this.setState({convertLoading:!0});case 6:return e.next=8,fetch("".concat(fe,"/convert"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({seeds:r,address:t,product:i,name:n})});case 8:if(200!==(s=e.sent).status){e.next=17;break}return e.next=12,s.json();case 12:l=e.sent,c=l.sessionId,o.redirectToCheckout({sessionId:c}).then(function(e){u.setState({error:new Error(e.error.message)})}),e.next=18;break;case 17:this.setState({error:new Error("There was an error creating your order")});case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(2),this.setState({error:e.t0});case 23:case"end":return e.stop()}},e,this,[[2,20]])}));return function(a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,a=this.state,t=a.step,r=a.error,n=a.whatModal,i=a.convertLoading;return"/success"===window.location.pathname?c.a.createElement("div",{className:"App"},c.a.createElement(h.a,{in:!0,timeout:1e3,appear:!0,classNames:"cross-fade"},c.a.createElement("div",null,c.a.createElement("div",{className:"success-container"},c.a.createElement("div",{className:"success"},c.a.createElement("h1",{className:"intro-header"},"Thank you!"),c.a.createElement("p",{className:"intro-p"},c.a.createElement("strong",null,"Thank you very much for purchasing! You should receive a confirmation in the mail shortly. Products ship in 5-10 business days.")," ","We are working hard every day to do ground-breaking research to make waifus more beautiful and unique (and tackling the husbando problem!). Your dollars go towards maintaining the server costs for waifu labs, as well as paying the hard-working researchers and artists who make this possible."),c.a.createElement("p",{className:"intro-p"},"We've linked your waifu's \u201cDNA\u201d with your email address. You\u2019ll be able to bring her into other future products of ours, like games! This is just for us to keep a record of your waifus: we will never solicit you with spam."),c.a.createElement("p",{className:"intro-p"},"Once again, thank you for your purchase. Your support helps us advance the boundaries of machine creativity! Enjoy your Waifu!"),c.a.createElement("p",{className:"intro-p"},"\u2764\ufe0f, Sizigi Studios (",c.a.createElement("a",{target:"_blank",href:"https://twitter.com/SizigiStudios"},"@sizigistudios"),")")))))):"/error"===window.location.pathname?(console.error(r),c.a.createElement("div",{className:"App"},c.a.createElement(h.a,{in:!0,timeout:1e3,appear:!0,classNames:"cross-fade"},c.a.createElement(E.a,{icon:_.a.ERROR,title:"There was an error",description:"There was an error during that transaction"})))):r?(console.error(r),c.a.createElement("div",{className:"App"},c.a.createElement(h.a,{in:!0,timeout:1e3,appear:!0,classNames:"cross-fade"},c.a.createElement(E.a,{icon:_.a.ERROR,title:"There was an error",description:r.toString()})))):0===t?c.a.createElement("div",{id:"introit"},c.a.createElement("div",{id:"grid-parent"},c.a.createElement(pe,null)),c.a.createElement("div",{className:"intro-container"},c.a.createElement("div",{className:"intro"},c.a.createElement("h1",{className:"intro-header"},"Waifu Labs"),c.a.createElement("p",{className:"intro-p"},c.a.createElement("strong",null,"We taught a world-class artificial intelligence how to draw anime."," "),"All the drawings you see were made by a non-human artist! Wild, right? It turns out machines love waifus almost as much as humans do."),c.a.createElement("p",{className:"intro-p"},c.a.createElement("strong",null,"We proudly present the next chapter of human history: lit waifu commissions from the world's smartest AI artist.")),c.a.createElement("p",{className:"intro-p"},"In less than 5 minutes, the artist learns your preferences to make the perfect waifu just for you."),c.a.createElement("p",{className:"intro-p"},"Made with \u2764\ufe0f by Sizigi Studios (",c.a.createElement("a",{target:"_blank",href:"https://twitter.com/SizigiStudios"},"@sizigistudios"),")"),c.a.createElement("p",{className:"intro-p"},c.a.createElement("a",{href:"https://www.patreon.com/bePatron?u=23037728",target:"_blank"},c.a.createElement("img",{height:40,style:{marginRight:10},src:"patreon_button.png",alt:"Support us on Patreon"})),c.a.createElement("a",{href:"https://ko-fi.com/B0B5106CI",target:"_blank"},c.a.createElement("img",{height:40,src:"kofi_button.png",alt:"Support us on Ko-fi"}))),c.a.createElement("a",{style:{marginTop:40},className:"button block blue",onClick:function(){return e.setState({step:1})}},c.a.createElement("div",{className:"button-content"},c.a.createElement("span",{className:"label"},"Meet your dream waifu"))),c.a.createElement("a",{style:{marginTop:20},className:"button block grey",href:"/blog/ax",target:"_blank"},c.a.createElement("div",{className:"button-content"},c.a.createElement("span",{className:"label"},"Bonus: Read the blog post"))))),c.a.createElement("a",{target:"_blank",href:"https://twitter.com/SizigiStudios"},c.a.createElement("img",{src:N.a,className:"sizigi"})),c.a.createElement(we,{isOpen:n,onClose:function(){return e.setState({whatModal:!1})}})):1===t?c.a.createElement(de,{onError:function(a){e.setState({error:a})},convertLoading:i,onConvert:function(){var a=Object(f.a)(g.a.mark(function a(t){return g.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e.convert(t);case 1:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}(),cancel:function(){return e.setState({step:0})}}):void 0}}]),a}(c.a.Component),we=function(e){var a=e.isOpen,t=e.onClose;return c.a.createElement(b.a,{icon:"info-sign",isOpen:a,onClose:t,title:"What is AI Art?"},c.a.createElement("div",{className:y.a.DIALOG_BODY},c.a.createElement("p",null,c.a.createElement("strong",null,"Welcome to the waifu vending machine!")),c.a.createElement("p",null,"We let a state-of-the-art artificial intelligence watch anime for about 120 years in machine time. After some gentle coaxing (and some sweat and tears), it learned how to draw anime of its own. Not just any anime: waifulicious, beautiful anime girl portraits."),c.a.createElement("p",null,"We're pleased to debut the work of this unsual creator in a waifu vending machine here at Anime Expo 2019."),c.a.createElement("p",null,"In this vending machine, you can use the custom waifu adoption option to commission personalized, one-of-a-kind portraits directly from our AI artist. You can also purchase card game products with 50+ unique, hand-selected illustrations, printed locally here in the USA."),c.a.createElement("p",null,"Your purchase helps support further research into the exciting world of AI anime art. Thank you for your patronage!")),c.a.createElement("div",{className:y.a.DIALOG_FOOTER},c.a.createElement("div",{className:y.a.DIALOG_FOOTER_ACTIONS},c.a.createElement(w.b,{onClick:t},"Close"))))},Se=ye;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a({dsn:"https://7f697400ec0f466fb1b6f040304b27c8@sentry.io/1511830"});var Ne=function(e){function a(){var e,t;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(t=Object(i.a)(this,(e=Object(o.a)(a)).call.apply(e,[this].concat(s)))).state={error:void 0,uid:void 0},t}return Object(s.a)(a,e),Object(n.a)(a,[{key:"componentDidCatch",value:function(e){this.setState({error:e})}},{key:"render",value:function(){var e=this,a=this.state,t=a.error,r=a.uid;return t?(console.error(t),c.a.createElement("div",{className:"App"},c.a.createElement(h.a,{in:!0,timeout:1e3,appear:!0,classNames:"cross-fade"},c.a.createElement(E.a,{icon:_.a.ERROR,title:"There was an Error but we can recover your waifu!",description:"Your user id is: ".concat(r)})))):c.a.createElement(Se,{onUid:function(a){return e.setState({uid:a})}})}}]),a}(c.a.Component);m.a.render(c.a.createElement(Ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},68:function(e,a,t){e.exports=t.p+"static/media/icon.c59c961c.png"}},[[177,1,2]]]);
//# sourceMappingURL=main.79fcedbd.chunk.js.map
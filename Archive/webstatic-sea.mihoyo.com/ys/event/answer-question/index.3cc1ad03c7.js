/*! Copyright © 2011 - 2021 miHoYo. All Rights Reserved */
(window.webpackJsonp=window.webpackJsonp||[]).push([["index"],{KcY4:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAh1BMVEUAAACKZkKKZkKKZkCLZEKLZkJ5WCqJZEGKZkKKZUGHZT6KZkGKZkGKZkKKZUGJZEGKZEGKZkKIYz6KZkGKZkGFXzyJZkGJZUGIZUCJY0GIZUCKZkGKZUGKZkGKZkGKZUKKZUGJZkGKZUKJZkGJZkKKZUGKZUGKZkGJZUCKZUGJZUGKZkGKZkKtwplbAAAALHRSTlMA9/EVBzAENft5C5jl1cg8JtsYzYcQTkcjHx2sQrixbN+ekH/rwKVnX1lUc+5tlzQAAAHUSURBVDjLdVPplqsgDAZUFgXcl9Zduzfv/3wXqJ47nXbyh3zLCUlE9BYlrWiJ/oxjwWYo4tX7LjcRmRIFOsGkyD7lZMYAWKxwWzgAWQ7vMmstGyWohxkFF+s14L88YCMXR5NOcHa3WctltzwMksJzUxBI6atfAkCY00MJp3GbLeCAtwa9lUBOHQm8Q1vUABDs4AbgvQzY37k7Bhzv4PBhKIUiQPJruO3tt6GeTitr4oWo4JeBO8OTR4cinZQ4DPj+08Ci0RpG/gzzZ1MnRe8XuDJMdm3dRLQW1KsFf6JxjQmXSVShhVzjkhbMjdlhSDGQFiFB+8HTUSiQrwngFE6BmyYl85kQFaLau6iHLA4dyuRp6mesXQ8eY2ZCJgf/NhzPuM10V2qVhKZ24AZmqvXtQdpy6eum0iLTsrGl2yn7uQcm066bh4g9pGq+Liq78FyMq+JL+G2TLr0Q+2w+vgUP0RYPAGA7SJzBnWLnYgDebDmNAJcuyQH6eKuK4fQq51caYNjeewoA58qZJeROvuWG0/sPEl6tRd1Nrxpag0eLc4v38G/KUOnoRSAyIa1cUfQW9GGLijuPI3thjT6DVjrNCMiQ2Ja/RxdfSVV/lfd2UUz9d+ofKDUuURVn9jUAAAAASUVORK5CYII="},Ri2c:function(t,e,n){"use strict";n.r(e);n("Vdqb");var o=n("i7/w"),i=n.n(o),a=n("mrSG"),r=(n("fWoQ"),n("Ogvq")),c=n("Z2Fq"),s=n("YKMj"),l=n("wQ6T"),u=n.n(l),f=n("K8cL"),p=n("De0g"),h=n("7U0V"),b=n("sXmF"),g=n("0mO8"),d=n.n(g),k=n("3eft"),y=n("KQFK"),v=n.n(y);function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function A(t,e){return(A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=S(t);if(e){var i=S(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return C(this,n)}}function C(t,e){return!e||"object"!==m(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var I={scrollPanel:{scrollingX:!1},bar:{keepShow:!0,background:"#CDC4B2"}},R=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}(a,t);var e,n,o,i=w(a);function a(){return O(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"handleClose",value:function(){Object(r.l)({showDialog:!1})}},{key:"render",value:function(){var t=arguments[0];return t("m-dialog",{class:[d.a.commonDialog,d.a["".concat(this.dialogType,"-dialog")],k.c?null:d.a.portrait],attrs:{value:this.showDialog}},["rule"===this.dialogType&&t("div",{class:d.a.dialogBody},[t("p",[this.$MI18N.WORD.rule_title]),t("div",{class:d.a.scroller},[t(v.a,{attrs:{ops:I}},[t("div",{class:d.a.content,domProps:{innerHTML:this.skinConfig.actRule}})])])]),t("div",{slot:"footer",class:[d.a.dialogClose,k.c?null:d.a["close-landscape"]],on:{click:this.handleClose}})])}}])&&j(e.prototype,n),o&&j(e,o),a}(i.a);Object(a.a)([Object(c.State)("showDialog")],R.prototype,"showDialog",void 0),Object(a.a)([Object(c.State)("dialogType")],R.prototype,"dialogType",void 0),Object(a.a)([Object(c.State)("skinConfig")],R.prototype,"skinConfig",void 0);var E=R=Object(a.a)([Object(s.a)({components:{mDialog:b.a,vuescroll:v.a}})],R),P=n("NsEo"),D=n("p46w"),L=n.n(D),$=n("Ugt/"),G=n.n($);function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function U(t,e){return(U=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function K(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=T(t);if(e){var i=T(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Z(this,n)}}function Z(t,e){return!e||"object"!==N(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&U(t,e)}(r,t);var e,o,i,a=K(r);function r(){var t;return _(this,r),(t=a.apply(this,arguments)).show=!0,t}return e=r,(o=[{key:"handleJumpApp",value:function(){this.$toBbsApp("webview?link=".concat(encodeURIComponent(window.location.href)),"ys")}},{key:"render",value:function(){var t=this,e=arguments[0];if(this.show)return e("div",{class:G.a.bbsHeader},[e("div",{class:G.a.left},[e("img",{attrs:{src:n("k5ct"),alt:""}}),e("span",["米哈游官方社区"])]),e("div",{class:G.a.right},[e("div",{class:G.a.app,on:{click:this.handleJumpApp}},["打开App"]),e("div",{class:G.a.close,on:{click:function(){t.show=!1}}},[e("img",{attrs:{src:n("gbFF"),alt:""}})])])])}}])&&x(e.prototype,o),i&&x(e,i),r}(i.a),M=Y=Object(a.a)([s.a],Y),B=n("Sqjp"),J=function(t){t.value=t.value||!0;var e=document.createElement("div");return document.body.appendChild(e),new Promise((function(n){new i.a({el:e,extends:B.a,propsData:t}).$on("input",(function(t){t&&n()}))}))},Q=n("j+mt"),W=n.n(Q);n("barP");function F(t){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function X(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(Object(n),!0).forEach((function(e){z(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H(t,e,n,o,i,a,r){try{var c=t[a](r),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(o,i)}function q(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var a=t.apply(e,n);function r(t){H(a,o,i,r,c,"next",t)}function c(t){H(a,o,i,r,c,"throw",t)}r(void 0)}))}}function tt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function et(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function nt(t,e){return(nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=at(t);if(e){var i=at(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return it(this,n)}}function it(t,e){return!e||"object"!==F(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function at(t){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var rt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nt(t,e)}(p,t);var e,n,o,i,a,c,s,l,f=ot(p);function p(){var t;return tt(this,p),(t=f.apply(this,arguments)).transitionName="",t.activeLang="",t.showSelect=!1,t.isShortScreen=document.documentElement.clientHeight/document.documentElement.clientWidth<=1.46,t}return e=p,(n=[{key:"created",value:(l=q(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:k.d&&"cookie_token"===this.token_type&&this.setLang(),this.init();case 2:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"init",value:(s=q(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(r.f)();case 2:if(document.title=this.skinConfig.seoTitle,this.initShare(),!(k.b&&+this.$bbsApp.appVersion.split(".")[0]<2)){t.next=9;break}return t.next=7,J({text:"当前App版本过低，</br>请点击确认后前往升级。"});case 7:return this.$bbsApp.closePage(),t.abrupt("return");case 9:if(t.prev=9,"cookie_token"!==this.token_type){t.next=17;break}return this.$accountRoleUtil.on("login",(function(t){var e=t.isLogin,n=t.userInfo;Object(r.l)({isLogin:e,userInfo:n})})),this.$accountRoleUtil.on("role",(function(t){var e=t.type,n=t.roleInfo;Object(r.l)({roleInfo:n,loginType:e})})),t.next=15,this.$accountRoleUtil.check();case 15:t.next=18;break;case 17:Object(r.l)({isLogin:!0});case 18:Object(r.i)(),Object(r.k)(),t.next=24;break;case 22:t.prev=22,t.t0=t.catch(9);case 24:case"end":return t.stop()}}),t,this,[[9,22]])}))),function(){return s.apply(this,arguments)})},{key:"initShare",value:function(){k.d||!k.c||k.b||W.a.initShare({scope:["wx","qq"],appId:"wxdcbfe83bad595fbe",wxDebug:!1,title:this.skinConfig.shareTitle,link:Object(P.e)(),desc:this.skinConfig.shareDesc,imgUrl:k.j.image_url})}},{key:"setLang",value:function(){this.activeLang=L.a.get("mi18nLang")||this.$MI18N.LANG}},{key:"handleShowRule",value:function(){this.$mia.trackEvent("Click","buttonClick","活动规则","",{actionId:4001,language:this.$MI18N.LANG}),this.$ga.trackEvent("Click","buttonClick","活动规则",""),Object(r.l)({showDialog:!0,dialogType:"rule"})}},{key:"handleBack",value:function(){this.$mia.trackEvent("Click","buttonClick","返回","",{actionId:4001,language:this.$MI18N.LANG}),this.$ga.trackEvent("Click","buttonClick","返回",""),this.isRootPath?this.$bbsApp.closePage():this.$router.back()}},{key:"handleSelectLang",value:function(t){this.$MI18N.setLang(t),this.activeLang=t,this.showSelect=!1;var e=X(X({},P.a),{},{lang:t}),n=Object.keys(e).reduce((function(t,n,o){return t.concat("".concat(0===o?"?":"&").concat(n,"=").concat(e[n]))}),"");window.location.search=n}},{key:"handleLogin",value:(c=q(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.$mia.trackEvent("Click","buttonClick","登录","",{actionId:4001,language:this.$MI18N.LANG}),this.$ga.trackEvent("Click","buttonClick","登录",""),t.next=4,this.$accountRoleUtil.show();case 4:Object(r.i)(),Object(r.k)();case 6:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"handleChangeRole",value:(a=q(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.$mia.trackEvent("Click","buttonClick","切换","",{actionId:4001,language:this.$MI18N.LANG}),this.$ga.trackEvent("Click","buttonClick","切换",""),t.next=4,this.$accountRoleUtil.showRoleSelector();case 4:this.isRootPath?Object(r.i)():this.$router.back(),Object(r.k)();case 6:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"handleLogout",value:(i=q(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.$mia.trackEvent("Click","buttonClick","注销","",{actionId:4001,language:this.$MI18N.LANG}),this.$ga.trackEvent("Click","buttonClick","注销",""),t.next=4,this.$accountRoleUtil.logout();case 4:Object(r.l)({pageInfo:{},checkInfo:{}}),this.isRootPath||this.$router.back();case 6:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"handleCloseSelectByOutside",value:function(){this.showSelect&&(this.showSelect=!1)}},{key:"handleJumpOuter",value:function(){this.$mia.trackEvent("Click","buttonClick","观测枢","",{actionId:4001,language:this.$MI18N.LANG}),this.$ga.trackEvent("Click","buttonClick","观测枢",""),Object(P.i)(this.$MI18N.WORD.link_gcs)}},{key:"handleShare",value:function(){this.$mia.trackEvent("Click","buttonClick","分享","true",{actionId:4001,language:this.$MI18N.LANG}),this.$ga.trackEvent("Click","buttonClick","分享","true");var t=this.skinConfig,e=t.shareTitle,n=t.shareDesc;this.$bbsApp.defaultShare({title:e,description:n,image_url:k.j.image_url,link:Object(P.e)()})}},{key:"handleChangeTransitionName",value:function(t,e){this.transitionName=t.meta.index>e.meta.index?"slide":""}},{key:"handleGetPageInfo",value:function(){this.isRootPath&&this.isLogin&&Object(r.i)()}},{key:"render",value:function(){var t,e,n,o,i=this,a=arguments[0];return a("div",{class:[u.a.homePage,this.isShortScreen?u.a.isShortScreen:null,"home-page"],style:{backgroundImage:"url('".concat(this.skinConfig.bg_mob,"')")}},["cookie_token"===this.token_type&&!k.d&&!k.b&&a("bbs-header"),a("div",{class:u.a.header},[a("div",{class:u.a.left},[(!this.isRootPath||k.b)&&a("div",{class:u.a.back,on:{click:this.handleBack}}),a("div",{class:u.a.info},[(t=a("span",{class:u.a.underline,on:{click:i.handleLogin}},[i.$MI18N.WORD.login]),e=a("span",{class:u.a.underline,on:{click:i.handleChangeRole}},[i.$MI18N.WORD.change_user]),n=a("span",{class:u.a.underline,on:{click:i.handleLogout}},[i.$MI18N.WORD.logout]),o=a("span",[i.pageInfo.nickname]),i.isLogin?[a("p",[o,"    ",i.isQaPath||"cookie_token"!==i.token_type||k.b?null:n]),a("p",[a("span",{class:u.a.uid},["UID：",i.pageInfo.uid]),"    ",i.isQaPath||"cookie_token"!==i.token_type||"account"!==i.loginType?null:e])]:a("p",[t]))])]),a("div",{class:u.a.right},[k.d&&"cookie_token"===this.token_type?a("div",{class:u.a.langSelect,style:{backgroundImage:"url('".concat(this.skinConfig.langIcon_mob,"')")},on:{click:function(){i.showSelect=!i.showSelect}},directives:[{name:"click-outside",value:this.handleCloseSelectByOutside}]},[this.showSelect&&a("div",{class:u.a.langs},[k.e.map((function(t){return a("div",{class:[u.a.lang,i.activeLang===t.value?u.a.active:null],on:{click:i.handleSelectLang.bind(i,t.value)}},[t.label])}))])]):null,!k.d&&a("div",{class:u.a.outer,style:{backgroundImage:"url('".concat(this.skinConfig.homeWatchIcon_mob,"')")},on:{click:this.handleJumpOuter}}),a("div",{class:u.a.rule,style:{backgroundImage:"url('".concat(this.skinConfig.homeRoleIcon_mob,"')")},on:{click:this.handleShowRule}}),k.b&&a("div",{class:u.a.share,on:{click:this.handleShare},style:{backgroundImage:"url('".concat(this.skinConfig.homeShareIcon_mob,"')")}})])]),a("div",{class:u.a.container},[a("div",{class:u.a.content},[a("div",{class:u.a.card},[a("transition",{attrs:{name:this.transitionName}},[a("keep-alive",{attrs:{include:["top"]}},[a("router-view")])])]),a("div",{class:u.a.mask})])]),a("common-dialog")])}},{key:"isRootPath",get:function(){return"/"===this.$route.path}},{key:"isQaPath",get:function(){return"/qa"===this.$route.path}}])&&et(e.prototype,n),o&&et(e,o),p}(i.a);Object(a.a)([Object(c.State)("loginType")],rt.prototype,"loginType",void 0),Object(a.a)([Object(c.State)("skinConfig")],rt.prototype,"skinConfig",void 0),Object(a.a)([Object(c.State)("isLogin")],rt.prototype,"isLogin",void 0),Object(a.a)([Object(c.State)("token_type")],rt.prototype,"token_type",void 0),Object(a.a)([Object(c.State)("roleInfo")],rt.prototype,"roleInfo",void 0),Object(a.a)([Object(c.State)("userInfo")],rt.prototype,"userInfo",void 0),Object(a.a)([Object(c.State)("checkInfo")],rt.prototype,"checkInfo",void 0),Object(a.a)([Object(c.State)("pageInfo")],rt.prototype,"pageInfo",void 0),Object(a.a)([Object(s.c)("$route")],rt.prototype,"handleChangeTransitionName",null),Object(a.a)([Object(s.c)("$route")],rt.prototype,"handleGetPageInfo",null);var ct=rt=Object(a.a)([Object(s.a)({components:{top:f.a,qa:p.a,result:h.a,commonDialog:E,bbsHeader:M}})],rt),st=n("X9AP"),lt=n("fdkR"),ut=n.n(lt);function ft(t){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pt(Object(n),!0).forEach((function(e){bt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function bt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gt(t,e,n,o,i,a,r){try{var c=t[a](r),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(o,i)}function dt(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var a=t.apply(e,n);function r(t){gt(a,o,i,r,c,"next",t)}function c(t){gt(a,o,i,r,c,"throw",t)}r(void 0)}))}}function kt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function vt(t,e){return(vt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=jt(t);if(e){var i=jt(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Ot(this,n)}}function Ot(t,e){return!e||"object"!==ft(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jt(t){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var At=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vt(t,e)}(f,t);var e,o,i,a,c,s,l,u=mt(f);function f(){var t;return kt(this,f),(t=u.apply(this,arguments)).transitionName="",t.activeLang="",t.showSelect=!1,t}return e=f,(o=[{key:"created",value:function(){k.d&&"cookie_token"===this.token_type&&this.setLang(),this.init()}},{key:"init",value:(l=dt(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(r.f)();case 3:if(document.title=this.skinConfig.seoTitle,"cookie_token"!==this.token_type){t.next=11;break}return this.$accountRoleUtil.on("login",(function(t){var e=t.isLogin,n=t.userInfo;Object(r.l)({isLogin:e,userInfo:n})})),this.$accountRoleUtil.on("role",(function(t){var e=t.type,n=t.roleInfo;Object(r.l)({roleInfo:n,loginType:e})})),t.next=9,this.$accountRoleUtil.check();case 9:t.next=12;break;case 11:Object(r.l)({isLogin:!0});case 12:Object(r.i)(),Object(r.k)(),t.next=18;break;case 16:t.prev=16,t.t0=t.catch(0);case 18:case"end":return t.stop()}}),t,this,[[0,16]])}))),function(){return l.apply(this,arguments)})},{key:"setLang",value:function(){this.activeLang=L.a.get("mi18nLang")||this.$MI18N.LANG}},{key:"handleShowRule",value:function(){this.$mia.trackEvent("Click","buttonClick","活动规则","",{actionId:4001,language:this.$MI18N.LANG}),this.$ga.trackEvent("Click","buttonClick","活动规则",""),Object(r.l)({showDialog:!0,dialogType:"rule"})}},{key:"handleBack",value:function(){this.$mia.trackEvent("Click","buttonClick","返回","",{actionId:4001,language:this.$MI18N.LANG}),this.$ga.trackEvent("Click","buttonClick","返回",""),this.$router.back()}},{key:"handleSelectLang",value:function(t){this.$MI18N.setLang(t),this.activeLang=t,this.showSelect=!1;var e=ht(ht({},P.a),{},{lang:t}),n=Object.keys(e).reduce((function(t,n,o){return t.concat("".concat(0===o?"?":"&").concat(n,"=").concat(e[n]))}),"");window.location.search=n}},{key:"handleLogin",value:(s=dt(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.$mia.trackEvent("Click","buttonClick","登录","",{actionId:4001,language:this.$MI18N.LANG}),this.$ga.trackEvent("Click","buttonClick","登录",""),t.next=4,this.$accountRoleUtil.show();case 4:Object(r.i)(),Object(r.k)();case 6:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"handleChangeRole",value:(c=dt(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.$mia.trackEvent("Click","buttonClick","切换","",{actionId:4001,language:this.$MI18N.LANG}),this.$ga.trackEvent("Click","buttonClick","切换",""),t.next=4,this.$accountRoleUtil.showRoleSelector();case 4:this.isRootPath?Object(r.i)():this.$router.back(),Object(r.k)();case 6:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"handleLogout",value:(a=dt(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.$mia.trackEvent("Click","buttonClick","注销","",{actionId:4001,language:this.$MI18N.LANG}),this.$ga.trackEvent("Click","buttonClick","注销",""),t.next=4,this.$accountRoleUtil.logout();case 4:Object(r.l)({pageInfo:{},checkInfo:{}}),this.isRootPath||this.$router.back();case 6:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"handleCloseSelectByOutside",value:function(){this.showSelect&&(this.showSelect=!1)}},{key:"handleJumpOuter",value:function(){this.$mia.trackEvent("Click","buttonClick","观测枢","",{actionId:4001,language:this.$MI18N.LANG}),this.$ga.trackEvent("Click","buttonClick","观测枢",""),Object(P.i)(this.$MI18N.WORD.link_gcs)}},{key:"handleChangeTransitionName",value:function(t,e){this.transitionName=t.meta.index>e.meta.index?"slide":""}},{key:"handleGetPageInfo",value:function(){this.isRootPath&&this.isLogin&&Object(r.i)()}},{key:"render",value:function(){var t,e,o,i,a=this,r=arguments[0];return r("div",{class:[ut.a.gamePage,"game-page"],style:{backgroundImage:"url('".concat(this.skinConfig.bg_pc,"')")}},[r("div",{class:ut.a.container},[r("div",{class:ut.a.header},[r("div",{class:ut.a.left},[!this.isRootPath&&r("div",{class:ut.a.back,on:{click:this.handleBack}}),r("div",{class:ut.a.info},[(t=r("span",{class:ut.a.underline,on:{click:a.handleLogin}},[a.$MI18N.WORD.login]),e=r("span",{class:ut.a.underline,on:{click:a.handleChangeRole}},[a.$MI18N.WORD.change_user]),o=r("span",{class:ut.a.underline,on:{click:a.handleLogout}},[a.$MI18N.WORD.logout]),i=r("span",[a.pageInfo.nickname]),a.isLogin?[r("p",[i,"    ",a.isQaPath||"cookie_token"!==a.token_type?null:o]),r("p",[r("span",{class:ut.a.uid},["UID：",a.pageInfo.uid]),"    ",a.isQaPath||"cookie_token"!==a.token_type||"account"!==a.loginType?null:e])]:r("p",[t]))])]),r("div",{class:ut.a.right},[k.d&&"cookie_token"===this.token_type?r("div",{class:ut.a.langSelect,on:{click:function(){a.showSelect=!a.showSelect}},directives:[{name:"click-outside",value:this.handleCloseSelectByOutside}],style:{backgroundImage:"url('".concat(this.skinConfig.langIcon_pc,"')")}},[this.showSelect&&r("div",{class:ut.a.langs},[k.e.map((function(t){return r("div",{class:[ut.a.lang,a.activeLang===t.value?ut.a.active:null],on:{click:a.handleSelectLang.bind(a,t.value)}},[t.label])}))])]):null,!k.d&&r("div",{class:ut.a.outer,on:{click:this.handleJumpOuter}},[r("img",{attrs:{src:n("KcY4"),alt:""}}),r("span",[this.$MI18N.WORD.pc_outer])]),r("div",{class:[ut.a.rule,k.d?ut.a.longer:null],on:{click:this.handleShowRule}},[r("img",{attrs:{src:n("bgvP"),alt:""}}),r("span",[this.$MI18N.WORD.rule_title])])])]),r("div",{class:ut.a.content},[r("div",{class:ut.a.card},[r("transition",{attrs:{name:this.transitionName}},[r("keep-alive",{attrs:{include:["top"]}},[r("router-view")])])]),r("div",{class:ut.a.mask})])]),r("common-dialog")])}},{key:"isRootPath",get:function(){return"/"===this.$route.path}},{key:"isQaPath",get:function(){return"/qa"===this.$route.path}}])&&yt(e.prototype,o),i&&yt(e,i),f}(i.a);Object(a.a)([Object(c.State)("isLogin")],At.prototype,"isLogin",void 0),Object(a.a)([Object(c.State)("token_type")],At.prototype,"token_type",void 0),Object(a.a)([Object(c.State)("loginType")],At.prototype,"loginType",void 0),Object(a.a)([Object(c.State)("roleInfo")],At.prototype,"roleInfo",void 0),Object(a.a)([Object(c.State)("userInfo")],At.prototype,"userInfo",void 0),Object(a.a)([Object(c.State)("checkInfo")],At.prototype,"checkInfo",void 0),Object(a.a)([Object(c.State)("pageInfo")],At.prototype,"pageInfo",void 0),Object(a.a)([Object(c.State)("skinConfig")],At.prototype,"skinConfig",void 0),Object(a.a)([Object(s.c)("$route")],At.prototype,"handleChangeTransitionName",null),Object(a.a)([Object(s.c)("$route")],At.prototype,"handleGetPageInfo",null);var wt=At=Object(a.a)([Object(s.a)({components:{commonDialog:E}})],At),Ct=n("jE9Z"),St=n("UZFU"),It=n("HIu4"),Rt=n.n(It),Et=n("3I2J"),Pt=n.n(Et),Dt=n("P/Eu");i.a.use(Ct.a);var Lt=function(t){i.a.use(window.miHoYoAnalysis,{appId:"58",type:"event",router:St.a,isSea:k.d,pageExtrainfo:{isApp:k.b?"bbs":"false"},eventExtrainfo:{actionId:2004,language:i.a.prototype.$MI18N.LANG}}),i.a.use(Rt.a,{siteId:k.d?"G-88EC1VG6YY":"G-HKTGWLY8PN",router:St.a});var e={el:"#app",store:r.a,router:St.a,render:function(e){return e(t)}};new i.a(e)};if(Pt.a.ps()){Object(st.a)({widthParam:1920});var $t={el:"#app",store:r.a,render:function(t){return t(Dt.a)}};new i.a($t)}else k.c?(window.document.documentElement.setAttribute("data-device","mobile"),Object(st.a)({widthParam:750}),Lt(ct)):(window.document.documentElement.setAttribute("data-device","pc"),Object(st.a)({widthParam:1920}),Lt(wt))},bgvP:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAb1BMVEUAAACDXz2EYD6EYD6BXT99Wz6EYD6EYT6EYD6EYT6EYT+EYD2EYT+EYD6EYT6DYD+EYD2EYT2EYT+EYD6EYT99XjGEYT+DYD+CXj2AYT2EYD6EYD6EYT6EXz2EYD+DYD6EYD+DYD6DXzqJZECEYT+FS05KAAAAJHRSTlMANaXbLAbSyqypenDXc2SEYFr749AL9j0XEMOcUEq3lGpSIxyIlXzEAAABGklEQVQ4y5VT2Y7DIAzcQAK576ZNjz3n/79xrRDjElVCnQewGGNjj/l4B2lTWK1t0aSv2Kyf4WGH7MgnBoBWZduWSgMwSchXI6D8WaKAsXrmO6BOgoA10D3dB/JTGPKUA5V3J36vo8vV9+ps8uCgBnW2FXIDCNPDlVXDOL5n10/A3PIFOHPgfjNmKD4oafszfFNh3vL6XNXAjr9spLQ1mMICVn9jQkNr4TIIeowr5yhotSgD/mehY4cSllaN9tBUfdntFlochL8SLw6HFBfgi5XmFMEjH1iY50eGZabLlU0ukxvFKnIAbhS3mpFuR9JqEcvhzEqxWCK3wx240yZyy8DsGEgwGZjYyMWHNj728Y8jyAb74uvFP28c/x+xHC6/Kx/0AAAAAElFTkSuQmCC"},gbFF:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKBAMAAAB/HNKOAAAAFVBMVEUAAABkZGRkZGRmZmZlZWVmZmZlZWXJ3BMQAAAAB3RSTlMASkXo59PU/3k7iAAAADNJREFUCNdjCGJgYBBlEFZgYHRiYDQCMRiEFY2AgozGCiDSGUSKAEWACkCyIgpAZWBdYgB5pgQODl2E1wAAAABJRU5ErkJggg=="},"i7/w":function(t,e){t.exports=Vue}},[["Ri2c","manifest","vendors","runtime","styles"]]]);
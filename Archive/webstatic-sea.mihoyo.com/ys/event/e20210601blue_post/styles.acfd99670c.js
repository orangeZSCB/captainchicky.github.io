/*! Copyright Â© 2011 - 2021 miHoYo. All Rights Reserved */
(window.webpackJsonp=window.webpackJsonp||[]).push([["styles"],{"0q1/":function(t,e,r){},"6J68":function(t,e,r){},"71PH":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"update",class:[t.$isMob?"mob":"pc",t.$store.state.isFetchChannel?"hide":""]},[r("div",{ref:"swiper",staticClass:"update-wrapper swiper-container",style:{width:t.layoutWidth+"rem"}},[r("div",{staticClass:"update-content swiper-wrapper"},t._l(t.relList,(function(e,n){return r("div",{key:e.id,staticClass:"swiper-slide update-item",class:0===n?"first":""},[e.time&&e.banner?[r("p",{staticClass:"update-item__title no-action no-select"},[r("span",[t._v(t._s(e.time))]),t._v(" "),r("span",{staticClass:"line"})]),t._v(" "),r("div",{staticClass:"update-item__img cover",style:{backgroundImage:"url("+e.banner+")"},on:{click:function(r){return t.goChannel(e)}}})]:t._e()],2)})),0),t._v(" "),t.isFirst?t._e():r("div",{staticClass:"update-btn update-btn__prev contain",on:{click:function(e){return t.changeSwiper(1)}}}),t._v(" "),t.isLast?t._e():r("div",{staticClass:"update-btn update-btn__next contain",class:t.$store.state.isLongScreen?"long":"",on:{click:function(e){return t.changeSwiper(2)}}})]),t._v(" "),r("div",{staticClass:"update-info"},[r("p",{staticClass:"update-info__title"},[t._v(t._s(t.curActiveItem.title))]),t._v(" "),r("p",{staticClass:"update-info__line"}),t._v(" "),r("div",{staticClass:"update-info__desc no-scrollbar"},[r("div",{staticClass:"update-info__content",domProps:{innerHTML:t._s(t.formatDesc)}})])]),t._v(" "),r("transition",{attrs:{name:"fade"}},[t.$store.state.isFetchChannel?r("loading",{staticClass:"update-loading"}):t._e()],1)],1)};n._withStripped=!0;var i=r("LvDl"),s=r("zhVY"),o=r("QhvS"),a=r("uCx3"),c=r("v5Oy"),l=r("3eft");function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach((function(e){d(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f(t){return function(t){if(Array.isArray(t))return m(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return m(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var g={name:"update",mixins:[o.a],components:{Loading:c.a},data:function(){return{startPageXIndex:0,isFirst:!0,isLast:!1}},computed:{formatDesc:function(){if(!this.curActiveItem.desc)return"";var t='<div id="more" class="update-info__more"><span class="update-info__more-txt no-action">'.concat(this.$MI18N.WORD.moreTxt,'</span><img class="update-info__more-icon no-action" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAMAAADzN3VRAAAAolBMVEW4mnsAAAC4mHq4mXq3l3m4mXq3mHnWxLG3mnm1i3D18ObDqI24mHu4mXu4mXr28urz7OPv59vJsJfBpIi8oIO6m364mXq4mXq5mXq3mXm5l3u3l3m4m3a2k3Hk2MnFrJK4mHq5mXvw6d/n3M7dz77QvKbKs5u5mXu4mXq4mnu3mHm5mHqyk3Tr4dXq4dTp39Hg0sPcy7m4l3m2l3n49Oz49e1oVvNjAAAANHRSTlOmAKqlpIk7ySMI+LCMhoL79O23rqqnlHRqUCwZFQ3csp+d7+HUwbmge29SRRDn5uXX0WVlrsLw5gAAAS1JREFUKM9tkueugzAMRk1swqal0LK7d3t3eP9Xu0ZJhFT1+xFF58iK5RgcnU5W7ha3biU7Q7TpaxcEcPh0634yfqq5calvTbMy3LpVo41vxZSVP5o+tWKKSHs2NbxL7UAXC0CiiREhF8UdSACMvAWh5kgLb0OsJFSC8mwWejAqPry52ucIooIYaDNXanZcsqLlz4zvEQLzHQB4oVJqXRAVa75wPWcLrIFOXDV8RdGBxfyEzJjv9LMZsywb1LA/E3CYu7rV6HNQYz42ukvmf0KrfD2KQ05mCr8gEbQqjmH4XRgBKOFpx4bLxZk7NyXJE5wHmOA4F5sHTzQo38y6DNg4rStehdvqP/UTq+wjvt2D9oZi4nRrp90J5PUiNL9cZWB3R7vmXiZxUt6bwJB/0WEVVQtMAh0AAAAASUVORK5CYII=" class="update-info__more-icon"></div>');return"".concat(this.curActiveItem.desc).concat(t)},list:function(){return this.$store.state.curChannelInfo?this.$store.state.curChannelInfo.content_list.map(this.formatItem):[]},relList:function(){var t=this.list.length;if(1===t)return this.list;var e=this.$isMob?3.21:3.38,r=this.getLayoutWidth(),n=Math.floor(r/(1.1*e)),i=f(this.list);if(n+1>t)for(var s=n,o=0;o<s;o++)i.push({});return i},curActiveItem:function(){return this.list[this.startPageXIndex]||{title:"",desc:""}}},mounted:function(){this.handleResizeFn=Object(i.debounce)(this.handleResize.bind(this),400)},watch:{"$frame.layoutStateRem":{handler:function(){this.handleResizeFn()}},"$store.state.isLongScreen":{handler:function(){this.handleResizeFn()}},relList:{handler:function(){this.handleResize()},immediate:!0},curActiveItem:{handler:function(){var t=this;this.$nextTick((function(){t.addMoreEvents(),t.checkDesc()}))},immediate:!0}},methods:{checkDesc:function(){var t=this;setTimeout((function(){var e=Object(a.c)(".update-info__desc");if(e&&e.classList){var r=e.clientHeight,n=Object(a.c)(".update-info__content");t.$nextTick((function(){r<n.offsetHeight&&e.classList.add("ellipsis")})),r<n.offsetHeight?e.classList.add("ellipsis"):e.classList.remove("ellipsis")}}),20)},addMoreEvents:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=Object(a.c)(".update-info__desc");e&&(e.removeEventListener("click",this.handleMoreClick),t||e.addEventListener("click",this.handleMoreClick))},handleMoreClick:function(t){"more"===(t.target||t.srcElement).id&&this.goChannel(this.curActiveItem)},goChannel:function(t){var e=t.id,r=t.moduleId,n=l.b[r];this.$router.push({name:n,params:{articleId:e}})},handleResize:function(){var t=this;if(this.list.length){var e=this.getLayoutWidth();this.isFirst=this.list.length<=1||!0,this.isLast=this.list.length<=1||!1,this.$nextTick((function(){t.initSlide(e)}))}},changeSwiper:function(t){this.scroll&&(1!==t?this.scroll.slideNext():this.scroll.slidePrev())},initSlide:function(t){var e=this;this.scroll&&this.scroll.destroy&&this.scroll.destroy(!1,!0);var r=this.relList.length===this.list.length&&this.list.length>1;this.scroll=new s.Swiper(this.$refs.swiper,{width:this.getPxFromRem(t),direction:"horizontal",slidesPerView:"auto",simulateTouch:r,spaceBetween:this.getPxFromRem(.22),slidesOffsetBefore:this.getPxFromRem(.68),loop:r,allowTouchMove:this.list.length>1,eventClasses:["update-item__img"],observer:!0,observerParents:!0,observerSlideChildren:!0,on:{slideChange:function(){e.scroll&&(e.startPageXIndex=e.scroll.realIndex,e.isFirst=!r&&0===e.startPageXIndex,e.isLast=!r&&e.startPageXIndex===e.list.length-1,e.scroll.allowSlideNext=!e.isLast,e.scroll.allowSlidePrev=!e.isFirst)}}})},formatItem:function(t){var e=this.$getExtConfig(t);return{banner:this.$getKeyFromObj(e.banner,"[0].url",""),id:t.id,desc:e.desc,moduleId:e.moduleId,title:t.title,time:this.$MI18N.getLocaleText({key:"dateTxt",data:u({},this.$getFilterTime(t.start_time))})}}},beforeDestroy:function(){this.addMoreEvents(!0)}},p=(r("f18m"),r("jj3W"),r("KHd+")),v=Object(p.a)(g,n,[],!1,null,"b1adb230",null);v.options.__file="src/components/parts/update.vue";e.default=v.exports},"8SvF":function(t,e,r){},CNWZ:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rich-wrap",class:[t.$isMob?"mob":"pc",t.showSwitchBtns?"":"fixed",t.$isPs?"ps":""],style:t.wrapStyle},[t.showTab?n("tab",{staticClass:"rich-tab",attrs:{"is-fixed":!1,"tab-info":t.$store.getters.curTabList}}):t._e(),t._v(" "),n("div",{staticClass:"rich-container",class:[t.needHide?"hide":""],on:{click:function(e){return t.navTo(e)}}},[t.showScrollMain&&t.$store.state.curChannelInfo?n("vue-scroll",{ref:"richWrap",attrs:{ops:t.scrollOps},on:{"handle-scroll":t.handleScroll}},[n("div",{staticClass:"rich-top"},[n("p",{staticClass:"rich-top__title",style:t.contentTitleStyle},[t._v(t._s(t.curActiveItem.title))]),t._v(" "),n("p",{staticClass:"rich-top__time",style:t.timeTxtStyle},[t._v(t._s(t.curActiveItem.time))])]),t._v(" "),n("div",{ref:"richText",staticClass:"rich-text",style:t.contentTxtStyle,domProps:{innerHTML:t._s(t.curActiveItem.content)}}),t._v(" "),t.curActiveItem&&t.checkFeedback()?n("feedback",{staticClass:"rich-feedback",attrs:{id:t.curActiveItem.id}}):t._e(),t._v(" "),t.curLocation.isLast?t._e():n("div",{staticClass:"rich-line half"}),t._v(" "),t.curLocation.isLast?t._e():n("div",{staticClass:"rich-nextpage",on:{click:t.goNext}},[n("span",{staticClass:"rich-nextpage__txt no-action",style:t.nextPageStyle},[t._v(t._s(t.$MI18N.WORD.goNext))]),t._v(" "),n("img",{staticClass:"rich-nextpage__icon no-action",attrs:{src:r("jrj4")}})])],1):t._e()],1),t._v(" "),t.isHandling||!t.$store.state.curChannelInfo||t.$store.state.isFetchChannel?t._e():n("div",{staticClass:"rich-anchors",class:t.showSwitchBtns?"full":""},[t._l(t.anchors,(function(e,i){return n("div",{key:i,staticClass:"rich-anchor",class:[t.anchorIndex===i?"active":"",t.anchorIndex===i&&t.showAnchorTxt?"long":""],style:t.getRelStyle(t.anchorIndex===i),on:{click:function(r){return t.goPos(e,i)}}},[n("transition",{attrs:{name:"fade"}},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.anchorIndex===i&&t.showAnchorTxt||t.showSwitchBtns,expression:"(anchorIndex === idx && showAnchorTxt) || showSwitchBtns"}],staticClass:"rich-anchor__txt",style:t.anchorTxtStyle},[t._v(t._s(e.name))])]),t._v(" "),n("div",{staticClass:"rich-anchor__icon contain"}),t._v(" "),n("img",{staticClass:"rich-anchor__line",attrs:{src:r("Pkvn")}})],1)})),t._v(" "),n("back-top",{staticClass:"rich-anchor__top",on:{back:t.goTop}})],2),t._v(" "),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showSwitchBtns&&!t.isHandling&&(!t.curLocation.isFirst||!t.curLocation.isLast),expression:"showSwitchBtns && !isHandling && (!curLocation.isFirst || !curLocation.isLast)"}],staticClass:"rich-switch"},[t.curLocation.isFirst?t._e():n("div",{staticClass:"rich-switch__btn rich-switch__btn-prev contain",on:{click:t.goPrev}}),t._v(" "),t.curLocation.isLast?t._e():n("div",{staticClass:"rich-switch__btn rich-switch__btn-next contain",on:{click:t.goNext}})])]),t._v(" "),t.isHandling||t.$store.state.isFetchChannel?n("div",{staticClass:"rich-loading",class:t.showTab&&!t.$store.state.isFetchChannel?"short":"normal"},[n("img",{staticClass:"rich-loading__img",attrs:{src:t.$isImg(t.$MI18N.WORD.loadingGif)?t.$MI18N.WORD.loadingGif:r("Ysu4")}})]):t._e(),t._v(" "),t.isHandling||t.curActiveItem.title||t.curActiveItem.content?t._e():n("empty")],1)};n._withStripped=!0;var i=r("LvDl"),s=r("QhvS"),o=r("NsEo"),a=r("uCx3"),c=r("3eft"),l=r("ULLu"),h=r("BW64"),u=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"backtop contain can-action",style:this.$setConfigBg(this.$MI18N.WORD,"backTopIcon"),on:{click:this.goTop}})};u._withStripped=!0;var d={name:"backtop",methods:{goTop:function(){this.$emit("back")}}},f=(r("pPkz"),r("KHd+")),m=Object(f.a)(d,u,[],!1,null,"2aebd7fa",null);m.options.__file="src/components/common/backtop.vue";var g=m.exports,p=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"feedback contain",class:t.$isMob?"mob":"pc",style:t.bgStyle},[t.hasAnswer?r("p",{staticClass:"feedback-anws no-wrap",style:t.survryTxtStyle},[t._v(t._s(t.$MI18N.WORD.thanks))]):r("div",{staticClass:"feedback-noans"},[r("p",{staticClass:"feedback-txt",style:t.survryTxtStyle},[t._v(t._s(t.$MI18N.WORD.helpTip))]),t._v(" "),r("div",{staticClass:"feedback-btns"},[r("hover-img",{staticClass:"feedback-btn no-wrap",attrs:{type:"color","bg-color":t.surveryBtnBg.bg,"bg-color-hover":t.surveryBtnBg.bgHover,"border-color":t.surveryBtnTextStyle.borderColor},nativeOn:{click:function(e){return t.toAnswer(1)}}},[r("span",{staticClass:"feedback-btn__txt",style:t.surveryBtnTextStyle},[t._v(t._s(t.$MI18N.WORD.yes))])]),t._v(" "),r("hover-img",{staticClass:"feedback-btn feedback-btn__no no-wrap",attrs:{type:"color","bg-color":t.surveryBtnBg.bg,"bg-color-hover":t.surveryBtnBg.bgHover,"border-color":t.surveryBtnTextStyle.borderColor},nativeOn:{click:function(e){return t.toAnswer(2)}}},[r("span",{staticClass:"feedback-btn__txt",style:t.surveryBtnTextStyle},[t._v(t._s(t.$MI18N.WORD.no))])])],1)])])};p._withStripped=!0;var v=r("TZpB"),b=r.n(v),y=r("gjeX"),_=r.n(y),w=r("gbaR");function S(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,s=t}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return O(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $(t,e,r,n,i,s,o){try{var a=t[s](o),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(n,i)}var x={name:"feedback",props:{id:{type:Number}},components:{hoverImg:w.a},data:function(){return{hasAnswer:!1,isXhr:!1}},methods:{toAnswer:function(t){var e,r=this;return(e=regeneratorRuntime.mark((function e(){var n,i,s,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.hasAnswer=!r.hasAnswer,r.id&&!r.isXhr){e.next=3;break}return e.abrupt("return");case 3:return r.isXhr=!0,n=r.$store.state.curRoute.meta.channel_id,e.next=7,b.a.getVisitorId();case 7:return i=e.sent,e.next=10,r.$store.dispatch("fetchArticle",{params:{lang:r.$store.state.activeLang,page_sn:r.$store.state.pageSn||""},access_id:i,assess:t,channel_id:n,content_id:r.id,sign:_()("".concat(n,":bca57c7c37aa:").concat(r.id,":").concat(t,":").concat(i)),errorToast:!1});case 10:if(s=e.sent,o=S(s,1),a=o[0],r.isXhr=!1,!a){e.next=16;break}return e.abrupt("return");case 16:r.syncStorage(n);case 17:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(t){$(s,n,i,o,a,"next",t)}function a(t){$(s,n,i,o,a,"throw",t)}o(void 0)}))})()},syncStorage:function(t){var e=this.$getStorage(c.e)||{};e["".concat(this.$store.state.pageSn,"_").concat(t,"_").concat(this.id)]=1,this.$setStorage(c.e,e)}},watch:{id:function(){this.hasAnswer=!1}},computed:{surveryBtnTextStyle:function(){var t=this.$store.getters.configStyle,e=this.$getKeyFromObj(t,"surveryBtnText");return this.$getConfigFmtStyle(e,20/24)},survryTxtStyle:function(){var t=this.$store.getters.configStyle,e=this.$getKeyFromObj(t,"surveryText");return this.$getConfigFmtStyle(e,20/24)},surveryBtnBg:function(){var t=this.$store.getters.configStyle,e=this.$getKeyFromObj(t,"surveryDefault"),r=this.$getKeyFromObj(t,"surveryHover");return{bg:e.backgroundColor,bgHover:r.backgroundColor}},bgStyle:function(){var t=this.$isMob?this.$MI18N.WORD.feedbackBgMob:this.$MI18N.WORD.feedbackBg,e=this.$isMob?r("718D"):r("EQXq"),n=this.$isImg(t)?t:e;return{backgroundImage:"url(".concat(n,")")}}}},C=(r("qOFz"),Object(f.a)(x,p,[],!1,null,"3a3be0c9",null));C.options.__file="src/components/common/feedback.vue";var T=C.exports,I=r("Lbfe");function j(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function k(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?j(Object(r),!0).forEach((function(e){P(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function P(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var R={name:"rich-text",mixins:[s.a,s.c,s.b],data:function(){return{isHandling:!0,scrollOps:null,anchors:[],anchorIndex:0,anchorTxtIndex:-1,showAnchorTxt:!0,curTop:-1,prevTop:-1,showSwitchBtns:!0,showScrollMain:!1,isChangingChannel:!0,cliHeight:0,mainViewHeight:0}},computed:{needHide:function(){return this.isHandling||!this.isHandling&&this.isChangingChannel||this.$store.state.isFetchChannel},showTab:function(){return!this.$store.state.hideBrandNav&&!this.isChangingChannel&&this.$store.getters.curTabList.type},wrapStyle:function(){return{width:this.layoutWidth,height:"".concat(this.contentHeight,"px")}},configStyle:function(){var t=this.$getKeyFromObj(this.$store.getters,"configStyle",{}),e=Object(o.f)(this.$getKeyFromObj(this.$store.state,"curChannelInfo.scheme_config",""));return k(k({},t),e)},anchorRange:function(){return this.anchors.map((function(t){return t.top}))},anchorTxtStyle:function(){var t=this.$getKeyFromObj(this.configStyle,"richSecondText");return this.$getConfigFmtStyle(t,.9)},anchorBgStyle:function(){return this.$getKeyFromObj(this.configStyle,"richSecondTextDefaultBg")},anchorBgActiveStyle:function(){return this.$getKeyFromObj(this.configStyle,"richSecondTextSelectBg")},timeTxtStyle:function(){var t=this.$getKeyFromObj(this.configStyle,"richTimeText");return this.$getConfigFmtStyle(t,18/22)},contentTxtStyle:function(){var t=this.$getKeyFromObj(this.configStyle,"richContentText");return this.$getConfigFmtStyle(t,{fontSize:22/26,lineHeight:.95})},nextPageStyle:function(){var t=this.$getKeyFromObj(this.configStyle,"clickToNextPage");return this.$getConfigFmtStyle(t,20/22)},contentTitleStyle:function(){var t=this.$getKeyFromObj(this.configStyle,"richContentTitle");return this.$getConfigFmtStyle(t,1)},curActiveItem:function(){var t=this.$store.state,e=t.curChannelInfo,r=void 0===e?{}:e,n=t.curTabIndex,i=this.$getKeyFromObj(r,"content_list[".concat(n,"]"),{});try{i.content=decodeURIComponent(i.content||"")}catch(t){}var s=this.$getFilterTime(i.start_time),o=s.year,a=s.month,c=s.day;return i.time=this.$isSea?this.$MI18N.getLocaleText({key:"dateTxt",data:{year:o,month:a,day:c}}):"".concat(o,"-").concat(a,"-").concat(c),i},curLocation:function(){var t=this.$store.state.curTabIndex;return{isFirst:0===t,isLast:t>=this.$getKeyFromObj(this.$store.getters,"curTabList.list",[]).length-1}}},watch:{wrapStyle:"updateScroll",isHandling:"updateScroll",anchorIndex:"handleAnchorChange",curActiveItem:{handler:"startHandleContent",immediate:!0},"$store.state.curTabIndex":{handler:function(){this.$refs.richWrap&&(this.preventScrollHandler=!0)}},$route:function(t,e){this.$getKeyFromObj(t,"meta.channel_id","")!==this.$getKeyFromObj(e,"meta.channel_id","")&&this.$store.state.curChannelInfo&&(this.isHandling=!0,this.isChangingChannel=!0)}},mounted:function(){this.initScroll()},methods:{navTo:function(t){if(this.$isBBs||this.$isGame){t.preventDefault&&t.preventDefault();var e=Object(a.a)(t.target);e&&e.getAttribute("href")&&this.navigateTo(e.getAttribute("href"))}},startHandleContent:function(t,e){var r=this;if(this.$getKeyFromObj(e,"id","")!==this.$getKeyFromObj(t,"id","")){var n=this.curActiveItem||{},i=n.content,s=n.title;(i||s)&&(this.isHandling=!0,this.isChangingChannel&&this.$store.commit("setHideBrandNav",!1),setTimeout((function(){r.showScrollMain=!0,r.$nextTick((function(){r.handleRichText()}))})))}},initScroll:function(){var t=this;this.$nextTick((function(){t.scrollOps={vuescroll:{mode:"native",locking:!0,detectResize:!0,sizeStrategy:"number"},background:"transparent",scrollPanel:{scrollingY:!0,scrollingX:!1,maxHeight:t.contentHeight-t.getPxFromRem(t.$isMob?.82:.92)},bar:{background:t.getScrollBarColor()||"rgb(192, 182, 170)",size:"".concat(t.getPxFromRem(.04),"px"),keepShow:!1,opacity:.35,specifyBorderRadius:"".concat(t.getPxFromRem(.02),"px")},rail:{size:"".concat(t.getPxFromRem(.04),"px"),background:"transparent",gutterOfEnds:"".concat(t.getPxFromRem(1),"px")}}}))},getRelStyle:function(t){return t?this.showAnchorTxt?this.anchorBgActiveStyle:{}:this.showSwitchBtns?this.anchorBgStyle:{}},getScrollBarColor:function(){var t=this.$store.getters.configStyle;return this.$getKeyFromObj(t,"navRightScroll").color||""},goPrev:function(){this.showSwitchBtns=!0,this.$store.commit("setCurTabIndex",this.$store.state.curTabIndex-1)},goNext:function(){this.showSwitchBtns=!0,this.$store.commit("setCurTabIndex",this.$store.state.curTabIndex+1)},goTop:function(){this.$refs.richWrap&&this.$refs.richWrap.scrollTo({y:2},300)},handleRichText:function(){var t=this;if(!this.richText){var e=this.$getExtConfig(this.curActiveItem).hideVideos;this.richText=new I.a(this.$refs.richText,{hideVideos:Object(o.e)(e)})}this.richText.changePage(),clearTimeout(this.articleTimer),this.articleTimer=setTimeout((function(){t.anchors=t.richText.anchors,t.isHandling=!1,t.$refs.richWrap&&(t.preventScrollHandler=!0,t.$refs.richWrap.scrollTo({x:0,y:2},0),setTimeout((function(){t.preventScrollHandler=!1,t.isChangingChannel&&(t.showSwitchBtns=!0),t.isChangingChannel=!1,t.getLayoutSizeInfo()}),100)),t.richText.anchors&&t.thirdUpdateAnchor((function(){t.thirdUpdateAnchor()}))}),400)},thirdUpdateAnchor:function(t){var e=this;clearTimeout(this.thirdTimer),this.thirdTimer=setTimeout((function(){e.richText.updateAnchors(),e.anchors=e.richText.anchors,e.handleAnchorChange(),"function"==typeof t&&t()}),3e3)},handleAnchorChange:function(){var t=this;this.showSwitchBtns?this.showAnchorTxt=!0:(clearTimeout(this.anchorTimer),this.showAnchorTxt=!0,this.anchorTimer=setTimeout((function(){t.showAnchorTxt=!1}),5e3))},updateScroll:Object(i.debounce)((function(){var t=this;if("100%"!==this.contentHeight&&!this.isHandling&&this.$refs.richWrap&&this.richText){if(this.$el){var e,r=this.$el.querySelector(".__view");if(r)this.mainViewHeight=null!==(e=r.offsetHeight)&&void 0!==e?e:0}this.$nextTick((function(){t.scrollOps&&(t.scrollOps.scrollPanel.maxHeight=t.contentHeight-(t.$store.state.hideBrandNav?0:t.getPxFromRem(t.$isMob?.82:.92)),t.cliHeight=t.scrollOps.scrollPanel.maxHeight||0,t.$refs.richWrap.refresh())}))}}),300,{leading:!0,trailing:!0}),goPos:function(t,e){var r=this,n=t.top;this.preventScrollHandler=!0,this.$refs.richWrap.scrollTo({y:n},300,"linear"),clearTimeout(this.timer),this.tiemr=setTimeout((function(){r.preventScrollHandler=!1,r.showSwitchBtns=r.anchorIndex>e,r.anchorIndex=e}),300)},handleScroll:Object(i.throttle)((function(t){if(this.preventScrollHandler)return this.prevTop=-1,void(this.curTop=-1);var e=t.scrollTop,r=this.anchorRange.length,n=e+this.cliHeight>=this.mainViewHeight-10;if(e<=0||n)return e<=0?(this.showSwitchBtns=!0,this.$store.commit("setHideBrandNav",!1),void(this.anchorIndex=0)):(this.showSwitchBtns=!1,this.$store.commit("setHideBrandNav",!0),void(this.anchorIndex=r-1));if(this.handleSwitchBtns(e),e>=this.anchorRange[r-1])this.anchorIndex=r-1;else if(e<this.anchorRange[0])this.anchorIndex=0;else for(var i=0;i<r-1;){if(Object(o.o)(e,this.anchorRange[i],this.anchorRange[i+1])){this.anchorIndex=i;break}i++}}),100,{leading:!0,trailing:!0}),handleSwitchBtns:Object(i.throttle)((function(t){this.prevTop=-1===this.curTop?t:this.curTop,this.curTop=t,this.curTop>this.prevTop&&!this.showSwitchBtns&&-1!==this.prevTop||this.curTop<this.prevTop&&this.showSwitchBtns&&-1!==this.prevTop||(this.curTop-this.prevTop>20?(this.showSwitchBtns=!1,this.$store.commit("setHideBrandNav",!0),this.updateScroll(),this.curTop=-1,this.prevTop=-1,this.handleAnchorChange()):this.prevTop-this.curTop>20&&(this.showSwitchBtns=!0,this.$store.commit("setHideBrandNav",!1),this.updateScroll(),this.curTop=-1,this.prevTop=-1,this.handleAnchorChange()))}),200),checkFeedback:function(){var t=this.$getStorage(c.e)||{},e=this.$store.state,r=e.curRoute,n=e.pageSn;return!t["".concat(n,"_").concat(r.meta.channel_id,"_").concat(this.curActiveItem.id)]}},components:{tab:h.a,empty:l.a,backTop:g,feedback:T}},A=(r("nzDi"),Object(f.a)(R,n,[],!1,null,null,null));A.options.__file="src/components/module/rich-text/index.vue";e.default=A.exports},FjpV:function(t,e,r){"use strict";var n=r("s+QZ");r.n(n).a},J7xX:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("transition",{attrs:{name:"fade"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"share-pc-outgame contain",class:t.$isMob?"mob":""},t._l(t.platforms,(function(e){return r("img",{key:e.name,staticClass:"share-outgame-icon can-action can-select",attrs:{src:e.icon},on:{click:function(r){return t.handleShare(e.shareKey)}}})})),0)])};n._withStripped=!0;var i=r("j+mt"),s=r.n(i),o=r("7h89"),a=r.n(o),c=r("3eft"),l=r("NsEo");function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,s=t}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function d(t,e,r,n,i,s,o){try{var a=t[s](o),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(n,i)}function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){g(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function g(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var p={name:"share-pc",data:function(){return{platforms:this.$isSea?c.j.sea:c.j.cn}},computed:{shareContent:function(){return{title:this.$MI18N.WORD.socialShareTitle,desc:this.$MI18N.WORD.socialShareDesc,imgUrl:this.$MI18N.WORD.socialShareImg}},shareOptsSea:function(){return this.$store.getters.langKey?{key:this.$store.getters.langKey,lang:this.$store.state.activeLang,game_biz:"hk4e_global",title_key:"socialShareTitle",desc_key:"socialShareDesc",img_key:"socialShareImg",url:window.location.href}:{}}},props:{show:{type:Boolean,default:!1}},methods:{handleShare:function(t){this.$emit("close"),this.$isSea?this.shareSea(t):this.shareCn(t)},shareCn:function(t){var e=window.location.href;e=Object(l.g)(e),this.manualShare=s.a.initManualShare(m(m({},this.shareContent),{},{link:"shareTieba"===t?encodeURIComponent(e):e})),this.manualShare[t]()},shareSea:function(t){"copy"!==t?a.a[t](this.shareOptsSea):this.copyLink()},copyLink:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$async(e.$copyText(window.location.href));case 2:r=t.sent,h(r,1)[0]||e.$toast({html:!0,content:e.$MI18N.WORD.copySuccessTxt});case 6:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,i){var s=t.apply(e,r);function o(t){d(s,n,i,o,a,"next",t)}function a(t){d(s,n,i,o,a,"throw",t)}o(void 0)}))})()}}},v=(r("hGDZ"),r("KHd+")),b=Object(v.a)(p,n,[],!1,null,"70eacbee",null);b.options.__file="src/components/common/share/sharePc.vue";e.default=b.exports},K2ng:function(t,e,r){"use strict";var n=r("qgjG");r.n(n).a},KaNC:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this.$createElement;return(this._self._c||t)("router-view")};n._withStripped=!0;var i={name:"sub-route"},s=r("KHd+"),o=Object(s.a)(i,n,[],!1,null,null,null);o.options.__file="src/components/parts/sub-route.vue";e.default=o.exports},KjXN:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mihoyo-modal",{attrs:{"bg-opacity":.85,position:"absolute","transition-type":"fade",parent:"body","has-container":!1},on:{clickMask:function(e){return t.$emit("close")}},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("div",{staticClass:"loadingui-toast",class:t.$isIpad?"ipad":""},[n("div",{staticClass:"loadingui-toast__main no-scrollbar"},[n("vue-scroll",{ref:"long",attrs:{ops:t.scrollOps}},[t.img?n("img",{key:"2",staticClass:"loadingui-img can-action can-select",attrs:{src:t.img}}):n("img",{key:"1",staticClass:"loadingui-toast__img",attrs:{src:t.$isImg(t.$MI18N.WORD.loadingGif)?t.$MI18N.WORD.loadingGif:r("Ysu4")}})])],1),t._v(" "),t.img?n("div",{staticClass:"loadingui-toast__tip"},[n("img",{staticClass:"loadingui-toast__tip-img no-action",attrs:{src:r("w3uR")}}),t._v(" "),n("div",{staticClass:"loadingui-toast__bottom"},[n("img",{staticClass:"loadingui-toast__bottom-dot",attrs:{src:r("byO8")}}),t._v(" "),n("span",{staticClass:"loadingui-toast__bottom-txt"},[t._v("é¿æä¿å­")])])]):t._e()]),t._v(" "),n("img",{staticClass:"loadingui-close",attrs:{src:t.$isImg(t.$MI18N.WORD.modalCloseBtn)&&t.$MI18N.WORD.modalCloseBtn||r("rBrY")},on:{click:function(e){return t.$emit("close")}}}),t._v(" "),n("span",{staticClass:"loadingui-txt"},[t._v("é¿å¾é¢è§")])])};n._withStripped=!0;var i={name:"loading-ui",props:{img:{type:String,default:""},show:{type:Boolean,default:!1}},data:function(){return{scrollOps:{scrollPanel:{maxHeight:310,sizeStrategy:"number"},bar:{background:"#cec5b7",size:"3px",keepShow:!1,opacity:.9,specifyBorderRadius:"2px"},rail:{background:"transparent",gutterOfEnds:"10px"}}}},watch:{img:function(){this.loadImage()}},methods:{loadImage:function(){var t=this,e=new Image;e.src=this.img,e.onload=function(){t.updateScroll()}},updateScroll:function(){var t=document.querySelector(".loadingui-toast__main");t&&(this.scrollOps.scrollPanel.maxHeight=t.offsetHeight,this.$refs.long.refresh())}}},s=(r("FjpV"),r("KHd+")),o=Object(s.a)(i,n,[],!1,null,"01d8145c",null);o.options.__file="src/components/common/loadingToast/index.vue";e.default=o.exports},Lpdb:function(t,e,r){},RfR0:function(t,e,r){},"XKI+":function(t,e,r){},YF6t:function(t,e,r){},ZNvM:function(t,e,r){},ZiE8:function(t,e,r){},cNLL:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mihoyo-modal",{attrs:{value:t.$store.state.showSharePs,"bg-opacity":0,"stop-body-scroll":!0,position:"fixed","transition-type":"scale",parent:"body","keep-alive":!1,"has-container":!1}},[n("div",{staticClass:"share-ps",on:{click:t.close}},[n("div",{staticClass:"share-ps__wrap contain",style:t.bg},[n("div",{staticClass:"share-ps__top"},[n("div",{staticClass:"share-ps__left"},[n("img",{staticClass:"share-ps__logo",attrs:{src:t.$MI18N.WORD.logo||r("jeNT")}}),t._v(" "),n("div",{staticClass:"share-ps__code",style:{backgroundColor:t.qrcodeStyle.light}},[t.src?n("img",{staticClass:"share-ps__qrcode",attrs:{src:t.src}}):t._e()])]),t._v(" "),n("div",{staticClass:"share-ps__right"},[n("div",{staticClass:"share-ps__title contain",style:t.verBg},[t.$isSea?t._e():n("span",{staticClass:"large",style:t.numStyle},[t._v(t._s(t.$store.getters.pageVer))]),t._v(" "),t.$isSea?t._e():n("span",{staticClass:"normal",style:t.txtStyle},[t._v(t._s(t.$MI18N.WORD.versionTxt))])]),t._v(" "),n("img",{staticClass:"share-ps__img",attrs:{src:t.$MI18N.WORD.sharePsImg||r("/KTN")}})])]),t._v(" "),n("div",{staticClass:"share-ps__line"}),t._v(" "),n("div",{staticClass:"share-ps__desc",domProps:{innerHTML:t._s(t.$MI18N.WORD.socialShareDesc)}})]),t._v(" "),t.$MI18N.WORD.closeTipTxt?n("div",{staticClass:"share-ps-tip no-action"},[n("img",{staticClass:"share-ps-tip__star",attrs:{src:r("DphD")}}),t._v(" "),n("span",{staticClass:"share-ps-tip__txt"},[t._v(t._s(t.$MI18N.WORD.closeTipTxt))]),t._v(" "),n("img",{staticClass:"share-ps-tip__star",attrs:{src:r("DphD")}})]):t._e()])])};n._withStripped=!0;var i=r("QhvS"),s=r("NsEo");function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){c(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function c(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l(t,e,r,n,i,s,o){try{var a=t[s](o),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(n,i)}var h={name:"share-ps",mixins:[i.c,i.a],data:function(){return{src:""}},watch:{"$store.state.showSharePs":{handler:function(t){var e,r=this;return(e=regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n=window.location.href,r.$isGame&&(n=Object(s.d)(n)),r.$isSea||(n=Object(s.g)(n)),e.next=7,r.createQrCode(n,{width:r.getPxFromRem(9),scale:2});case 7:(i=e.sent)&&(r.src=i);case 9:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(t){l(s,n,i,o,a,"next",t)}function a(t){l(s,n,i,o,a,"throw",t)}o(void 0)}))})()}}},computed:{commonStyle:function(){var t=this.$store.getters.configStyle;return this.$getKeyFromObj(t,"sharePageText")},numStyle:function(){var t=this.$store.getters.configStyle,e=this.$getKeyFromObj(t,"psShareNumber");return a(a({},this.commonStyle),this.$getConfigFmtStyle(e,1))},bg:function(){var t=this.$MI18N.WORD.sharePsBg||r("gclG");return{backgroundImage:"url(".concat(t,")")}},verBg:function(){var t=this.$MI18N.WORD.sharePsVerBg||r("B79c");return{backgroundImage:"url(".concat(t,")")}},txtStyle:function(){var t=this.$store.getters.configStyle,e=this.$getKeyFromObj(t,"psShareText");return a(a({},this.commonStyle),this.$getConfigFmtStyle(e,1))}},methods:{close:function(){this.$store.commit("setShowSharePs",!1)}}},u=(r("sw/Z"),r("KHd+")),d=Object(u.a)(h,n,[],!1,null,"71cc43fe",null);d.options.__file="src/components/common/share/sharePs.vue";e.default=d.exports},e5Rg:function(t,e,r){},f18m:function(t,e,r){"use strict";var n=r("hyiP");r.n(n).a},g90l:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"append-to-element",rawName:"v-append-to-element",value:"body",expression:"'body'"}],ref:"longimg",staticClass:"longimg"},[n("div",{staticClass:"longimg-top cover",style:t.topStyle},[n("img",{staticClass:"longimg-top__logo",attrs:{src:t.$MI18N.WORD.logo||r("jeNT")}})]),t._v(" "),n("div",{ref:"longimgContent",staticClass:"longimg-content rich-wrap"},[n("div",{staticClass:"longimg-main"},[n("div",{staticClass:"rich-top"},[n("p",{staticClass:"rich-top__title",style:t.contentTitleStyle},[t._v(t._s(t.curActiveItem.title))]),t._v(" "),n("p",{staticClass:"rich-top__time",style:t.timeTxtStyle},[t._v(t._s(t.curActiveItem.time))])]),t._v(" "),n("div",{ref:"richText",staticClass:"rich-text",style:t.contentTxtStyle,domProps:{innerHTML:t._s(t.curActiveItem.content)}})]),t._v(" "),n("div",{staticClass:"longimg-tip"},[n("img",{staticClass:"longimg-tip__icon",attrs:{src:r("LYEw")}}),t._v(" "),n("span",{staticClass:"longimg-tip__txt"},[t._v(t._s(t.$MI18N.WORD.scanCodeTip))]),t._v(" "),n("div",{staticClass:"longimg-tip__mask no-action"})])]),t._v(" "),n("div",{staticClass:"longimg-bottom cover",style:t.bottomStyle},[n("div",{staticClass:"longimg-bl"},[n("div",{staticClass:"longimg-bl-qrwrap",style:{backgroundColor:t.qrcodeStyle.light}},[t.qrcode?n("img",{staticClass:"longimg-bl__qrcode",attrs:{src:t.qrcode}}):t._e()]),t._v(" "),n("p",{staticClass:"longimg-bl__txt",domProps:{innerHTML:t._s(t.$MI18N.WORD.scanCodeTxt)}})]),t._v(" "),n("img",{staticClass:"longimg-br__logo",attrs:{src:t.$MI18N.WORD.logo||r("jeNT")}})])])};n._withStripped=!0;var i=r("wOnQ"),s=r.n(i),o=r("VlTf"),a=r.n(o),c=r("QhvS"),l=r("NsEo"),h=r("3eft"),u=r("Lbfe");function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){m(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function m(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g(t,e,r,n,i,s,o){try{var a=t[s](o),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(n,i)}function p(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var s=t.apply(e,r);function o(t){g(s,n,i,o,a,"next",t)}function a(t){g(s,n,i,o,a,"throw",t)}o(void 0)}))}}var v={name:"dynamic-img",data:function(){return{qrcode:""}},mixins:[c.a,c.c],mounted:function(){var t=this;this.$nextTick(p(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=window.location.href,t.$isGame&&(r=Object(l.d)(r)),t.$isSea||(r=Object(l.g)(r)),e.next=5,t.createQrCode(r,{width:400,scale:2,dark:"#546374"});case 5:t.qrcode=e.sent,t.richText=new u.a(t.$refs.richText,{hideVideos:[]}),t.richText.handleShareRichText((function(){setTimeout((function(){t.addWaterMark(),t.createShareImg()}))}));case 8:case"end":return e.stop()}}),e)}))))},computed:{topStyle:function(){var t=this.$MI18N.WORD.longImgTopBg||r("LEZk");return{backgroundImage:"url(".concat(t,")")}},bottomStyle:function(){var t=this.$MI18N.WORD.longImgBottomBg||r("Je3i");return{backgroundImage:"url(".concat(t,")")}},curActiveItem:function(){var t=this.$store.state,e=t.curChannelInfo,r=void 0===e?{}:e,n=t.curTabIndex,i=this.$getKeyFromObj(r,"content_list[".concat(n,"]"),{}),s=this.$getFilterTime(i.start_time),o=s.year,a=s.month,c=s.day;return i.time="".concat(o,"-").concat(a,"-").concat(c),i},timeTxtStyle:function(){var t=this.$getKeyFromObj(this.configStyle,"richTimeText");return this.$getConfigFmtStyle(t,18/22)},contentTxtStyle:function(){var t=this.$getKeyFromObj(this.configStyle,"richContentText");return this.$getConfigFmtStyle(t,{fontSize:22/26,lineHeight:.95})},contentTitleStyle:function(){var t=this.$getKeyFromObj(this.configStyle,"richContentTitle");return this.$getConfigFmtStyle(t,1)},configStyle:function(){var t=this.$getKeyFromObj(this.$store.getters,"configStyle",{}),e=Object(l.f)(this.$getKeyFromObj(this.$store.state,"curChannelInfo.scheme_config",""));return f(f({},t),e)}},methods:{addWaterMark:function(){var t=this.getWaterMarkStyle(),e=t.color,r=t.fontSize,n=this.$isIpad?120:100,i=this.$isIpad?.32:.36;r&&(i=isNaN(r/n)?i:r/n);var s=this.$MI18N.WORD.waterMarkTxt||"";s&&a()({container:this.$refs.longimgContent,zIndex:1,font:"".concat(this.getPxFromRem(i),"px Microsoft YaHei"),fillStyle:e||"rgba(197, 185, 173, 0.15)",text:s,rotate:15,width:"".concat(35*s.length,"px"),height:"".concat(26*s.length,"px")})},getWaterMarkStyle:function(){var t=this.$store.getters.configStyle;return this.$getKeyFromObj(t,"waterText")||{}},createShareImg:function(){var t=this;this.$nextTick((function(){s()(t.$refs.longimg,{useCORS:!0,scrollX:0,scrollY:0,taintTest:!0,scale:2,windowWidth:window.innerHeight,ignoreElements:function(t){return h.f.includes(t.tagName.toLowerCase())}}).then((function(e){var r=e.toDataURL(),n=r.replace("data:image/png;base64,","");t.$emit("createImg",{url:r,bbsUrl:n}),t.richText=null})).catch((function(){t.$emit("createImg",{url:"",bbsUrl:""}),t.richText=null}))}))}}},b=(r("yUd9"),r("KHd+")),y=Object(b.a)(v,n,[],!1,null,"081e2cf8",null);y.options.__file="src/components/common/share/dynamicImg.vue";e.default=y.exports},gIPJ:function(t,e,r){},hGDZ:function(t,e,r){"use strict";var n=r("0q1/");r.n(n).a},hXOj:function(t,e,r){},hyiP:function(t,e,r){},jj3W:function(t,e,r){"use strict";var n=r("8SvF");r.n(n).a},nzDi:function(t,e,r){"use strict";var n=r("e5Rg");r.n(n).a},pPkz:function(t,e,r){"use strict";var n=r("ZNvM");r.n(n).a},qOFz:function(t,e,r){"use strict";var n=r("sRCC");r.n(n).a},qgjG:function(t,e,r){},"s+QZ":function(t,e,r){},"s/tI":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"other",class:[t.$isMob?"mob":"pc",t.$store.state.isFetchChannel?"hide":""]},[r("div",{ref:"swiper",staticClass:"other-container swiper-container",style:{width:t.layoutWidth}},[r("div",{staticClass:"other-wrapper swiper-wrapper"},t._l(t.list,(function(e,n){return r("div",{key:e.id,staticClass:"other-item swiper-slide",class:e.url&&!t.$isPs?"":"short"},[r("p",{staticClass:"other-item__date"},[r("span",{staticClass:"other-item__date-txt",class:0===n||e==t.curIndex?"active":""},[t._v(t._s(e.time))]),t._v(" "),r("span",{staticClass:"other-item__date-line"})]),t._v(" "),r("div",{staticClass:"other-item__card"},[1===e.status?r("span",{staticClass:"other-item__status other-item__status-doing"},[t._v(t._s(t.$MI18N.WORD.willStartTxt))]):2===e.status?r("span",{staticClass:"other-item__status other-item__status-end"},[t._v(t._s(t.$MI18N.WORD.endTxt))]):r("span",{staticClass:"other-item__status other-item__status-doing"},[t._v(t._s(t.$MI18N.WORD.doingTxt))]),t._v(" "),r("div",{staticClass:"other-item__img-wrap cover",style:{backgroundImage:"url("+e.banner+")"}}),t._v(" "),r("p",{staticClass:"other-item__title"},[t._v(t._s(e.title))]),t._v(" "),r("p",{staticClass:"other-item__desc"},[t._v("\n            "+t._s(e.desc)+"\n          ")]),t._v(" "),e.url&&!t.$isPs?r("div",{staticClass:"other-item__btn cover",on:{click:function(r){return t.goPage(e.url)}}},[r("span",{staticClass:"other-item__btn-txt no-action"},[t._v(t._s(t.$MI18N.WORD.enterTxt))])]):t._e()])])})),0)]),t._v(" "),r("transition",{attrs:{name:"fade"}},[t.$store.state.isFetchChannel?r("loading",{staticClass:"other-loading"}):t._e()],1)],1)};n._withStripped=!0;var i=r("zhVY"),s=r("LvDl"),o=r("v5Oy"),a=r("NsEo"),c=r("QhvS");function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var d={name:"other",mixins:[c.a,c.b],data:function(){return{curIndex:0}},components:{Loading:o.a},computed:{list:function(){var t;return(null!==(t=(this.$store.state.curChannelInfo||{}).content_list)&&void 0!==t?t:[]).map(this.formatItem)}},mounted:function(){this.handleResizeFn=Object(s.debounce)(this.handleResize,500,{leading:!0})},watch:{"$frame.layoutStateRem":{handler:function(){this.handleResizeFn()}},"$store.state.isLongScreen":{handler:function(){this.handleResizeFn()}},list:{handler:"handleResize",immediate:!0}},methods:{formatItem:function(t){var e=this.$getExtConfig(t);return{banner:this.$getKeyFromObj(e.bannerImg,"[0].url",""),id:t.id,title:t.title,desc:t.intro,time:this.$MI18N.getLocaleText({key:"dateTxt",data:h({},this.$getFilterTime(t.start_time))}),url:t.url||"",status:Object(a.l)(t.start_time,t.end_time,this.$store.state.serverTime)}},goPage:function(t){this.navigateTo(t)},handleResize:function(){var t=this;this.list.length&&this.$nextTick((function(){var e=t.getLayoutWidth();t.initSlide(e)}))},initSlide:function(t){var e=this;this.scroll&&this.scroll.destroy&&this.scroll.destroy(!1,!0);var r=Math.floor(t/4)<this.list.length,n=this.list.length,s=4*n+.36*(n-1)+.94>t;this.scroll=new i.Swiper(this.$refs.swiper,{width:this.getPxFromRem(t),direction:"horizontal",slidesPerView:"auto",spaceBetween:this.getPxFromRem(.36),slidesOffsetBefore:this.getPxFromRem(.94),loop:r,freeMode:!r&&s,allowTouchMove:r||!r&&s,loopedSlides:Math.floor(t/4)+2,eventClasses:["other-item__btn"],on:{slideChange:function(){e.scroll&&(e.curIndex=e.scroll.realIndex)}}})}}},f=(r("K2ng"),r("KHd+")),m=Object(f.a)(d,n,[],!1,null,"0dc8c4c1",null);m.options.__file="src/components/parts/other.vue";e.default=m.exports},sRCC:function(t,e,r){},"sw/Z":function(t,e,r){"use strict";var n=r("Lpdb");r.n(n).a},vWkE:function(t,e,r){"use strict";var n=r("ZiE8");r.n(n).a},wV3s:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mihoyo-modal",{attrs:{value:t.$store.state.showShareModal,"bg-opacity":.85,"stop-body-scroll":!0,position:"fixed","transition-type":"scale",parent:"body","has-container":!1},on:{clickMask:t.close}},[n("div",{staticClass:"share-modal",class:[t.$isMob?"":"pc",t.$isSea?"sea":"cn"],on:{click:t.close}},[n("div",{staticClass:"share-modal__main contain",style:t.$setConfigBg(t.$MI18N.WORD,"shareModalBg"),on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[n("div",{staticClass:"share-modal__wrap"},[n("hover-img",{staticClass:"share-modal__item share-modal__link",attrs:{type:"bg",img:t.$MI18N.WORD.linkIcon||r("9a19"),"img-hover":t.$MI18N.WORD.linkIconHover||r("1zTe")},nativeOn:{click:function(e){return t.copyLink(e)}}},[n("p",{staticClass:"share-modal__txt no-action",style:t.txtStyle},[t._v(t._s(t.$MI18N.WORD.copyLinkTxt))])]),t._v(" "),t.$isGame?t._e():n("hover-img",{staticClass:"share-modal__item share-modal__share",attrs:{type:"bg",img:t.$MI18N.WORD.imgShareIcon||r("Lwdu"),"img-hover":t.$MI18N.WORD.imgShareIconHover||r("3shl")},nativeOn:{click:function(e){return t.handleBBsShare(e)}}},[n("p",{staticClass:"share-modal__txt no-action",style:t.txtStyle},[t._v(t._s(t.$MI18N.WORD.shareTxt))])])],1),t._v(" "),t.$isMob?t._e():n("img",{staticClass:"share-modal__close",attrs:{src:t.$isImg(t.$MI18N.WORD.modalCloseBtn)&&t.$MI18N.WORD.modalCloseBtn||r("rBrY")},on:{click:t.close}})]),t._v(" "),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showSuccessTip,expression:"showSuccessTip"}],staticClass:"share-modal__tip no-wrap cover",style:t.toastStyle},[t._v("\n        "+t._s(t.$MI18N.WORD.copySuccessTxt)+"\n      ")])])],1),t._v(" "),t.$isMob?n("img",{staticClass:"share-modal__close",attrs:{src:t.$isImg(t.$MI18N.WORD.modalCloseBtn)&&t.$MI18N.WORD.modalCloseBtn||r("rBrY")},on:{click:t.close}}):t._e()])};n._withStripped=!0;var i=r("gbaR"),s=r("NsEo");function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,s=t}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c(t,e,r,n,i,s,o){try{var a=t[s](o),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(n,i)}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var d={name:"share-modal",data:function(){return{showSuccessTip:!1}},components:{hoverImg:i.a},computed:{txtStyle:function(){var t=this.$store.getters.configStyle,e=this.$getKeyFromObj(t,"pcShareText");return this.$getConfigFmtStyle(e,20/22)},toastStyle:function(){var t=this.$store.getters.configStyle,e=this.$getKeyFromObj(t,"toastText");return h(h({},this.$getConfigFmtStyle(e,20/24)),{},{backgroundImage:"url(".concat(this.$MI18N.WORD.copySuccessBg,")")})}},methods:{close:function(){this.$store.commit("setShowShareModal",!1),this.showSuccessTip=!1},copyLink:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$async(e.$copyText(Object(s.d)(window.location.href)));case 2:if(r=t.sent,!o(r,1)[0]){t.next=7;break}return t.abrupt("return");case 7:e.showSuccessTip=!0,setTimeout((function(){e.showSuccessTip=!1}),2500);case 9:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,i){var s=t.apply(e,r);function o(t){c(s,n,i,o,a,"next",t)}function a(t){c(s,n,i,o,a,"throw",t)}o(void 0)}))})()},handleBBsShare:function(){if(1===this.$store.getters.curTmplType)return this.$emit("shareLongImg"),void this.$store.commit("setShowShareModal",!1);this.$store.commit("setShowShareModal",!1),this.$bbsApp.imageShare({image_url:this.$MI18N.WORD.socialShareImg})}}},f=(r("vWkE"),r("KHd+")),m=Object(f.a)(d,n,[],!1,null,"716f0302",null);m.options.__file="src/components/common/share/shareModal.vue";e.default=m.exports},yUd9:function(t,e,r){"use strict";var n=r("6J68");r.n(n).a}}]);
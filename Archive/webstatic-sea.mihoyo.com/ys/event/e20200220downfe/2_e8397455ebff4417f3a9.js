/*! Copyright © 2011 - 2021 miHoYo. All Rights Reserved */
(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{545:function(t,n,i){"use strict";i.r(n);var e=i(560),s=i(548);for(var a in s)["default"].indexOf(a)<0&&function(t){i.d(n,t,(function(){return s[t]}))}(a);i(558);var o=i(129),c=Object(o.a)(s.default,e.a,e.b,!1,null,null,null);c.options.__file="src/main/home/home.vue",n.default=c.exports},548:function(t,n,i){"use strict";i.r(n);var e=i(549),s=i.n(e);for(var a in e)["default"].indexOf(a)<0&&function(t){i.d(n,t,(function(){return e[t]}))}(a);n.default=s.a},549:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=r(i(543)),s=i(53),a=r(i(555)),o=i(52),c=i(192);function r(t){return t&&t.__esModule?t:{default:t}}i(557),n.default={name:"home",props:["category"],data:function(){return{nowWidth:window.innerWidth||document.body.clientWidth,breakPoint:1280,isDown:!0,modalText:"提示提示提示",isModal:!1,titleLeft:c.DEFAULT_POS_INFO.titleLeft,titleTop:c.DEFAULT_POS_INFO.titleTop,modalRight:c.DEFAULT_POS_INFO.modalRight,contentTop:c.DEFAULT_POS_INFO.contentTop,showEditBox:s.showEditBox,isIE:(0,o.isIE)(),winHeight:"100vh"}},watch:{fetchData:function(t){t&&(this.titleLeft=(0,o.getPosInfo)(t,"titleLeft",c.DEFAULT_POS_INFO.titleLeft),this.titleTop=(0,o.getPosInfo)(t,"titleTop",c.DEFAULT_POS_INFO.titleTop),this.modalRight=(0,o.getPosInfo)(t,"modalRight",c.DEFAULT_POS_INFO.modalRight),this.contentTop=(0,o.getPosInfo)(t,"contentTop",c.DEFAULT_POS_INFO.contentTop),this.isIE&&this.handleVideoPlay())}},mounted:function(){var t=this;this.handleSize(),this.$checkLogin({onSuccess:function(n){t.setAccountIdByData(n),t.isDown=!1},onFail:function(){t.isDown=!0,t.toReg()}}),window.onresize=(0,e.default)(this.handleSize.bind(this),300),this.$mia.trackEvent("openpage",this.$navigatorLang,"","PC"),this.$ads.outbrain.trackEvent("GenshinPCLPViewContent"),this.$ads.taboola.trackEvent("Genshin_PC_LP_View_Content"),this.$ads.trade_desk.trackEvent("pushImgEvent","e869r46"),this.$ads.amazon_dsp.trackEvent("f328dc5a-8675-d35a-90cd-4099c62c1c7f");var n=this.$isGaNew?"gkGqCNXm7PoBELrzn8EB":"dK-zCP_rmd4BEIDvnYkD";this.$ads.ga.trackEvent("conversion",{send_to:this.$adsId+"/"+n}),(0,o.checkFbChannel)()&&this.$FAds.trackEvent("ViewContent")},computed:{accountScale:function(){return this.nowWidth>this.breakPoint?this.nowWidth/1920>1?1:this.nowWidth/1920:this.breakPoint/1920},fetchData:function(){return this.isModal=!1,this.$state.data?this.$state.data[this.category]?this.$state.data[this.category]:(Object.keys(this.$state.data).length&&this.showModal("config error!"),{}):{}},showChannelLink:function(){return this.fetchData&&this.fetchData.channelLink&&this.fetchData.channelImg}},methods:{handleVideoPlay:function(){var t=this;setTimeout((function(){var n=t.$refs.bgVideo;n&&n.addEventListener("canplaythrough",(function(){n.play()}))}))},onRegisterClick:function(){this.$ads.criteo.trackEvent("viewItem","1"),this.$ads.outbrain.trackEvent("GenshinPCLPRegistrationClick"),this.$ads.taboola.trackEvent("Genshin_PC_LP_Registration_Click");var t=this.$isGaNew?"mzBECKPh9fsBELrzn8EB":"NqoOCJGxssMBEIDvnYkD";this.$ads.ga.trackEvent("conversion",{send_to:this.$adsId+"/"+t}),(0,o.checkFbChannel)()&&this.$FAds.trackEvent("StartTrial")},handleDown:function(){this.$ga.trackEvent("download","click","let start"),this.$ads.criteo.trackEvent("trackTransaction",[{id:"1"}]),this.$mia.trackEvent("download",this.$navigatorLang,this.accountId,this.userAccount||""),this.$ads.taboola.trackEvent("Genshin_PC_LP_Download_Click"),this.$ads.trade_desk.trackEvent("pushImgEvent","r4xte66"),this.$ads.outbrain.trackEvent("GenshinPCLPDownloadClick"),this.$ads.amazon_dsp.trackEvent("30bfcc5d-a169-3ba4-9ce0-e6bd1101427f");var t=this.$isGaNew?"6532CJ7n4_oBELrzn8EB":"zG2kCMyzssMBEIDvnYkD";this.$ads.ga.trackEvent("conversion",{send_to:this.$adsId+"/"+t}),(0,o.checkFbChannel)()&&this.$FAds.trackEvent("AddToWishlist")},showModal:function(t){this.modalText=t,this.isModal=!0},toReg:function(){this.$ga.trackEvent("button","click","register"),this.$isGaNew||this.$ads.ga.trackEvent("conversion",{send_to:this.$adsId+"/NqoOCJGxssMBEIDvnYkD"}),(0,o.checkFbChannel)()&&this.$FAds.trackEvent("Lead","202981424435684")},toLogin:function(){this.$ga.trackEvent("button","click","login")},onLoginSuccess:function(t){this.setAccountIdByData(t),this.$mia.trackEvent("login",this.$navigatorLang,this.accountId,this.userAccount||""),this.isDown=!1},setAccountIdByData:function(t){if(t&&t.cookie_info)return this.accountId=t.cookie_info.account_id,void(this.userAccount||(this.userAccount=t.cookie_info.email||""));this.accountId=""},onLoginFail:function(t){this.showModal(t.msg)},onRegisterFail:function(t){this.showModal(t)},onLoginClick:function(){var t=document.querySelector('.login-form-container input[type="text"]');t&&t.value&&(this.userAccount=t.value),this.$ads.taboola.trackEvent("Genshin_PC_LP_Log_in_Click"),this.$ads.outbrain.trackEvent("GenshinPCLPLoginClick");var n=this.$isGaNew?"HiAcCPWclvwBELrzn8EB":"nGRbCOWApd4BEIDvnYkD";this.$ads.ga.trackEvent("conversion",{send_to:this.$adsId+"/"+n})},onRegisterSuccess:function(t,n){t.email&&(this.userAccount=t.email),this.isDown=!1,this.setAccountIdByData(n),this.$ads.cpm_star.trackEvent(),this.$ads.pwn.defaultTrackEvent(),this.$ads.criteo.trackEvent("viewBasket",[{id:"1"}]),this.$ads.taboola.trackEvent("Genshin_PC_LP_Complete_Registration"),this.$ads.cpm.trackEvent("pushImgEvent","qpnkRp85Hx24"),this.$mia.trackEvent("register",this.$navigatorLang,this.accountId,this.userAccount||"未获取到邮箱"),this.$ads.outbrain.trackEvent("GenshinPCLPCompleteRegistration"),this.$ads.iqu.trackEvent("8234"),this.$ads.amazon_dsp.trackEvent("3cc350a6-0d6e-aaaa-bd17-27100064d619");var i=this.$isGaNew?"psKTCLLLzPoBELrzn8EB":"PyIeCMyPmcMBEIDvnYkD";this.$ads.ga.trackEvent("conversion",{send_to:this.$adsId+"/"+i}),(0,o.checkFbChannel)()&&this.$FAds.trackEvent("CompleteRegistration")},handleSize:function(){this.nowWidth=window.innerWidth||document.body.clientWidth,this.nowWidth<=this.breakPoint?this.isSmall=!0:this.isSmall=!1,this.winHeight=(window.innerHeight||document.body.clientHeight)+"px"},setVideo:function(){var t=this;this.$nextTick((function(){t.$refs.bgVideo.src=t.fetchData.videoSrc}))},syncPos:function(t){var n=t.key,i=t.val;(this[n]||0===n)&&(this[n]=i)}},components:{PosBox:a.default}}},550:function(t,n,i){"use strict";i.r(n);var e=i(551),s=i.n(e);for(var a in e)["default"].indexOf(a)<0&&function(t){i.d(n,t,(function(){return e[t]}))}(a);n.default=s.a},551:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e,s=i(543),a=(e=s)&&e.__esModule?e:{default:e};n.default={name:"pos-box",props:{titleTop:Number,titleLeft:Number,modalRight:Number,contentTop:Number},data:function(){return{show:!0}},methods:{change:function(t,n){this.$emit("change",{key:n,val:t.value})}},mounted:function(){this.change=(0,a.default)(this.change.bind(this),300)}}},552:function(t,n,i){},553:function(t,n,i){},555:function(t,n,i){"use strict";i.r(n);var e=i(561),s=i(550);for(var a in s)["default"].indexOf(a)<0&&function(t){i.d(n,t,(function(){return s[t]}))}(a);i(556);var o=i(129),c=Object(o.a)(s.default,e.a,e.b,!1,null,null,null);c.options.__file="src/components/pos.vue",n.default=c.exports},556:function(t,n,i){"use strict";var e=i(552);i.n(e).a},557:function(t,n,i){},558:function(t,n,i){"use strict";var e=i(553);i.n(e).a},560:function(t,n,i){"use strict";i.d(n,"a",(function(){return e})),i.d(n,"b",(function(){return s}));var e=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"home-container",class:t.$lang},[i("div",{staticClass:"home-content",style:{height:t.winHeight}},[t.fetchData.videoSrc?i("video",{ref:"bgVideo",staticClass:"bg-video",class:t.isIE?"ie":"",attrs:{src:t.fetchData.videoSrc,muted:"",loop:"",autoplay:!t.isIE,poster:t.fetchData.videoPoster||""},domProps:{muted:!0}}):i("div",{staticClass:"bg-video__bg",style:{backgroundImage:"url("+(t.fetchData.videoPoster||"")+")"}}),t._v(" "),t.showChannelLink?i("a",{staticClass:"channel-link",attrs:{href:t.fetchData.channelLink,target:"_blank"}},[i("img",{attrs:{src:t.fetchData.channelImg}})]):t._e(),t._v(" "),i("div",{staticClass:"account-container",style:{transform:"scaleX("+t.accountScale+")",right:t.modalRight*t.accountScale+"%"}},[i("div",{staticClass:"inner-container",style:{transform:"scaleY("+t.accountScale+")",top:t.contentTop*t.accountScale+"%"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isDown,expression:"!isDown"}],staticClass:"down-container"},[i("div",{staticClass:"line"}),t._v(" "),i("div",{staticClass:"down-content",domProps:{innerHTML:t._s(t.$MI18N.WORD.succTxt)}}),t._v(" "),i("a",{staticClass:"to-question",attrs:{href:t.fetchData.downloadPcLink,target:"_blank"},on:{click:t.handleDown}},[t._v(t._s(t.$MI18N.WORD.downloadTxt))])]),t._v(" "),i("mhy-account",{directives:[{name:"show",rawName:"v-show",value:t.isDown,expression:"isDown"}],staticClass:"center",attrs:{"register-header-text":t.$MI18N.WORD.regText,"register-button-text":t.$MI18N.WORD.regBtnTxt,"login-button-text":t.$MI18N.WORD.regBtnTxt},on:{"login-success":t.onLoginSuccess,"login-click":t.onLoginClick,"register-success":t.onRegisterSuccess,"login-fail":t.onLoginFail,"register-fail":t.onRegisterFail,"register-click":t.onRegisterClick,"to-register":t.toReg,"to-login":t.toLogin}})],1)])]),t._v(" "),i("div",{staticClass:"home-title img",style:{transform:"scale("+t.accountScale+")",left:t.titleLeft*t.accountScale+"%",top:t.titleTop*t.accountScale+"%"}},[i("img",{attrs:{src:t.fetchData.pcTitle,alt:""}})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isModal,expression:"isModal"}],staticClass:"modal-container"},[i("div",{staticClass:"modal-content bg"},[i("div",{staticClass:"modal-title center"},[t._v("Tip")]),t._v(" "),i("div",{staticClass:"close bg",on:{click:function(n){t.isModal=!1}}}),t._v(" "),i("div",{staticClass:"real-content center",domProps:{innerHTML:t._s(t.modalText)}}),t._v(" "),i("div",{staticClass:"btn-confirm center",on:{click:function(n){t.isModal=!1}}},[t._v("Confirm")])])]),t._v(" "),t.showEditBox?i("pos-box",{attrs:{titleLeft:t.titleLeft,titleTop:t.titleTop,modalRight:t.modalRight,contentTop:t.contentTop},on:{change:t.syncPos}}):t._e()],1)},s=[];e._withStripped=!0},561:function(t,n,i){"use strict";i.d(n,"a",(function(){return e})),i.d(n,"b",(function(){return s}));var e=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"pos-box"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[i("div",{staticClass:"pos-box-item"},[i("span",{staticClass:"pos-box-item__title"},[t._v("标题距左边：")]),t._v(" "),i("input",{attrs:{step:"0.1",type:"number"},domProps:{value:t.titleLeft},on:{input:function(n){return t.change(n.target,"titleLeft")}}})]),t._v(" "),i("div",{staticClass:"pos-box-item"},[i("span",{staticClass:"pos-box-item__title"},[t._v("标题距上边：")]),t._v(" "),i("input",{attrs:{step:"0.1",type:"number"},domProps:{value:t.titleTop},on:{input:function(n){return t.change(n.target,"titleTop")}}})]),t._v(" "),i("div",{staticClass:"pos-box-item"},[i("span",{staticClass:"pos-box-item__title"},[t._v("注册框距右边：")]),t._v(" "),i("input",{attrs:{step:"0.1",type:"number"},domProps:{value:t.modalRight},on:{input:function(n){return t.change(n.target,"modalRight")}}})]),t._v(" "),i("div",{staticClass:"pos-box-item"},[i("span",{staticClass:"pos-box-item__title"},[t._v("注册框(内容区)距上边：")]),t._v(" "),i("input",{attrs:{step:"0.1",type:"number"},domProps:{value:t.contentTop},on:{input:function(n){return t.change(n.target,"contentTop")}}})])]),t._v(" "),i("div",{staticClass:"pos-box-action"},[t.show?i("button",{staticClass:"pos-box-action__hide",on:{click:function(n){t.show=!1}}},[t._v("隐藏")]):i("button",{staticClass:"pos-box-action__show",on:{click:function(n){t.show=!0}}},[t._v("展示")])])])},s=[];e._withStripped=!0}}]);
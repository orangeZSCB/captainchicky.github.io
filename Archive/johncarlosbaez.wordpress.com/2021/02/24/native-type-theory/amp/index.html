<!DOCTYPE html>
<html amp lang="en" i-amphtml-layout="" i-amphtml-no-boilerplate="" transformed="self;v=1">
<head><meta charset="utf-8"><style amp-runtime="" i-amphtml-version="012109102127000">html{overflow-x:hidden!important}html.i-amphtml-fie{height:100%!important;width:100%!important}html:not([amp4ads]),html:not([amp4ads]) body{height:auto!important}html:not([amp4ads]) body{margin:0!important}body{-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%}html.i-amphtml-singledoc.i-amphtml-embedded{-ms-touch-action:pan-y pinch-zoom;touch-action:pan-y pinch-zoom}html.i-amphtml-fie>body,html.i-amphtml-singledoc>body{overflow:visible!important}html.i-amphtml-fie:not(.i-amphtml-inabox)>body,html.i-amphtml-singledoc:not(.i-amphtml-inabox)>body{position:relative!important}html.i-amphtml-ios-embed-legacy>body{overflow-x:hidden!important;overflow-y:auto!important;position:absolute!important}html.i-amphtml-ios-embed{overflow-y:auto!important;position:static}#i-amphtml-wrapper{overflow-x:hidden!important;overflow-y:auto!important;position:absolute!important;top:0!important;left:0!important;right:0!important;bottom:0!important;margin:0!important;display:block!important}html.i-amphtml-ios-embed.i-amphtml-ios-overscroll,html.i-amphtml-ios-embed.i-amphtml-ios-overscroll>#i-amphtml-wrapper{-webkit-overflow-scrolling:touch!important}#i-amphtml-wrapper>body{position:relative!important;border-top:1px solid transparent!important}#i-amphtml-wrapper+body{visibility:visible}#i-amphtml-wrapper+body .i-amphtml-lightbox-element,#i-amphtml-wrapper+body[i-amphtml-lightbox]{visibility:hidden}#i-amphtml-wrapper+body[i-amphtml-lightbox] .i-amphtml-lightbox-element{visibility:visible}#i-amphtml-wrapper.i-amphtml-scroll-disabled,.i-amphtml-scroll-disabled{overflow-x:hidden!important;overflow-y:hidden!important}amp-instagram{padding:54px 0px 0px!important;background-color:#fff}amp-iframe iframe{box-sizing:border-box!important}[amp-access][amp-access-hide]{display:none}[subscriptions-dialog],body:not(.i-amphtml-subs-ready) [subscriptions-action],body:not(.i-amphtml-subs-ready) [subscriptions-section]{display:none!important}amp-experiment,amp-live-list>[update]{display:none}amp-list[resizable-children]>.i-amphtml-loading-container.amp-hidden{display:none!important}amp-list [fetch-error],amp-list[load-more] [load-more-button],amp-list[load-more] [load-more-end],amp-list[load-more] [load-more-failed],amp-list[load-more] [load-more-loading]{display:none}amp-list[diffable] div[role=list]{display:block}amp-story-page,amp-story[standalone]{min-height:1px!important;display:block!important;height:100%!important;margin:0!important;padding:0!important;overflow:hidden!important;width:100%!important}amp-story[standalone]{background-color:#000!important;position:relative!important}amp-story-page{background-color:#757575}amp-story .amp-active>div,amp-story .i-amphtml-loader-background{display:none!important}amp-story-page:not(:first-of-type):not([distance]):not([active]){transform:translateY(1000vh)!important}amp-autocomplete{position:relative!important;display:inline-block!important}amp-autocomplete>input,amp-autocomplete>textarea{padding:0.5rem;border:1px solid rgba(0,0,0,0.33)}.i-amphtml-autocomplete-results,amp-autocomplete>input,amp-autocomplete>textarea{font-size:1rem;line-height:1.5rem}[amp-fx^=fly-in]{visibility:hidden}amp-script[nodom],amp-script[sandboxed]{position:fixed!important;top:0!important;width:1px!important;height:1px!important;overflow:hidden!important;visibility:hidden}
/*# sourceURL=/css/ampdoc.css*/[hidden]{display:none!important}.i-amphtml-element{display:inline-block}.i-amphtml-blurry-placeholder{transition:opacity 0.3s cubic-bezier(0.0,0.0,0.2,1)!important;pointer-events:none}[layout=nodisplay]:not(.i-amphtml-element){display:none!important}.i-amphtml-layout-fixed,[layout=fixed][width][height]:not(.i-amphtml-layout-fixed){display:inline-block;position:relative}.i-amphtml-layout-responsive,[layout=responsive][width][height]:not(.i-amphtml-layout-responsive),[width][height][heights]:not([layout]):not(.i-amphtml-layout-responsive),[width][height][sizes]:not(img):not([layout]):not(.i-amphtml-layout-responsive){display:block;position:relative}.i-amphtml-layout-intrinsic,[layout=intrinsic][width][height]:not(.i-amphtml-layout-intrinsic){display:inline-block;position:relative;max-width:100%}.i-amphtml-layout-intrinsic .i-amphtml-sizer{max-width:100%}.i-amphtml-intrinsic-sizer{max-width:100%;display:block!important}.i-amphtml-layout-container,.i-amphtml-layout-fixed-height,[layout=container],[layout=fixed-height][height]:not(.i-amphtml-layout-fixed-height){display:block;position:relative}.i-amphtml-layout-fill,.i-amphtml-layout-fill.i-amphtml-notbuilt,[layout=fill]:not(.i-amphtml-layout-fill),body noscript>*{display:block;overflow:hidden!important;position:absolute;top:0;left:0;bottom:0;right:0}body noscript>*{position:absolute!important;width:100%;height:100%;z-index:2}body noscript{display:inline!important}.i-amphtml-layout-flex-item,[layout=flex-item]:not(.i-amphtml-layout-flex-item){display:block;position:relative;-ms-flex:1 1 auto;flex:1 1 auto}.i-amphtml-layout-fluid{position:relative}.i-amphtml-layout-size-defined{overflow:hidden!important}.i-amphtml-layout-awaiting-size{position:absolute!important;top:auto!important;bottom:auto!important}i-amphtml-sizer{display:block!important}@supports (aspect-ratio:1/1){i-amphtml-sizer.i-amphtml-disable-ar{display:none!important}}.i-amphtml-blurry-placeholder,.i-amphtml-fill-content{display:block;height:0;max-height:100%;max-width:100%;min-height:100%;min-width:100%;width:0;margin:auto}.i-amphtml-layout-size-defined .i-amphtml-fill-content{position:absolute;top:0;left:0;bottom:0;right:0}.i-amphtml-replaced-content,.i-amphtml-screen-reader{padding:0!important;border:none!important}.i-amphtml-screen-reader{position:fixed!important;top:0px!important;left:0px!important;width:4px!important;height:4px!important;opacity:0!important;overflow:hidden!important;margin:0!important;display:block!important;visibility:visible!important}.i-amphtml-screen-reader~.i-amphtml-screen-reader{left:8px!important}.i-amphtml-screen-reader~.i-amphtml-screen-reader~.i-amphtml-screen-reader{left:12px!important}.i-amphtml-screen-reader~.i-amphtml-screen-reader~.i-amphtml-screen-reader~.i-amphtml-screen-reader{left:16px!important}.i-amphtml-unresolved{position:relative;overflow:hidden!important}.i-amphtml-select-disabled{-webkit-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.i-amphtml-notbuilt,[layout]:not(.i-amphtml-element),[width][height][heights]:not([layout]):not(.i-amphtml-element),[width][height][sizes]:not(img):not([layout]):not(.i-amphtml-element){position:relative;overflow:hidden!important;color:transparent!important}.i-amphtml-notbuilt:not(.i-amphtml-layout-container)>*,[layout]:not([layout=container]):not(.i-amphtml-element)>*,[width][height][heights]:not([layout]):not(.i-amphtml-element)>*,[width][height][sizes]:not([layout]):not(.i-amphtml-element)>*{display:none}amp-img:not(.i-amphtml-element)[i-amphtml-ssr]>img.i-amphtml-fill-content{display:block}.i-amphtml-notbuilt:not(.i-amphtml-layout-container),[layout]:not([layout=container]):not(.i-amphtml-element),[width][height][heights]:not([layout]):not(.i-amphtml-element),[width][height][sizes]:not(img):not([layout]):not(.i-amphtml-element){color:transparent!important;line-height:0!important}.i-amphtml-ghost{visibility:hidden!important}.i-amphtml-element>[placeholder],[layout]:not(.i-amphtml-element)>[placeholder],[width][height][heights]:not([layout]):not(.i-amphtml-element)>[placeholder],[width][height][sizes]:not([layout]):not(.i-amphtml-element)>[placeholder]{display:block;line-height:normal}.i-amphtml-element>[placeholder].amp-hidden,.i-amphtml-element>[placeholder].hidden{visibility:hidden}.i-amphtml-element:not(.amp-notsupported)>[fallback],.i-amphtml-layout-container>[placeholder].amp-hidden,.i-amphtml-layout-container>[placeholder].hidden{display:none}.i-amphtml-layout-size-defined>[fallback],.i-amphtml-layout-size-defined>[placeholder]{position:absolute!important;top:0!important;left:0!important;right:0!important;bottom:0!important;z-index:1}amp-img[i-amphtml-ssr]:not(.i-amphtml-element)>[placeholder]{z-index:auto}.i-amphtml-notbuilt>[placeholder]{display:block!important}.i-amphtml-hidden-by-media-query{display:none!important}.i-amphtml-element-error{background:red!important;color:#fff!important;position:relative!important}.i-amphtml-element-error:before{content:attr(error-message)}i-amp-scroll-container,i-amphtml-scroll-container{position:absolute;top:0;left:0;right:0;bottom:0;display:block}i-amp-scroll-container.amp-active,i-amphtml-scroll-container.amp-active{overflow:auto;-webkit-overflow-scrolling:touch}.i-amphtml-loading-container{display:block!important;pointer-events:none;z-index:1}.i-amphtml-notbuilt>.i-amphtml-loading-container{display:block!important}.i-amphtml-loading-container.amp-hidden{visibility:hidden}.i-amphtml-element>[overflow]{cursor:pointer;position:relative;z-index:2;visibility:hidden;display:initial;line-height:normal}.i-amphtml-layout-size-defined>[overflow]{position:absolute}.i-amphtml-element>[overflow].amp-visible{visibility:visible}template{display:none!important}.amp-border-box,.amp-border-box *,.amp-border-box :after,.amp-border-box :before{box-sizing:border-box}amp-pixel{display:none!important}amp-analytics,amp-auto-ads,amp-story-auto-ads{position:fixed!important;top:0!important;width:1px!important;height:1px!important;overflow:hidden!important;visibility:hidden}html.i-amphtml-fie>amp-analytics{position:initial!important}[visible-when-invalid]:not(.visible),form [submit-error],form [submit-success],form [submitting]{display:none}amp-accordion{display:block!important}@media (min-width:1px){:where(amp-accordion>section)>:first-child{margin:0;background-color:#efefef;padding-right:20px;border:1px solid #dfdfdf}:where(amp-accordion>section)>:last-child{margin:0}}amp-accordion>section{float:none!important}amp-accordion>section>*{float:none!important;display:block!important;overflow:hidden!important;position:relative!important}amp-accordion,amp-accordion>section{margin:0}amp-accordion:not(.i-amphtml-built)>section>:last-child{display:none!important}amp-accordion:not(.i-amphtml-built)>section[expanded]>:last-child{display:block!important}
/*# sourceURL=/css/ampshared.css*/</style><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1"><meta property="og:type" content="article"><meta property="og:title" content="Native Type Theory"><meta property="og:url" content="https://johncarlosbaez.wordpress.com/2021/02/24/native-type-theory/"><meta property="og:description" content="guest post by Christian Williams Native Type Theory is a new paper by myself and Mike Stay. We propose a unifying method of reasoning for programming languages: model a language as a theory, form t…"><meta property="article:published_time" content="2021-02-24T02:36:39+00:00"><meta property="article:modified_time" content="2021-02-20T03:08:30+00:00"><meta property="og:site_name" content="Azimuth"><meta property="og:image" content="https://s0.wp.com/i/blank.jpg"><meta property="og:locale" content="en_US"><meta name="twitter:site" content="@wordpressdotcom"><meta name="twitter:text:title" content="Native Type Theory"><meta name="twitter:card" content="summary"><meta property="fb:app_id" content="249643311490"><meta property="article:publisher" content="https://www.facebook.com/WordPresscom"><meta name="generator" content="AMP Plugin v2.0.5; mode=reader; theme=legacy"><meta name="generator" content="WordPress.com"><title>Native Type Theory – Azimuth</title><link rel="preconnect" href="https://cdn.ampproject.org"><link rel="preload" as="script" href="https://cdn.ampproject.org/v0.js"><script async="" src="https://cdn.ampproject.org/v0.js"></script><style amp-custom="">.jp-related-posts-i2__row{display:flex;margin-top:1.5rem}.jp-related-posts-i2__row:first-child{margin-top:0}.jp-related-posts-i2__post{flex-grow:1;flex-basis:0;margin:0 10px;display:flex;flex-direction:column;padding-left:0}.jp-related-posts-i2__row[data-post-count="3"] .jp-related-posts-i2__post{max-width:calc(33% - 20px)}.jp-related-posts-i2__row[data-post-count="2"] .jp-related-posts-i2__post,.jp-related-posts-i2__row[data-post-count="1"] .jp-related-posts-i2__post{max-width:calc(50% - 20px)}.jp-related-posts-i2__post-date,.jp-related-posts-i2__post-context{flex-direction:row;display:block}.jp-related-posts-i2__post-link{display:block;width:100%;line-height:1.2em}.jp-relatedposts-i2[data-layout=list] .jp-related-posts-i2__row{margin-top:0;display:block}.jp-relatedposts-i2[data-layout=list] .jp-related-posts-i2__post{max-width:none;margin:0}@media only screen and (max-width:640px){.jp-related-posts-i2__row{margin-top:0;display:block}.jp-related-posts-i2__row[data-post-count] .jp-related-posts-i2__post{max-width:none;margin:0;margin-top:1rem}}h1,h2,h3{overflow-wrap:break-word}ol,ul{overflow-wrap:break-word}p{overflow-wrap:break-word}@-webkit-keyframes a{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes a{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes b{0%{background-position:0 0}to{background-position:30px 0}}@keyframes b{0%{background-position:0 0}to{background-position:30px 0}}amp-img.amp-wp-enforced-sizes[layout="intrinsic"] > img{object-fit:contain}.amp-wp-enforced-sizes{max-width:100%;margin:0 auto}html{background:#0a89c0}body{background:#fff;color:#353535;font-family:Georgia,"Times New Roman",Times,Serif;font-weight:300;line-height:1.75em}p,ol,ul{margin:0 0 1em;padding:0}a,a:visited{color:#0a89c0}a:hover,a:active,a:focus{color:#353535}.amp-wp-meta,.amp-wp-header div,.amp-wp-title,.amp-wp-tax-category,.amp-wp-comments-link,.amp-wp-footer p,.back-to-top{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue",sans-serif}.amp-wp-header{background-color:#0a89c0}.amp-wp-header div{color:#fff;font-size:1em;font-weight:400;margin:0 auto;max-width:calc(840px - 32px);padding:.875em 16px;position:relative}.amp-wp-header a{color:#fff;text-decoration:none}.amp-wp-article{color:#353535;font-weight:400;margin:1.5em auto;max-width:840px;overflow-wrap:break-word;word-wrap:break-word}.amp-wp-article-header{align-items:center;align-content:stretch;display:flex;flex-wrap:wrap;justify-content:space-between;margin:1.5em 16px 0}.amp-wp-title{color:#353535;display:block;flex:1 0 100%;font-weight:900;margin:0 0 .625em;width:100%}.amp-wp-meta{color:#696969;display:inline-block;flex:2 1 50%;font-size:.875em;line-height:1.5em;margin:0 0 1.5em;padding:0}.amp-wp-article-header .amp-wp-meta:last-of-type{text-align:right}.amp-wp-article-header .amp-wp-meta:first-of-type{text-align:left}.amp-wp-byline amp-img,.amp-wp-byline .amp-wp-author{display:inline-block;vertical-align:middle}.amp-wp-byline amp-img{border:1px solid #0a89c0;border-radius:50%;position:relative;margin-right:6px}.amp-wp-posted-on{text-align:right}.amp-wp-article-content{margin:0 16px}.amp-wp-article-content ul,.amp-wp-article-content ol{margin-left:1em}.amp-wp-article-content amp-img{margin:0 auto}.amp-wp-article-footer .amp-wp-meta{display:block}.amp-wp-tax-category{color:#696969;font-size:.875em;line-height:1.5em;margin:1.5em 16px}.amp-wp-comments-link{color:#696969;font-size:.875em;line-height:1.5em;text-align:center;margin:2.25em 0 1.5em}.amp-wp-comments-link a{border-style:solid;border-color:#c2c2c2;border-width:1px 1px 2px;border-radius:4px;background-color:transparent;color:#0a89c0;cursor:pointer;display:block;font-size:14px;font-weight:600;line-height:18px;margin:0 auto;max-width:200px;padding:11px 16px;text-decoration:none;width:50%;-webkit-transition:background-color .2s ease;transition:background-color .2s ease}.amp-wp-footer{border-top:1px solid #c2c2c2;margin:calc(1.5em - 1px) 0 0}.amp-wp-footer div{margin:0 auto;max-width:calc(840px - 32px);padding:1.25em 16px 1.25em;position:relative}.amp-wp-footer h2{font-size:1em;line-height:1.375em;margin:0 0 .5em}.amp-wp-footer p{color:#696969;font-size:.8em;line-height:1.5em;margin:0 85px 0 0}.amp-wp-footer a{text-decoration:none}.back-to-top{bottom:1.275em;font-size:.8em;font-weight:600;line-height:2em;position:absolute;right:16px}@font-face{font-family:"social-logos";src:url("/wp-content/mu-plugins/social-logos/social-logos.eot?5d3b4da4f6c2460dd842dbf9e0992ea6");font-weight:normal;font-style:normal}@font-face{font-family:"social-logos";src:url("/wp-content/mu-plugins/social-logos/social-logos.eot?5d3b4da4f6c2460dd842dbf9e0992ea6");src:url("/wp-content/mu-plugins/social-logos/social-logos.eot?5d3b4da4f6c2460dd842dbf9e0992ea6#iefix") format("embedded-opentype"),url("/wp-content/mu-plugins/social-logos/social-logos.woff") format("woff"),url("/wp-content/mu-plugins/social-logos/social-logos.ttf?5d3b4da4f6c2460dd842dbf9e0992ea6") format("truetype");font-weight:normal;font-style:normal;font-display:swap}.jp-related-posts-i2__row{display:flex;margin-top:1.5rem}.jp-related-posts-i2__row:first-child{margin-top:0}.jp-related-posts-i2__post{flex-grow:1;flex-basis:0;margin:0 10px;display:flex;flex-direction:column;padding-left:0}.jp-related-posts-i2__row[data-post-count="3"] .jp-related-posts-i2__post{max-width:calc(33% - 20px)}.jp-related-posts-i2__row[data-post-count="2"] .jp-related-posts-i2__post,.jp-related-posts-i2__row[data-post-count="1"] .jp-related-posts-i2__post{max-width:calc(50% - 20px)}.jp-related-posts-i2__post-date,.jp-related-posts-i2__post-context{flex-direction:row;display:block}.jp-related-posts-i2__post-link{display:block;width:100%;line-height:1.2em}.jp-relatedposts-i2[data-layout="list"] .jp-related-posts-i2__row{margin-top:0;display:block}.jp-relatedposts-i2[data-layout="list"] .jp-related-posts-i2__post{max-width:none;margin:0}@media only screen and (max-width: 640px){.jp-related-posts-i2__row{margin-top:0;display:block}.jp-related-posts-i2__row[data-post-count] .jp-related-posts-i2__post{max-width:none;margin:0;margin-top:1rem}}

/*# sourceURL=amp-custom.css */</style><link rel="canonical" href="https://johncarlosbaez.wordpress.com/2021/02/24/native-type-theory/"><script type="application/ld+json">{"@context":"http:\/\/schema.org","publisher":{"@type":"Organization","name":"Azimuth","logo":{"@type":"ImageObject","url":"https:\/\/s2.wp.com\/wp-content\/plugins\/amp-2.0\/assets\/images\/amp-page-fallback-wordpress-publisher-logo.png"}},"@type":"BlogPosting","mainEntityOfPage":"https:\/\/johncarlosbaez.wordpress.com\/2021\/02\/24\/native-type-theory\/","headline":"Native Type Theory","datePublished":"2021-02-24T02:36:39+00:00","dateModified":"2021-02-20T03:08:30+00:00","author":{"@type":"Person","name":"John Baez"},"image":{"@type":"ImageObject","url":"https:\/\/0.gravatar.com\/avatar\/34784534843022b3541c8ddd693718cb?s=200&amp;d=identicon&amp;r=G","width":200,"height":200}}</script></head>

<body class="">

<header id="top" class="amp-wp-header">
	<div>
		<a href="https://johncarlosbaez.wordpress.com/">
									<span class="amp-site-title">
				Azimuth			</span>
		</a>
	</div>
</header>

<article class="amp-wp-article">
	<header class="amp-wp-article-header">
		<h1 class="amp-wp-title">Native Type Theory</h1>
			<div class="amp-wp-meta amp-wp-byline">
					<amp-img src="https://secure.gravatar.com/avatar/34784534843022b3541c8ddd693718cb?s=24&amp;d=identicon&amp;r=g" alt="John Baez" width="24" height="24" layout="fixed" class="i-amphtml-layout-fixed i-amphtml-layout-size-defined" style="width:24px;height:24px;" i-amphtml-layout="fixed"></amp-img>
				<span class="amp-wp-author author vcard">John Baez</span>
	</div>
<div class="amp-wp-meta amp-wp-posted-on">
	<time datetime="2021-02-24T02:36:39+00:00">
		7 months ago	</time>
</div>
	</header>

	
	<div class="amp-wp-article-content">
		<p><em>guest post by <strong><a href="https://math.ucr.edu/~williams/">Christian Williams</a></strong></em></p>
<p><a href="https://arxiv.org/abs/2102.04672">Native Type Theory</a> is a new paper by myself and Mike Stay. We propose a unifying method of reasoning for programming languages: model a language as a theory, form the category of presheaves, and use the internal language of the topos.</p>
<div align="center">
<amp-img src="https://s0.wp.com/latex.php?latex=%5Cmathtt%7Blanguage%7D+%5Cxrightarrow%7B%5C%3B%5CLambda%5C%3B%7D+%5Cmathtt%7Bcategory%7D+%5Cxrightarrow%7B%5C%3B%5Cmathscr%7BP%7D%5C%3B%7D+%5Cmathtt%7Btopos%7D+%5Cxrightarrow%7B%5C%3B%5CPhi%5C%3B%7D+%5Cmathtt%7Btype%5C%3B+system%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\mathtt{language} \xrightarrow{\;\Lambda\;} \mathtt{category} \xrightarrow{\;\mathscr{P}\;} \mathtt{topos} \xrightarrow{\;\Phi\;} \mathtt{type\; system}" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="369" height="22" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzIyJyB3aWR0aD0nMzY5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZlcnNpb249JzEuMScvPg=="></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=%5Cmathtt%7Blanguage%7D+%5Cxrightarrow%7B%5C%3B%5CLambda%5C%3B%7D+%5Cmathtt%7Bcategory%7D+%5Cxrightarrow%7B%5C%3B%5Cmathscr%7BP%7D%5C%3B%7D+%5Cmathtt%7Btopos%7D+%5Cxrightarrow%7B%5C%3B%5CPhi%5C%3B%7D+%5Cmathtt%7Btype%5C%3B+system%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\mathtt{language} \xrightarrow{\;\Lambda\;} \mathtt{category} \xrightarrow{\;\mathscr{P}\;} \mathtt{topos} \xrightarrow{\;\Phi\;} \mathtt{type\; system}" class="latex" width="369" height="22"></noscript></amp-img>
</div>
<p>Though these steps are known, the original aspect is simply the composite and its application to software. If implemented properly, we believe that native types can be very useful to the virtual world. Here, I want to share some of what we’ve learned so far.</p>
<h2>The Free Lunch</h2>
<p>The biggest lesson of this paper was to have faith in what John Baez calls the <em>dao</em> of mathematics. For two years, Mike and I and Greg Meredith looked for ways to generate logics for programming languages; we tried many approaches, but ultimately the solution was the simplest.</p>
<p>Two facts of category theory provide an abundance of structure, for free:</p>
<ol>
<li>Every category embeds into its presheaf topos.</li>
<li>
<p>Every topos has a rich internal language.</p>
</li>
</ol>
<p>The embedding preserves limits and exponents, hence we can apply this to “higher-order theories”.</p>
<p>For now we explore the language of a topos. There are multiple views, and often its full power is not used. Toposes support geometric logic, predicate logic, and moreover <em>dependent type theory</em>. We emphasize the latter: dependent types are expressive and pervasive, yet underutilized in mathematics.</p>
<h2>The Language of a Topos</h2>
<p>My thinking has been shaped by the idea that even foundations are categorical. Virtually any language can be modelled as a structured category: the most comprehensive reference I’ve found is <a href="https://people.mpi-sws.org/~dreyer/courses/catlogic/jacobs.pdf">Categorical Logic and Type Theory</a> by Bart Jacobs.</p>
<p>Probably the most studied categorical structure of logic is the <em>topos</em>. Toposes of sheaves, functors which coherently assign data to a space, were first applied to algebraic geometry. A continuous map <amp-img src="https://s0.wp.com/latex.php?latex=f%5Ccolon+X%5Cto+Y&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="f\colon X\to Y" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="75" height="14" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE0JyB3aWR0aD0nNzUnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=f%5Ccolon+X%5Cto+Y&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="f\colon X\to Y" class="latex" width="75" height="14"></noscript></amp-img> induces an inverse image <amp-img src="https://s0.wp.com/latex.php?latex=f%5Ccolon++Sh%28Y%29%5Cto+Sh%28X%29&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="f\colon  Sh(Y)\to Sh(X)" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="140" height="17" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE3JyB3aWR0aD0nMTQwJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZlcnNpb249JzEuMScvPg=="></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=f%5Ccolon++Sh%28Y%29%5Cto+Sh%28X%29&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="f\colon  Sh(Y)\to Sh(X)" class="latex" width="140" height="17"></noscript></amp-img> which is a left adjoint that preserves finite limits. This gives <em>geometric morphisms</em> of toposes, and <em>geometric logic</em> (<amp-img src="https://s0.wp.com/latex.php?latex=%5Cwedge&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\wedge" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="11" height="11" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzExJyB3aWR0aD0nMTEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=%5Cwedge&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\wedge" class="latex" width="11" height="11"></noscript></amp-img> and <amp-img src="https://s0.wp.com/latex.php?latex=%5Cexists&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\exists" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="9" height="12" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzEyJyB3aWR0aD0nOScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=%5Cexists&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\exists" class="latex" width="9" height="12"></noscript></amp-img>) as the language of <a href="https://www.oliviacaramello.com/Unification/ToposesBridges.html">classifying toposes</a>.</p>
<p>Though geometric logic is an important level of generality, the language of toposes is more powerful. In La Jolla, California 1965, the budding category theory community recognized Grothendieck’s categories of sheaves as being fundamentally logical structures, which generalize set theory. An <em>elementary topos</em> is a cartesian closed category with finite limits and a subobject classifier, an object which represents the correspondence of predicates and subobjects.</p>
<p>The language of an elementary topos T is encapsulated in a pair of structures.</p>
<p>• The predicate fibration <amp-img src="https://s0.wp.com/latex.php?latex=%5COmega%5Ctext%7BT%7D%5Cto+%5Ctext%7BT%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\Omega\text{T}\to \text{T}" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="61" height="12" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzEyJyB3aWR0aD0nNjEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=%5COmega%5Ctext%7BT%7D%5Cto+%5Ctext%7BT%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\Omega\text{T}\to \text{T}" class="latex" width="61" height="12"></noscript></amp-img> reasons about predicates, like subsets.</p>
<p>• The codomain fibration <amp-img src="https://s0.wp.com/latex.php?latex=%5CDelta%5Ctext%7BT%7D%5Cto+%5Ctext%7BT%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\Delta\text{T}\to \text{T}" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="63" height="12" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzEyJyB3aWR0aD0nNjMnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=%5CDelta%5Ctext%7BT%7D%5Cto+%5Ctext%7BT%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\Delta\text{T}\to \text{T}" class="latex" width="63" height="12"></noscript></amp-img> reasons about dependent types, like indexed sets.</p>
<h3>Predicate Logic</h3>
<p>Throughout mathematics, we use the internal predicate logic of Set. It is the canonical example of a topos: a predicate such as <amp-img src="https://s0.wp.com/latex.php?latex=%5Cvarphi%28x%29%3D+%28x%2B3%5Cgeq+5%29&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\varphi(x)= (x+3\geq 5)" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="133" height="18" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE4JyB3aWR0aD0nMTMzJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZlcnNpb249JzEuMScvPg=="></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=%5Cvarphi%28x%29%3D+%28x%2B3%5Cgeq+5%29&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\varphi(x)= (x+3\geq 5)" class="latex" width="133" height="18"></noscript></amp-img> is a function <amp-img src="https://s0.wp.com/latex.php?latex=%5Cvarphi%3AX%5Cto+2%3D%5C%7Bt%2Cf%5C%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\varphi:X\to 2=\{t,f\}" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="134" height="17" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE3JyB3aWR0aD0nMTM0JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZlcnNpb249JzEuMScvPg=="></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=%5Cvarphi%3AX%5Cto+2%3D%5C%7Bt%2Cf%5C%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\varphi:X\to 2=\{t,f\}" class="latex" width="134" height="17"></noscript></amp-img>, which corresponds to its <em>comprehension</em>, the subobject of true terms <amp-img src="https://s0.wp.com/latex.php?latex=%5C%7Bx%5Cin+X+%5C%3B%7C%5C%3B+%5Cvarphi%28x%29%3Dt%5C%7D%5Csubseteq+X&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\{x\in X \;|\; \varphi(x)=t\}\subseteq X" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="170" height="17" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE3JyB3aWR0aD0nMTcwJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZlcnNpb249JzEuMScvPg=="></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=%5C%7Bx%5Cin+X+%5C%3B%7C%5C%3B+%5Cvarphi%28x%29%3Dt%5C%7D%5Csubseteq+X&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\{x\in X \;|\; \varphi(x)=t\}\subseteq X" class="latex" width="170" height="17"></noscript></amp-img>.</p>
<p>Predicates on any set <amp-img src="https://s0.wp.com/latex.php?latex=X&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="X" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="14" height="12" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzEyJyB3aWR0aD0nMTQnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=X&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="X" class="latex" width="14" height="12"></noscript></amp-img> form a Boolean algebra <amp-img src="https://s0.wp.com/latex.php?latex=P%28X%29%3D%5BX%2C2%5D&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="P(X)=[X,2]" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="99" height="17" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE3JyB3aWR0aD0nOTknIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=P%28X%29%3D%5BX%2C2%5D&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="P(X)=[X,2]" class="latex" width="99" height="17"></noscript></amp-img>, ordered by implication. Every function <amp-img src="https://s0.wp.com/latex.php?latex=f%3AX%5Cto+Y&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="f:X\to Y" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="77" height="16" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE2JyB3aWR0aD0nNzcnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=f%3AX%5Cto+Y&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="f:X\to Y" class="latex" width="77" height="16"></noscript></amp-img> gives an <em>inverse image</em> <amp-img src="https://s0.wp.com/latex.php?latex=P%28f%29%3AP%28Y%29%5Cto+P%28X%29&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="P(f):P(Y)\to P(X)" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="152" height="18" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE4JyB3aWR0aD0nMTUyJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZlcnNpb249JzEuMScvPg=="></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=P%28f%29%3AP%28Y%29%5Cto+P%28X%29&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="P(f):P(Y)\to P(X)" class="latex" width="152" height="18"></noscript></amp-img>. This defines a functor <amp-img src="https://s0.wp.com/latex.php?latex=P%3A%5Ctext%7BSet%7D%5E%7B%5Ctext%7Bop%7D%7D+%5Cto+%5Ctext%7BBool%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="P:\text{Set}^{\text{op}} \to \text{Bool}" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="121" height="12" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzEyJyB3aWR0aD0nMTIxJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZlcnNpb249JzEuMScvPg=="></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=P%3A%5Ctext%7BSet%7D%5E%7B%5Ctext%7Bop%7D%7D+%5Cto+%5Ctext%7BBool%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="P:\text{Set}^{\text{op}} \to \text{Bool}" class="latex" width="121" height="12"></noscript></amp-img> which is a first-order <a href="https://ncatlab.org/nlab/show/hyperdoctrine">hyperdoctrine</a>: each <amp-img src="https://s0.wp.com/latex.php?latex=P%28f%29&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="P(f)" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="34" height="17" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE3JyB3aWR0aD0nMzQnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=P%28f%29&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="P(f)" class="latex" width="34" height="17"></noscript></amp-img> has adjoints <amp-img src="https://s0.wp.com/latex.php?latex=%5Cexists_f%5Cdashv+P%28f%29%5Cdashv+%5Cforall_f&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\exists_f\dashv P(f)\dashv \forall_f" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="107" height="19" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE5JyB3aWR0aD0nMTA3JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZlcnNpb249JzEuMScvPg=="></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=%5Cexists_f%5Cdashv+P%28f%29%5Cdashv+%5Cforall_f&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\exists_f\dashv P(f)\dashv \forall_f" class="latex" width="107" height="19"></noscript></amp-img> representing quantification, which satisfy the Beck–Chevalley condition.</p>
<p>Altogether, this structure formalizes classical higher-order predicate logic. Most formulae, such as</p>
<div align="center">
<amp-img src="https://s0.wp.com/latex.php?latex=%5Cforall+x%2Cy%3A%5Cmathbb%7BQ%7D.%5C%3B+%5Cexists+z%3A%5Cmathbb%7BQ%7D.%5C%3B+x%3C+z+%5Cwedge+z%3C+y&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\forall x,y:\mathbb{Q}.\; \exists z:\mathbb{Q}.\; x&lt; z \wedge z&lt; y" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="219" height="15" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE1JyB3aWR0aD0nMjE5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZlcnNpb249JzEuMScvPg=="></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=%5Cforall+x%2Cy%3A%5Cmathbb%7BQ%7D.%5C%3B+%5Cexists+z%3A%5Cmathbb%7BQ%7D.%5C%3B+x%3C+z+%5Cwedge+z%3C+y&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\forall x,y:\mathbb{Q}.\; \exists z:\mathbb{Q}.\; x&lt; z \wedge z&lt; y" class="latex" width="219" height="15"></noscript></amp-img>
<p><amp-img src="https://s0.wp.com/latex.php?latex=%5Cforall+f%3AY%5EX.%5C%3B+%5Cforall+y%3AY.%5C%3B+%5Cexists+x%3AX.%5C%3B+f%28x%29%3Dy+%5CRightarrow+&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\forall f:Y^X.\; \forall y:Y.\; \exists x:X.\; f(x)=y \Rightarrow " class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="255" height="18" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE4JyB3aWR0aD0nMjU1JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZlcnNpb249JzEuMScvPg=="></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=%5Cforall+f%3AY%5EX.%5C%3B+%5Cforall+y%3AY.%5C%3B+%5Cexists+x%3AX.%5C%3B+f%28x%29%3Dy+%5CRightarrow+&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\forall f:Y^X.\; \forall y:Y.\; \exists x:X.\; f(x)=y \Rightarrow " class="latex" width="255" height="18"></noscript></amp-img><br>
<amp-img src="https://s0.wp.com/latex.php?latex=%5Cexists+g%3AX%5EY.%5C%3B+%5Cforall+y%3AY.%5C%3B+f%28g%28y%29%29%3Dy&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\exists g:X^Y.\; \forall y:Y.\; f(g(y))=y" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="198" height="18" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE4JyB3aWR0aD0nMTk4JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZlcnNpb249JzEuMScvPg=="></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=%5Cexists+g%3AX%5EY.%5C%3B+%5Cforall+y%3AY.%5C%3B+f%28g%28y%29%29%3Dy&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\exists g:X^Y.\; \forall y:Y.\; f(g(y))=y" class="latex" width="198" height="18"></noscript></amp-img>
</p></div>
<p>can be modelled in this logical structure of <amp-img src="https://s0.wp.com/latex.php?latex=%5Ctext%7BSet%7D.&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\text{Set}." class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="27" height="12" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzEyJyB3aWR0aD0nMjcnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=%5Ctext%7BSet%7D.&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\text{Set}." class="latex" width="27" height="12"></noscript></amp-img></p>
<p>This idea is fairly well-known; people often talk about the “Mitchell-Benabou language” of a topos. However, this language is predicate logic over a <em>simple type theory</em>, meaning that the only type formation rules are products and functions. Many constructions in mathematics do not fit into this language, because types often depend on terms:</p>
<div align="center">
<amp-img src="https://s0.wp.com/latex.php?latex=%5Ctext%7BNat%7D%28n%29+%3A%3D+%5C%7Bm%3A%5Cmathbb%7BN%7D+%5C%3B%7C%5C%3B+m%5Cleq+n%5C%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\text{Nat}(n) := \{m:\mathbb{N} \;|\; m\leq n\}" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="192" height="18" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE4JyB3aWR0aD0nMTkyJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZlcnNpb249JzEuMScvPg=="></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=%5Ctext%7BNat%7D%28n%29+%3A%3D+%5C%7Bm%3A%5Cmathbb%7BN%7D+%5C%3B%7C%5C%3B+m%5Cleq+n%5C%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\text{Nat}(n) := \{m:\mathbb{N} \;|\; m\leq n\}" class="latex" width="192" height="18"></noscript></amp-img>
<p><amp-img src="https://s0.wp.com/latex.php?latex=%5Cmathbb%7BZ%7D_p+%3A%3D+%5Cmathbb%7BZ%7D%2F%5Clangle+x%5Csim+y+%5Cequiv+%5Cexists+z%3A%5Cmathbb%7BZ%7D.%5C%3B+%28x-y%29%3Dz%5Ccdot+p%5Crangle&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\mathbb{Z}_p := \mathbb{Z}/\langle x\sim y \equiv \exists z:\mathbb{Z}.\; (x-y)=z\cdot p\rangle" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="289" height="19" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE5JyB3aWR0aD0nMjg5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZlcnNpb249JzEuMScvPg=="></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=%5Cmathbb%7BZ%7D_p+%3A%3D+%5Cmathbb%7BZ%7D%2F%5Clangle+x%5Csim+y+%5Cequiv+%5Cexists+z%3A%5Cmathbb%7BZ%7D.%5C%3B+%28x-y%29%3Dz%5Ccdot+p%5Crangle&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\mathbb{Z}_p := \mathbb{Z}/\langle x\sim y \equiv \exists z:\mathbb{Z}.\; (x-y)=z\cdot p\rangle" class="latex" width="289" height="19"></noscript></amp-img>
</p></div>
<p>This is provided by extending predicate logic with dependent types, described in the next section.</p>
<p>So, we have briefly discussed how the structure of Set allows for the the explicit construction of predicates used in everyday mathematics. The significance is that these can be constructed <em>in any topos</em>: we thereby generalize the historical conception of logic.</p>
<p>For example, in a presheaf topos <amp-img src="https://s0.wp.com/latex.php?latex=%5BC%5E%7B%5Ctext%7Bop%7D%7D%2C%5Ctext%7BSet%7D%5D&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="[C^{\text{op}},\text{Set}]" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="62" height="18" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE4JyB3aWR0aD0nNjInIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=%5BC%5E%7B%5Ctext%7Bop%7D%7D%2C%5Ctext%7BSet%7D%5D&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="[C^{\text{op}},\text{Set}]" class="latex" width="62" height="18"></noscript></amp-img>, the law of excluded middle does not hold, and for good reason. Negation of a <a href="https://ncatlab.org/nlab/show/sieve">sieve</a> is necessarily more subtle than negation of subsets, because we must exclude the possibility that a morphism is not in but “precomposes in” to a sieve. This will be explored more in the applications post.</p>
<h3>Dependent Type Theory</h3>
<p>Dependency is pervasive throughout mathematics. What is a monoid? It’s a set <amp-img src="https://s0.wp.com/latex.php?latex=M&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="M" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="17" height="11" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzExJyB3aWR0aD0nMTcnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=M&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="M" class="latex" width="17" height="11"></noscript></amp-img>, and <em>then</em> operations <amp-img src="https://s0.wp.com/latex.php?latex=m%2Ce&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="m,e" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="28" height="10" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzEwJyB3aWR0aD0nMjgnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=m%2Ce&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="m,e" class="latex" width="28" height="10"></noscript></amp-img> on <amp-img src="https://s0.wp.com/latex.php?latex=M&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="M" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="17" height="11" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzExJyB3aWR0aD0nMTcnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=M&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="M" class="latex" width="17" height="11"></noscript></amp-img>, and <em>then</em> conditions on <amp-img src="https://s0.wp.com/latex.php?latex=m%2Ce&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="m,e" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="28" height="10" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzEwJyB3aWR0aD0nMjgnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=m%2Ce&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="m,e" class="latex" width="28" height="10"></noscript></amp-img>. Most objects are constructed in <em>layers</em>, each of which depends on the ones before. Type theory is often regarded as “fancy” and only necessary in complex situations, similar to misperceptions of category theory; yet dependent types are everywhere.</p>
<p>The basic idea is to represent dependency using <em>preimage</em>. A type which depends on terms of another type, <amp-img src="https://s0.wp.com/latex.php?latex=x%3AA%5Cvdash+B%28x%29%3A%5Ctext%7BType%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="x:A\vdash B(x):\text{Type}" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="140" height="18" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE4JyB3aWR0aD0nMTQwJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZlcnNpb249JzEuMScvPg=="></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=x%3AA%5Cvdash+B%28x%29%3A%5Ctext%7BType%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="x:A\vdash B(x):\text{Type}" class="latex" width="140" height="18"></noscript></amp-img>, can be understood as an indexed set <amp-img src="https://s0.wp.com/latex.php?latex=%5C%7BB%28x%29%5C%7D_%7Bx%3AA%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\{B(x)\}_{x:A}" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="69" height="17" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE3JyB3aWR0aD0nNjknIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=%5C%7BB%28x%29%5C%7D_%7Bx%3AA%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\{B(x)\}_{x:A}" class="latex" width="69" height="17"></noscript></amp-img>, and this in turn is represented as a function <amp-img src="https://s0.wp.com/latex.php?latex=%5Ccoprod+x%3AA.%5C%3B+B%28x%29%5Cto+A&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\coprod x:A.\; B(x)\to A" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="136" height="19" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE5JyB3aWR0aD0nMTM2JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZlcnNpb249JzEuMScvPg=="></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=%5Ccoprod+x%3AA.%5C%3B+B%28x%29%5Cto+A&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\coprod x:A.\; B(x)\to A" class="latex" width="136" height="19"></noscript></amp-img>. Hence the “world of types which depend on <amp-img src="https://s0.wp.com/latex.php?latex=A&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="A" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="12" height="11" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzExJyB3aWR0aD0nMTInIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=A&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="A" class="latex" width="12" height="11"></noscript></amp-img>” is the <em>slice category</em> <amp-img src="https://s0.wp.com/latex.php?latex=%5Ctext%7BSet%7D%2FA&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\text{Set}/A" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="42" height="16" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE2JyB3aWR0aD0nNDInIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=%5Ctext%7BSet%7D%2FA&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\text{Set}/A" class="latex" width="42" height="16"></noscript></amp-img>.</p>
<p>The poset of “<amp-img src="https://s0.wp.com/latex.php?latex=A&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="A" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="12" height="11" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzExJyB3aWR0aD0nMTInIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=A&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="A" class="latex" width="12" height="11"></noscript></amp-img>-predicates” sits inside the category of “<amp-img src="https://s0.wp.com/latex.php?latex=A&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="A" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="12" height="11" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzExJyB3aWR0aD0nMTInIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=A&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="A" class="latex" width="12" height="11"></noscript></amp-img>-types”: a comprehension is an injection <amp-img src="https://s0.wp.com/latex.php?latex=%5C%7Bx%5Cin+A+%5C%3B%7C%5C%3B+%5Cvarphi%28x%29%5C%7D%5Cto+A&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\{x\in A \;|\; \varphi(x)\}\to A" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="141" height="18" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE4JyB3aWR0aD0nMTQxJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZlcnNpb249JzEuMScvPg=="></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=%5C%7Bx%5Cin+A+%5C%3B%7C%5C%3B+%5Cvarphi%28x%29%5C%7D%5Cto+A&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\{x\in A \;|\; \varphi(x)\}\to A" class="latex" width="141" height="18"></noscript></amp-img>. This is a degenerate kind of dependent type, where preimages are <em>truth values</em> rather than sets. So we are expanding into a larger environment, which shares all of the same structure. The slice category <amp-img src="https://s0.wp.com/latex.php?latex=%5Ctext%7BSet%7D%2FA&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\text{Set}/A" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="42" height="16" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE2JyB3aWR0aD0nNDInIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=%5Ctext%7BSet%7D%2FA&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\text{Set}/A" class="latex" width="42" height="16"></noscript></amp-img> is a categorification of <amp-img src="https://s0.wp.com/latex.php?latex=P%28A%29&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="P(A)" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="36" height="18" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE4JyB3aWR0aD0nMzYnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=P%28A%29&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="P(A)" class="latex" width="36" height="18"></noscript></amp-img>: its morphisms are commuting triangles, understood as <amp-img src="https://s0.wp.com/latex.php?latex=A&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="A" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="12" height="11" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzExJyB3aWR0aD0nMTInIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=A&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="A" class="latex" width="12" height="11"></noscript></amp-img>-indexed functions.</p>
<p>Every function <amp-img src="https://s0.wp.com/latex.php?latex=f%5Ccolon+A%5Cto+B&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="f\colon A\to B" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="73" height="16" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE2JyB3aWR0aD0nNzMnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=f%5Ccolon+A%5Cto+B&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="f\colon A\to B" class="latex" width="73" height="16"></noscript></amp-img> gives a functor <amp-img src="https://s0.wp.com/latex.php?latex=f%5E%5Cast%3A+%5Ctext%7BSet%7D%2FB%5Cto+%5Ctext%7BSet%7D%2FA&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="f^\ast: \text{Set}/B\to \text{Set}/A" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="142" height="17" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE3JyB3aWR0aD0nMTQyJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZlcnNpb249JzEuMScvPg=="></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=f%5E%5Cast%3A+%5Ctext%7BSet%7D%2FB%5Cto+%5Ctext%7BSet%7D%2FA&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="f^\ast: \text{Set}/B\to \text{Set}/A" class="latex" width="142" height="17"></noscript></amp-img> by pullback; this generalizes preimage, and can be expressed as substitution: given <amp-img src="https://s0.wp.com/latex.php?latex=p%3AS%5Cto+B&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="p:S\to B" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="73" height="16" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE2JyB3aWR0aD0nNzMnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=p%3AS%5Cto+B&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="p:S\to B" class="latex" width="73" height="16"></noscript></amp-img>, we can form the <amp-img src="https://s0.wp.com/latex.php?latex=A&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="A" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="12" height="11" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzExJyB3aWR0aD0nMTInIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=A&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="A" class="latex" width="12" height="11"></noscript></amp-img>-type</p>
<div align="center">
<amp-img src="https://s0.wp.com/latex.php?latex=x%3AA%5Cvdash+f%5E%5Cast%28S%29%28x%29+%3D+S%28f%28x%29%29%3A%5Ctext%7BType%7D.&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="x:A\vdash f^\ast(S)(x) = S(f(x)):\text{Type}." class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="248" height="18" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE4JyB3aWR0aD0nMjQ4JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZlcnNpb249JzEuMScvPg=="></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=x%3AA%5Cvdash+f%5E%5Cast%28S%29%28x%29+%3D+S%28f%28x%29%29%3A%5Ctext%7BType%7D.&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="x:A\vdash f^\ast(S)(x) = S(f(x)):\text{Type}." class="latex" width="248" height="18"></noscript></amp-img>
</div>
<p>This functor has adjoints <amp-img src="https://s0.wp.com/latex.php?latex=%5CSigma_f%5Cdashv+f%5E%5Cast%5Cdashv+%5CPi_f&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\Sigma_f\dashv f^\ast\dashv \Pi_f" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="93" height="18" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE4JyB3aWR0aD0nOTMnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=%5CSigma_f%5Cdashv+f%5E%5Cast%5Cdashv+%5CPi_f&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\Sigma_f\dashv f^\ast\dashv \Pi_f" class="latex" width="93" height="18"></noscript></amp-img>, called <strong>dependent sum</strong> and <strong>dependent product</strong>: these are the powerful tools for constructing dependent types. They generalize not only quantification, but also product and hom: the triple adjunction induces an adjoint co/monad on <amp-img src="https://s0.wp.com/latex.php?latex=%5Ctext%7BSet%7D%2FB&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\text{Set}/B" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="44" height="16" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE2JyB3aWR0aD0nNDQnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=%5Ctext%7BSet%7D%2FB&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\text{Set}/B" class="latex" width="44" height="16"></noscript></amp-img></p>
<div align="center">
<amp-img src="https://s0.wp.com/latex.php?latex=%5CSigma_f%5Ccirc+f%5E%5Cast+%3D+-%5Ctimes+f+%5Cdashv+%5Bf%2C-%5D+%3D+%5CPi_f%5Ccirc+f%5E%5Cast.&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\Sigma_f\circ f^\ast = -\times f \dashv [f,-] = \Pi_f\circ f^\ast." class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="251" height="18" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE4JyB3aWR0aD0nMjUxJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZlcnNpb249JzEuMScvPg=="></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=%5CSigma_f%5Ccirc+f%5E%5Cast+%3D+-%5Ctimes+f+%5Cdashv+%5Bf%2C-%5D+%3D+%5CPi_f%5Ccirc+f%5E%5Cast.&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\Sigma_f\circ f^\ast = -\times f \dashv [f,-] = \Pi_f\circ f^\ast." class="latex" width="251" height="18"></noscript></amp-img>
</div>
<p>These <em>dependent</em> generalizations of product and function types are extremely useful.</p>
<p>Indexed sum generalizes product type by allowing the type of the second coordinate to depend on the term in the first coordinate.  For example: <amp-img src="https://s0.wp.com/latex.php?latex=%5CSigma+n%3A%5Cmathbb%7BN%7D.%5Ctext%7BList%7D%28n%29&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\Sigma n:\mathbb{N}.\text{List}(n)" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="100" height="18" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE4JyB3aWR0aD0nMTAwJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZlcnNpb249JzEuMScvPg=="></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=%5CSigma+n%3A%5Cmathbb%7BN%7D.%5Ctext%7BList%7D%28n%29&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\Sigma n:\mathbb{N}.\text{List}(n)" class="latex" width="100" height="18"></noscript></amp-img> consists of dependent pairs <amp-img src="https://s0.wp.com/latex.php?latex=%5Clangle+n%2C+l%3A%5Ctext%7BList%7D%28n%29%5Crangle&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\langle n, l:\text{List}(n)\rangle" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="96" height="19" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE5JyB3aWR0aD0nOTYnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=%5Clangle+n%2C+l%3A%5Ctext%7BList%7D%28n%29%5Crangle&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\langle n, l:\text{List}(n)\rangle" class="latex" width="96" height="19"></noscript></amp-img>.</p>
<p>Indexed product generalizes function type by allowing the type of the codomain to depend on the term in the domain.  For example: <amp-img src="https://s0.wp.com/latex.php?latex=%5CPi+S%3A%5Ctext%7BSet%7D.%5Ctext%7BList%7D%28S%29&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\Pi S:\text{Set}.\text{List}(S)" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="114" height="17" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE3JyB3aWR0aD0nMTE0JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZlcnNpb249JzEuMScvPg=="></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=%5CPi+S%3A%5Ctext%7BSet%7D.%5Ctext%7BList%7D%28S%29&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\Pi S:\text{Set}.\text{List}(S)" class="latex" width="114" height="17"></noscript></amp-img> consists of dependent functions <amp-img src="https://s0.wp.com/latex.php?latex=%5Clambda+S%3A%5Ctext%7BSet%7D.%5Cvarphi%28S%29%3A%5Ctext%7BList%7D%28S%29&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\lambda S:\text{Set}.\varphi(S):\text{List}(S)" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="159" height="17" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE3JyB3aWR0aD0nMTU5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZlcnNpb249JzEuMScvPg=="></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=%5Clambda+S%3A%5Ctext%7BSet%7D.%5Cvarphi%28S%29%3A%5Ctext%7BList%7D%28S%29&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\lambda S:\text{Set}.\varphi(S):\text{List}(S)" class="latex" width="159" height="17"></noscript></amp-img>.</p>
<p>See how natural they are? We use them all the time, often without realizing. Simply by using preimage for indexing, we generalize product and function types to “branching” versions, allowing us to build up complex objects such as</p>
<div align="center">
<amp-img src="https://s0.wp.com/latex.php?latex=%5Ctext%7BMonoid%7D%3A%3D+%5CSigma+M%3A%5Ctext%7BSet%7D.%5CSigma+m%3AM%5E2%5Cto+M.%5CSigma+e%3A1%5Cto+M...&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\text{Monoid}:= \Sigma M:\text{Set}.\Sigma m:M^2\to M.\Sigma e:1\to M..." class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="358" height="15" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE1JyB3aWR0aD0nMzU4JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZlcnNpb249JzEuMScvPg=="></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=%5Ctext%7BMonoid%7D%3A%3D+%5CSigma+M%3A%5Ctext%7BSet%7D.%5CSigma+m%3AM%5E2%5Cto+M.%5CSigma+e%3A1%5Cto+M...&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\text{Monoid}:= \Sigma M:\text{Set}.\Sigma m:M^2\to M.\Sigma e:1\to M..." class="latex" width="358" height="15"></noscript></amp-img><br>
<amp-img src="https://s0.wp.com/latex.php?latex=...%5CPi+%28a%2Cb%2Cc%29%3AM%5E3.+m%28m%28a%2Cb%29%2Cc%29%3Dm%28a%2Cm%28b%2Cc%29%29.+&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="...\Pi (a,b,c):M^3. m(m(a,b),c)=m(a,m(b,c)). " class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="323" height="18" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE4JyB3aWR0aD0nMzIzJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZlcnNpb249JzEuMScvPg=="></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=...%5CPi+%28a%2Cb%2Cc%29%3AM%5E3.+m%28m%28a%2Cb%29%2Cc%29%3Dm%28a%2Cm%28b%2Cc%29%29.+&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="...\Pi (a,b,c):M^3. m(m(a,b),c)=m(a,m(b,c)). " class="latex" width="323" height="18"></noscript></amp-img><br>
<amp-img src="https://s0.wp.com/latex.php?latex=%5CPi+a%3AM.+m%28e%2Ca%29%3Da%3Dm%28a%2Ce%29.&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\Pi a:M. m(e,a)=a=m(a,e)." class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="212" height="17" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE3JyB3aWR0aD0nMjEyJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZlcnNpb249JzEuMScvPg=="></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=%5CPi+a%3AM.+m%28e%2Ca%29%3Da%3Dm%28a%2Ce%29.&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="\Pi a:M. m(e,a)=a=m(a,e)." class="latex" width="212" height="17"></noscript></amp-img>
</div>
<p>This rich language is available in <em>any</em> topos. I think we’ve hardly begun to see its utility in mathematics, computation, and everyday life.</p>
<h3>All Together</h3>
<p>A topos has two systems, predicate logic and dependent type theory. Each is modelled by a <em>fibration</em>, a functor into the topos for which the preimage of <amp-img src="https://s0.wp.com/latex.php?latex=A&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="A" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="12" height="11" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzExJyB3aWR0aD0nMTInIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=A&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="A" class="latex" width="12" height="11"></noscript></amp-img> are the <amp-img src="https://s0.wp.com/latex.php?latex=A&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="A" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="12" height="11" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzExJyB3aWR0aD0nMTInIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=A&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="A" class="latex" width="12" height="11"></noscript></amp-img>-predicates / <amp-img src="https://s0.wp.com/latex.php?latex=A&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="A" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="12" height="11" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzExJyB3aWR0aD0nMTInIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=A&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="A" class="latex" width="12" height="11"></noscript></amp-img>-types. A morphism in the domain is a judgement of the form “in the context of variables of these (dependent) types, this term is of this (dependent) type”.</p>
<div align="center">
<amp-img src="https://s0.wp.com/latex.php?latex=a%3AA%2Cb%3AB%28a%29%2C%5Cdots%2C+z%3AZ%28y%29%5Cvdash+t%3AT&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="a:A,b:B(a),\dots, z:Z(y)\vdash t:T" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="240" height="18" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE4JyB3aWR0aD0nMjQwJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZlcnNpb249JzEuMScvPg=="></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=a%3AA%2Cb%3AB%28a%29%2C%5Cdots%2C+z%3AZ%28y%29%5Cvdash+t%3AT&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="a:A,b:B(a),\dots, z:Z(y)\vdash t:T" class="latex" width="240" height="18"></noscript></amp-img>
</div>
<p>The two fibrations are connected by comprehension which converts a predicate to a type, and image factorization which converts a type to a predicate. These give that the predicate fibration is a reflective subcategory of the type fibration.</p>
<p>Altogether, this forms the <em>full higher-order dependent type theory</em> of a topos (<a href="https://people.mpi-sws.org/~dreyer/courses/catlogic/jacobs.pdf">Jacobs</a> Ch.11). As far as I know, this is what deserves to be called “the” language of a topos, in its full glory. This type theory is used in proof assistants such as Coq and Agda; eventually, this expressive logic + dependent types will be utilized in many programming languages.</p>
<h2>Conclusion</h2>
<p>Native Type Theory gives provides a shared framework of reasoning for a broad class of languages. We believe that this could have a significant impact on software and system design, if integrated into existing systems.</p>
<p>In the next post, we’ll explore why this language is so useful for the topos of <em>presheaves on theories</em>. Please let me know any thoughts or questions about this post and especially the paper. Thank you.</p>
<div id="jp-post-flair" class="sharedaddy">
<nav class="jp-relatedposts-i2" data-layout="grid"><h3 class="jp-relatedposts-headline"><em>Related</em></h3><div class="jp-related-posts-i2__row" data-post-count="3"><ul id="related-posts-item-614fb2ca3be77" aria-labelledby="related-posts-item-614fb2ca3be77-label" class="jp-related-posts-i2__post" role="menuitem"><li class="jp-related-posts-i2__post-link"><a id="related-posts-item-614fb2ca3be77-label" href="https://johncarlosbaez.wordpress.com/2011/03/04/network-theory-part-1/">Network Theory (Part 1)</a></li><li class="jp-related-posts-i2__post-date">4 March, 2011</li><li class="jp-related-posts-i2__post-context">In "biology"</li></ul><ul id="related-posts-item-614fb2ca3be90" aria-labelledby="related-posts-item-614fb2ca3be90-label" class="jp-related-posts-i2__post" role="menuitem"><li class="jp-related-posts-i2__post-link"><a id="related-posts-item-614fb2ca3be90-label" href="https://johncarlosbaez.wordpress.com/2018/01/22/statebox-a-universal-language-of-distributed-systems/">Statebox: A Universal Language of Distributed Systems</a></li><li class="jp-related-posts-i2__post-date">22 January, 2018</li><li class="jp-related-posts-i2__post-context">In "networks"</li></ul><ul id="related-posts-item-614fb2ca3be9d" aria-labelledby="related-posts-item-614fb2ca3be9d-label" class="jp-related-posts-i2__post" role="menuitem"><li class="jp-related-posts-i2__post-link"><a id="related-posts-item-614fb2ca3be9d-label" href="https://johncarlosbaez.wordpress.com/2016/10/23/open-and-interconnected-systems/">Open and Interconnected Systems</a></li><li class="jp-related-posts-i2__post-date">23 October, 2016</li><li class="jp-related-posts-i2__post-context">In "mathematics"</li></ul></div></nav></div>	</div>

	<footer class="amp-wp-article-footer">
			<div class="amp-wp-meta amp-wp-tax-category">
		Categories: <a href="https://johncarlosbaez.wordpress.com/category/computer-science/" rel="category tag">computer science</a>, <a href="https://johncarlosbaez.wordpress.com/category/mathematics/" rel="category tag">mathematics</a>	</div>

		<div class="amp-wp-meta amp-wp-comments-link">
		<a href="https://johncarlosbaez.wordpress.com/2021/02/24/native-type-theory/#comments">
			Leave a Comment		</a>
	</div>
	</footer>
</article>

<footer class="amp-wp-footer">
	<div>
		<h2>Azimuth</h2>
		<a href="#top" class="back-to-top">Back to top</a>
	</div>
</footer>


	<amp-pixel src="https://pixel.wp.com/b.gif?rand=RANDOM&amp;host=johncarlosbaez.wordpress.com&amp;ref=DOCUMENT_REFERRER&amp;amp=1&amp;blog=12777403&amp;v=wpcom&amp;tz=0&amp;user_id=0&amp;post=30344&amp;subd=johncarlosbaez" class="i-amphtml-layout-fixed i-amphtml-layout-size-defined" style="width:1px;height:1px;" i-amphtml-layout="fixed"></amp-pixel>
	<amp-pixel src="https://pixel.wp.com/b.gif?rand=RANDOM&amp;v=wpcom-no-pv&amp;crypt=UE40eW5QN0p8M2Y%2FRE1TaVhzUzFMbjdWNHpwZGhTayxPSUFCMGNrd29%2BSmw0TDhnZmRTK0hlRi9QSGh6bi9GXVhBJWIlZlR5U1JMLU8%2FMkNtblkvY1d6eVImTEouL2UleTBRZmlNdkp0aWJaNFJhPS0uTVpHa1hIc25EbVJyQmw%2FSkZ%2BQ3lLcjU%2FNDBvQTZSVHh0P3IlM0Y0UUh%2Bbys%2Fa35jaWhBV2VncFAuY2h0VkRQS2prSGtwTm56RGZIMFI0bUpRZkFybyxTUD9saXlBTD9jUzMlMldSWVpwTHVUY243JUxwdlJ0LEdYMCZ1MEM%2FTW4%3D" class="i-amphtml-layout-fixed i-amphtml-layout-size-defined" style="width:1px;height:1px;" i-amphtml-layout="fixed"></amp-pixel>
	


</body></html>

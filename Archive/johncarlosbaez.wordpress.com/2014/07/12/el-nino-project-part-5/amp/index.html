<!DOCTYPE html>
<html amp lang="en" i-amphtml-layout="" i-amphtml-no-boilerplate="" transformed="self;v=1">
<head><meta charset="utf-8"><style amp-runtime="" i-amphtml-version="012109102127000">html{overflow-x:hidden!important}html.i-amphtml-fie{height:100%!important;width:100%!important}html:not([amp4ads]),html:not([amp4ads]) body{height:auto!important}html:not([amp4ads]) body{margin:0!important}body{-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%}html.i-amphtml-singledoc.i-amphtml-embedded{-ms-touch-action:pan-y pinch-zoom;touch-action:pan-y pinch-zoom}html.i-amphtml-fie>body,html.i-amphtml-singledoc>body{overflow:visible!important}html.i-amphtml-fie:not(.i-amphtml-inabox)>body,html.i-amphtml-singledoc:not(.i-amphtml-inabox)>body{position:relative!important}html.i-amphtml-ios-embed-legacy>body{overflow-x:hidden!important;overflow-y:auto!important;position:absolute!important}html.i-amphtml-ios-embed{overflow-y:auto!important;position:static}#i-amphtml-wrapper{overflow-x:hidden!important;overflow-y:auto!important;position:absolute!important;top:0!important;left:0!important;right:0!important;bottom:0!important;margin:0!important;display:block!important}html.i-amphtml-ios-embed.i-amphtml-ios-overscroll,html.i-amphtml-ios-embed.i-amphtml-ios-overscroll>#i-amphtml-wrapper{-webkit-overflow-scrolling:touch!important}#i-amphtml-wrapper>body{position:relative!important;border-top:1px solid transparent!important}#i-amphtml-wrapper+body{visibility:visible}#i-amphtml-wrapper+body .i-amphtml-lightbox-element,#i-amphtml-wrapper+body[i-amphtml-lightbox]{visibility:hidden}#i-amphtml-wrapper+body[i-amphtml-lightbox] .i-amphtml-lightbox-element{visibility:visible}#i-amphtml-wrapper.i-amphtml-scroll-disabled,.i-amphtml-scroll-disabled{overflow-x:hidden!important;overflow-y:hidden!important}amp-instagram{padding:54px 0px 0px!important;background-color:#fff}amp-iframe iframe{box-sizing:border-box!important}[amp-access][amp-access-hide]{display:none}[subscriptions-dialog],body:not(.i-amphtml-subs-ready) [subscriptions-action],body:not(.i-amphtml-subs-ready) [subscriptions-section]{display:none!important}amp-experiment,amp-live-list>[update]{display:none}amp-list[resizable-children]>.i-amphtml-loading-container.amp-hidden{display:none!important}amp-list [fetch-error],amp-list[load-more] [load-more-button],amp-list[load-more] [load-more-end],amp-list[load-more] [load-more-failed],amp-list[load-more] [load-more-loading]{display:none}amp-list[diffable] div[role=list]{display:block}amp-story-page,amp-story[standalone]{min-height:1px!important;display:block!important;height:100%!important;margin:0!important;padding:0!important;overflow:hidden!important;width:100%!important}amp-story[standalone]{background-color:#000!important;position:relative!important}amp-story-page{background-color:#757575}amp-story .amp-active>div,amp-story .i-amphtml-loader-background{display:none!important}amp-story-page:not(:first-of-type):not([distance]):not([active]){transform:translateY(1000vh)!important}amp-autocomplete{position:relative!important;display:inline-block!important}amp-autocomplete>input,amp-autocomplete>textarea{padding:0.5rem;border:1px solid rgba(0,0,0,0.33)}.i-amphtml-autocomplete-results,amp-autocomplete>input,amp-autocomplete>textarea{font-size:1rem;line-height:1.5rem}[amp-fx^=fly-in]{visibility:hidden}amp-script[nodom],amp-script[sandboxed]{position:fixed!important;top:0!important;width:1px!important;height:1px!important;overflow:hidden!important;visibility:hidden}
/*# sourceURL=/css/ampdoc.css*/[hidden]{display:none!important}.i-amphtml-element{display:inline-block}.i-amphtml-blurry-placeholder{transition:opacity 0.3s cubic-bezier(0.0,0.0,0.2,1)!important;pointer-events:none}[layout=nodisplay]:not(.i-amphtml-element){display:none!important}.i-amphtml-layout-fixed,[layout=fixed][width][height]:not(.i-amphtml-layout-fixed){display:inline-block;position:relative}.i-amphtml-layout-responsive,[layout=responsive][width][height]:not(.i-amphtml-layout-responsive),[width][height][heights]:not([layout]):not(.i-amphtml-layout-responsive),[width][height][sizes]:not(img):not([layout]):not(.i-amphtml-layout-responsive){display:block;position:relative}.i-amphtml-layout-intrinsic,[layout=intrinsic][width][height]:not(.i-amphtml-layout-intrinsic){display:inline-block;position:relative;max-width:100%}.i-amphtml-layout-intrinsic .i-amphtml-sizer{max-width:100%}.i-amphtml-intrinsic-sizer{max-width:100%;display:block!important}.i-amphtml-layout-container,.i-amphtml-layout-fixed-height,[layout=container],[layout=fixed-height][height]:not(.i-amphtml-layout-fixed-height){display:block;position:relative}.i-amphtml-layout-fill,.i-amphtml-layout-fill.i-amphtml-notbuilt,[layout=fill]:not(.i-amphtml-layout-fill),body noscript>*{display:block;overflow:hidden!important;position:absolute;top:0;left:0;bottom:0;right:0}body noscript>*{position:absolute!important;width:100%;height:100%;z-index:2}body noscript{display:inline!important}.i-amphtml-layout-flex-item,[layout=flex-item]:not(.i-amphtml-layout-flex-item){display:block;position:relative;-ms-flex:1 1 auto;flex:1 1 auto}.i-amphtml-layout-fluid{position:relative}.i-amphtml-layout-size-defined{overflow:hidden!important}.i-amphtml-layout-awaiting-size{position:absolute!important;top:auto!important;bottom:auto!important}i-amphtml-sizer{display:block!important}@supports (aspect-ratio:1/1){i-amphtml-sizer.i-amphtml-disable-ar{display:none!important}}.i-amphtml-blurry-placeholder,.i-amphtml-fill-content{display:block;height:0;max-height:100%;max-width:100%;min-height:100%;min-width:100%;width:0;margin:auto}.i-amphtml-layout-size-defined .i-amphtml-fill-content{position:absolute;top:0;left:0;bottom:0;right:0}.i-amphtml-replaced-content,.i-amphtml-screen-reader{padding:0!important;border:none!important}.i-amphtml-screen-reader{position:fixed!important;top:0px!important;left:0px!important;width:4px!important;height:4px!important;opacity:0!important;overflow:hidden!important;margin:0!important;display:block!important;visibility:visible!important}.i-amphtml-screen-reader~.i-amphtml-screen-reader{left:8px!important}.i-amphtml-screen-reader~.i-amphtml-screen-reader~.i-amphtml-screen-reader{left:12px!important}.i-amphtml-screen-reader~.i-amphtml-screen-reader~.i-amphtml-screen-reader~.i-amphtml-screen-reader{left:16px!important}.i-amphtml-unresolved{position:relative;overflow:hidden!important}.i-amphtml-select-disabled{-webkit-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.i-amphtml-notbuilt,[layout]:not(.i-amphtml-element),[width][height][heights]:not([layout]):not(.i-amphtml-element),[width][height][sizes]:not(img):not([layout]):not(.i-amphtml-element){position:relative;overflow:hidden!important;color:transparent!important}.i-amphtml-notbuilt:not(.i-amphtml-layout-container)>*,[layout]:not([layout=container]):not(.i-amphtml-element)>*,[width][height][heights]:not([layout]):not(.i-amphtml-element)>*,[width][height][sizes]:not([layout]):not(.i-amphtml-element)>*{display:none}amp-img:not(.i-amphtml-element)[i-amphtml-ssr]>img.i-amphtml-fill-content{display:block}.i-amphtml-notbuilt:not(.i-amphtml-layout-container),[layout]:not([layout=container]):not(.i-amphtml-element),[width][height][heights]:not([layout]):not(.i-amphtml-element),[width][height][sizes]:not(img):not([layout]):not(.i-amphtml-element){color:transparent!important;line-height:0!important}.i-amphtml-ghost{visibility:hidden!important}.i-amphtml-element>[placeholder],[layout]:not(.i-amphtml-element)>[placeholder],[width][height][heights]:not([layout]):not(.i-amphtml-element)>[placeholder],[width][height][sizes]:not([layout]):not(.i-amphtml-element)>[placeholder]{display:block;line-height:normal}.i-amphtml-element>[placeholder].amp-hidden,.i-amphtml-element>[placeholder].hidden{visibility:hidden}.i-amphtml-element:not(.amp-notsupported)>[fallback],.i-amphtml-layout-container>[placeholder].amp-hidden,.i-amphtml-layout-container>[placeholder].hidden{display:none}.i-amphtml-layout-size-defined>[fallback],.i-amphtml-layout-size-defined>[placeholder]{position:absolute!important;top:0!important;left:0!important;right:0!important;bottom:0!important;z-index:1}amp-img[i-amphtml-ssr]:not(.i-amphtml-element)>[placeholder]{z-index:auto}.i-amphtml-notbuilt>[placeholder]{display:block!important}.i-amphtml-hidden-by-media-query{display:none!important}.i-amphtml-element-error{background:red!important;color:#fff!important;position:relative!important}.i-amphtml-element-error:before{content:attr(error-message)}i-amp-scroll-container,i-amphtml-scroll-container{position:absolute;top:0;left:0;right:0;bottom:0;display:block}i-amp-scroll-container.amp-active,i-amphtml-scroll-container.amp-active{overflow:auto;-webkit-overflow-scrolling:touch}.i-amphtml-loading-container{display:block!important;pointer-events:none;z-index:1}.i-amphtml-notbuilt>.i-amphtml-loading-container{display:block!important}.i-amphtml-loading-container.amp-hidden{visibility:hidden}.i-amphtml-element>[overflow]{cursor:pointer;position:relative;z-index:2;visibility:hidden;display:initial;line-height:normal}.i-amphtml-layout-size-defined>[overflow]{position:absolute}.i-amphtml-element>[overflow].amp-visible{visibility:visible}template{display:none!important}.amp-border-box,.amp-border-box *,.amp-border-box :after,.amp-border-box :before{box-sizing:border-box}amp-pixel{display:none!important}amp-analytics,amp-auto-ads,amp-story-auto-ads{position:fixed!important;top:0!important;width:1px!important;height:1px!important;overflow:hidden!important;visibility:hidden}html.i-amphtml-fie>amp-analytics{position:initial!important}[visible-when-invalid]:not(.visible),form [submit-error],form [submit-success],form [submitting]{display:none}amp-accordion{display:block!important}@media (min-width:1px){:where(amp-accordion>section)>:first-child{margin:0;background-color:#efefef;padding-right:20px;border:1px solid #dfdfdf}:where(amp-accordion>section)>:last-child{margin:0}}amp-accordion>section{float:none!important}amp-accordion>section>*{float:none!important;display:block!important;overflow:hidden!important;position:relative!important}amp-accordion,amp-accordion>section{margin:0}amp-accordion:not(.i-amphtml-built)>section>:last-child{display:none!important}amp-accordion:not(.i-amphtml-built)>section[expanded]>:last-child{display:block!important}
/*# sourceURL=/css/ampshared.css*/</style><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1"><meta property="og:type" content="article"><meta property="og:title" content="El Niño Project (Part 5)"><meta property="og:url" content="https://johncarlosbaez.wordpress.com/2014/07/12/el-nino-project-part-5/"><meta property="og:description" content="  And now for some comic relief. Last time I explained how to download some weather data and start analyzing it, using programs written by Graham Jones. When you read that, did you think &amp;#822…"><meta property="article:published_time" content="2014-07-12T01:00:29+00:00"><meta property="article:modified_time" content="2014-07-15T05:23:24+00:00"><meta property="og:site_name" content="Azimuth"><meta property="og:image" content="https://lh6.googleusercontent.com/-l4tAc8oumTU/U6o8Ugy1DOI/AAAAAAAAwgY/ApsMCKE99pU/w653-h434-no/angry-programmer.jpg"><meta property="og:image:width" content="450"><meta property="og:locale" content="en_US"><meta name="twitter:site" content="@wordpressdotcom"><meta name="twitter:text:title" content="El Niño Project (Part 5)"><meta name="twitter:image" content="https://lh6.googleusercontent.com/-l4tAc8oumTU/U6o8Ugy1DOI/AAAAAAAAwgY/ApsMCKE99pU/w653-h434-no/angry-programmer.jpg?w=144"><meta name="twitter:card" content="summary"><meta property="fb:app_id" content="249643311490"><meta property="article:publisher" content="https://www.facebook.com/WordPresscom"><meta name="generator" content="AMP Plugin v2.0.5; mode=reader; theme=legacy"><meta name="generator" content="WordPress.com"><title>El Niño Project (Part 5) – Azimuth</title><link rel="preconnect" href="https://cdn.ampproject.org"><link rel="preload" as="script" href="https://cdn.ampproject.org/v0.js"><script async="" src="https://cdn.ampproject.org/v0.js"></script><script src="https://cdn.ampproject.org/v0/amp-anim-0.1.js" async="" custom-element="amp-anim"></script><style amp-custom="">.jp-related-posts-i2__row{display:flex;margin-top:1.5rem}.jp-related-posts-i2__row:first-child{margin-top:0}.jp-related-posts-i2__post{flex-grow:1;flex-basis:0;margin:0 10px;display:flex;flex-direction:column;padding-left:0}.jp-related-posts-i2__row[data-post-count="3"] .jp-related-posts-i2__post{max-width:calc(33% - 20px)}.jp-related-posts-i2__row[data-post-count="2"] .jp-related-posts-i2__post,.jp-related-posts-i2__row[data-post-count="1"] .jp-related-posts-i2__post{max-width:calc(50% - 20px)}.jp-related-posts-i2__post-date,.jp-related-posts-i2__post-context{flex-direction:row;display:block}.jp-related-posts-i2__post-link{display:block;width:100%;line-height:1.2em}.jp-relatedposts-i2[data-layout=list] .jp-related-posts-i2__row{margin-top:0;display:block}.jp-relatedposts-i2[data-layout=list] .jp-related-posts-i2__post{max-width:none;margin:0}@media only screen and (max-width:640px){.jp-related-posts-i2__row{margin-top:0;display:block}.jp-related-posts-i2__row[data-post-count] .jp-related-posts-i2__post{max-width:none;margin:0;margin-top:1rem}}h1,h2,h3{overflow-wrap:break-word}ul{overflow-wrap:break-word}p{overflow-wrap:break-word}@-webkit-keyframes a{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes a{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes b{0%{background-position:0 0}to{background-position:30px 0}}@keyframes b{0%{background-position:0 0}to{background-position:30px 0}}amp-img.amp-wp-enforced-sizes[layout="intrinsic"] > img,amp-anim.amp-wp-enforced-sizes[layout="intrinsic"] > img{object-fit:contain}.amp-wp-enforced-sizes{max-width:100%;margin:0 auto}html{background:#0a89c0}body{background:#fff;color:#353535;font-family:Georgia,"Times New Roman",Times,Serif;font-weight:300;line-height:1.75em}p,ul{margin:0 0 1em;padding:0}a,a:visited{color:#0a89c0}a:hover,a:active,a:focus{color:#353535}blockquote{color:#353535;background:rgba(127,127,127,.125);border-left:2px solid #0a89c0;margin:8px 0 24px 0;padding:16px}blockquote p:last-child{margin-bottom:0}.amp-wp-meta,.amp-wp-header div,.amp-wp-title,.amp-wp-tax-category,.amp-wp-comments-link,.amp-wp-footer p,.back-to-top{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue",sans-serif}.amp-wp-header{background-color:#0a89c0}.amp-wp-header div{color:#fff;font-size:1em;font-weight:400;margin:0 auto;max-width:calc(840px - 32px);padding:.875em 16px;position:relative}.amp-wp-header a{color:#fff;text-decoration:none}.amp-wp-article{color:#353535;font-weight:400;margin:1.5em auto;max-width:840px;overflow-wrap:break-word;word-wrap:break-word}.amp-wp-article-header{align-items:center;align-content:stretch;display:flex;flex-wrap:wrap;justify-content:space-between;margin:1.5em 16px 0}.amp-wp-title{color:#353535;display:block;flex:1 0 100%;font-weight:900;margin:0 0 .625em;width:100%}.amp-wp-meta{color:#696969;display:inline-block;flex:2 1 50%;font-size:.875em;line-height:1.5em;margin:0 0 1.5em;padding:0}.amp-wp-article-header .amp-wp-meta:last-of-type{text-align:right}.amp-wp-article-header .amp-wp-meta:first-of-type{text-align:left}.amp-wp-byline amp-img,.amp-wp-byline .amp-wp-author{display:inline-block;vertical-align:middle}.amp-wp-byline amp-img{border:1px solid #0a89c0;border-radius:50%;position:relative;margin-right:6px}.amp-wp-posted-on{text-align:right}.amp-wp-article-content{margin:0 16px}.amp-wp-article-content ul{margin-left:1em}.amp-wp-article-content amp-img{margin:0 auto}.amp-wp-article-footer .amp-wp-meta{display:block}.amp-wp-tax-category{color:#696969;font-size:.875em;line-height:1.5em;margin:1.5em 16px}.amp-wp-comments-link{color:#696969;font-size:.875em;line-height:1.5em;text-align:center;margin:2.25em 0 1.5em}.amp-wp-comments-link a{border-style:solid;border-color:#c2c2c2;border-width:1px 1px 2px;border-radius:4px;background-color:transparent;color:#0a89c0;cursor:pointer;display:block;font-size:14px;font-weight:600;line-height:18px;margin:0 auto;max-width:200px;padding:11px 16px;text-decoration:none;width:50%;-webkit-transition:background-color .2s ease;transition:background-color .2s ease}.amp-wp-footer{border-top:1px solid #c2c2c2;margin:calc(1.5em - 1px) 0 0}.amp-wp-footer div{margin:0 auto;max-width:calc(840px - 32px);padding:1.25em 16px 1.25em;position:relative}.amp-wp-footer h2{font-size:1em;line-height:1.375em;margin:0 0 .5em}.amp-wp-footer p{color:#696969;font-size:.8em;line-height:1.5em;margin:0 85px 0 0}.amp-wp-footer a{text-decoration:none}.back-to-top{bottom:1.275em;font-size:.8em;font-weight:600;line-height:2em;position:absolute;right:16px}@font-face{font-family:"social-logos";src:url("/wp-content/mu-plugins/social-logos/social-logos.eot?5d3b4da4f6c2460dd842dbf9e0992ea6");font-weight:normal;font-style:normal}@font-face{font-family:"social-logos";src:url("/wp-content/mu-plugins/social-logos/social-logos.eot?5d3b4da4f6c2460dd842dbf9e0992ea6");src:url("/wp-content/mu-plugins/social-logos/social-logos.eot?5d3b4da4f6c2460dd842dbf9e0992ea6#iefix") format("embedded-opentype"),url("/wp-content/mu-plugins/social-logos/social-logos.woff") format("woff"),url("/wp-content/mu-plugins/social-logos/social-logos.ttf?5d3b4da4f6c2460dd842dbf9e0992ea6") format("truetype");font-weight:normal;font-style:normal;font-display:swap}.jp-related-posts-i2__row{display:flex;margin-top:1.5rem}.jp-related-posts-i2__row:first-child{margin-top:0}.jp-related-posts-i2__post{flex-grow:1;flex-basis:0;margin:0 10px;display:flex;flex-direction:column;padding-left:0}.jp-related-posts-i2__row[data-post-count="3"] .jp-related-posts-i2__post{max-width:calc(33% - 20px)}.jp-related-posts-i2__row[data-post-count="2"] .jp-related-posts-i2__post,.jp-related-posts-i2__row[data-post-count="1"] .jp-related-posts-i2__post{max-width:calc(50% - 20px)}.jp-related-posts-i2__post-date,.jp-related-posts-i2__post-context{flex-direction:row;display:block}.jp-related-posts-i2__post-link{display:block;width:100%;line-height:1.2em}.jp-relatedposts-i2[data-layout="list"] .jp-related-posts-i2__row{margin-top:0;display:block}.jp-relatedposts-i2[data-layout="list"] .jp-related-posts-i2__post{max-width:none;margin:0}@media only screen and (max-width: 640px){.jp-related-posts-i2__row{margin-top:0;display:block}.jp-related-posts-i2__row[data-post-count] .jp-related-posts-i2__post{max-width:none;margin:0;margin-top:1rem}}

/*# sourceURL=amp-custom.css */</style><link rel="canonical" href="https://johncarlosbaez.wordpress.com/2014/07/12/el-nino-project-part-5/"><script type="application/ld+json">{"@context":"http:\/\/schema.org","publisher":{"@type":"Organization","name":"Azimuth","logo":{"@type":"ImageObject","url":"https:\/\/s2.wp.com\/wp-content\/plugins\/amp-2.0\/assets\/images\/amp-page-fallback-wordpress-publisher-logo.png"}},"@type":"BlogPosting","mainEntityOfPage":"https:\/\/johncarlosbaez.wordpress.com\/2014\/07\/12\/el-nino-project-part-5\/","headline":"El Niño Project (Part 5)","datePublished":"2014-07-12T01:00:29+00:00","dateModified":"2014-07-15T05:23:24+00:00","author":{"@type":"Person","name":"John Baez"},"image":{"@type":"ImageObject","url":"https:\/\/lh6.googleusercontent.com\/-l4tAc8oumTU\/U6o8Ugy1DOI\/AAAAAAAAwgY\/ApsMCKE99pU\/w653-h434-no\/angry-programmer.jpg","width":450,"height":0}}</script></head>

<body class="">

<header id="top" class="amp-wp-header">
	<div>
		<a href="https://johncarlosbaez.wordpress.com/">
									<span class="amp-site-title">
				Azimuth			</span>
		</a>
	</div>
</header>

<article class="amp-wp-article">
	<header class="amp-wp-article-header">
		<h1 class="amp-wp-title">El Niño Project (Part 5)</h1>
			<div class="amp-wp-meta amp-wp-byline">
					<amp-img src="https://secure.gravatar.com/avatar/34784534843022b3541c8ddd693718cb?s=24&amp;d=identicon&amp;r=g" alt="John Baez" width="24" height="24" layout="fixed" class="i-amphtml-layout-fixed i-amphtml-layout-size-defined" style="width:24px;height:24px;" i-amphtml-layout="fixed"></amp-img>
				<span class="amp-wp-author author vcard">John Baez</span>
	</div>
<div class="amp-wp-meta amp-wp-posted-on">
	<time datetime="2014-07-12T01:00:29+00:00">
		7 years ago	</time>
</div>
	</header>

	
	<div class="amp-wp-article-content">
		<p> </p>
<div align="center">
<amp-img width="450" src="https://lh6.googleusercontent.com/-l4tAc8oumTU/U6o8Ugy1DOI/AAAAAAAAwgY/ApsMCKE99pU/w653-h434-no/angry-programmer.jpg" object-fit="contain" height="400" class="amp-wp-unknown-size amp-wp-unknown-height amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzQwMCcgd2lkdGg9JzQ1MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></i-amphtml-sizer><noscript><img width="450" src="https://lh6.googleusercontent.com/-l4tAc8oumTU/U6o8Ugy1DOI/AAAAAAAAwgY/ApsMCKE99pU/w653-h434-no/angry-programmer.jpg" height="400" class="amp-wp-unknown-size amp-wp-unknown-height"></noscript></amp-img>
</div>
<p>And now for some comic relief.</p>
<p><a href="https://johncarlosbaez.wordpress.com/2014/07/08/el-nino-project-part-4/">Last time</a> I explained how to download some weather data and start analyzing it, using programs written by <a href="http://www.azimuthproject.org/azimuth/show/Graham+Jones">Graham Jones</a>.  When you read that, did you think “Wow, that’s easy!”  Or did you think “Huh?  Run programs in R?  How am I supposed to do that?”</p>
<p>If you’re in the latter group, you’re like me.   But I managed to do it.  And this is the tale of how.  It’s a blow-by-blow account of my first steps, my blunders, my fears.  </p>
<p>I hope that if you’re intimidated by programming, my tale will prove that <i>you too</i> can do this stuff… provided you have smart friends, or read this article.  </p>
<p>More precisely, this article explains how to:</p>
<p>• download and run software that runs the programming language R;</p>
<p>• download temperature data from the National Center for Atmospheric Research;</p>
<p>• use R to create a file of temperature data for a given latitude/longitude rectangle for a given time interval.</p>
<p>I will not attempt to explain how to program in R.</p>
<p>If you want to copy what I’m doing, please remember that a few details depend on the operating system.  Since I don’t care about operating systems, I use a Windows PC.  If you use something better, some details will differ for you.</p>
<p>Also: at the end of this article there are some very basic programming puzzles.  </p>
<h3> A sad history </h3>
<p>First, let me explain a bit about my relation to computers.</p>
<p>I first saw a computer at the Lawrence Hall of Science in Berkeley, back when I was visiting my uncle in the summer of 1978.  It was really cool!   They had some terminals where you could type programs in BASIC and run them.</p>
<p>I got especially excited when he gave me the book <a href="https://en.wikipedia.org/wiki/Computer_Lib/Dream_Machines"><i>Computer Lib/Dream Machines</i></a> by Ted Nelson.  It espoused the visionary idea that people could write texts on computers all around the world—“hypertexts” where you could click on a link in one and hop to another!  </p>
<p>I did more programming the next year in high school, sitting in a concrete block room with a teletype terminal that was connected to a mainframe somewhere far away.  I stored my programs on paper tape.   But my excitement gradually dwindled, because I was having more fun doing math and physics using just pencil and paper.  My own brain was more easy to program than the machine.   I did not start a computer company.  I did not get rich.  I learned quantum mechanics, and relativity, and Gödel’s theorem.</p>
<p>Later I did some programming in APL in college, and still later I did a bit in Mathematica in the early 1990s… but nothing much, and nothing sophisticated.  Indeed, none of these languages would be the ones you’d choose to explore sophisticated ideas in computation!  </p>
<p>I’ve just never been very interested… until now.  I now want to do a lot of data analysis. It will be embarrassing to keep asking other people to do all of it for me.  I need to learn how to do it myself.   </p>
<p>Maybe you’d like to do this stuff too—or at least watch me make a fool of myself.  So here’s my tale, from the start.  </p>
<h3> Downloading and running R </h3>
<p>To use the programs written by Graham, I need to use <a href="https://en.wikipedia.org/wiki/R_%28programming_language%29">R</a>, a language currently popular among statisticians.  It is not the language my programmer friends would want me to learn—they’d want me to use something like Python.  But tough!  I can learn that later.</p>
<p>To download R to my Windows PC, I cleverly type <code>download R</code> into Google, and go to the top website it recommends:</p>
<p>• <a href="http://cran.r-project.org/bin/windows/base/">http://cran.r-project.org/bin/windows/base/</a></p>
<p>I click the big fat button on top saying </p>
<p><code>Download R 3.1.0 for Windows</code></p>
<p>and get asked to save a file <code>R-3.1.0-win.exe</code>.  I save it in my Downloads folder; it takes a while to download since it was 57 megabytes.  When I get it, I click on it and follow the easy default installation instructions.  My Desktop window now has a little icon on it that says <code>R</code>.</p>
<p>Clicking this, I get an interface where I can type commands after a red </p>
<p><code>&gt;</code> </p>
<p>symbol.  Following Graham’s advice, I start by trying </p>
<p><code>&gt; 2^(1:8)</code></p>
<p>which generates a list of powers of 2 from 2<sup>1</sup> to 2<sup>8</sup>, like this:</p>
<p><code>[1]   2   4   8  16  32  64 128 256</code></p>
<p>Then I try</p>
<p><code>&gt; mean(2^(1:8))</code></p>
<p>which gives the arithmetic mean of this list.  Somewhat more fun is</p>
<p><code>&gt; plot(rnorm(20))</code></p>
<p>which plots a bunch of points, apparently 20 <a href="https://en.wikipedia.org/wiki/Standard_normal_deviate">standard normal deviates</a>.  </p>
<p>When I hear “20 standard normal deviates” I think of the members of a typical math department… but no, those are <i>deviants</i>.  Standard normal <i>deviates</i> are random numbers chosen from a Gaussian distribution of mean zero and variance 1.  </p>
<h3> Downloading climate data </h3>
<p>To do something more interesting, I need to input <i>data</i>.</p>
<p>The papers by Ludescher <i>et al</i> use surface air temperatures in a certain patch of the Pacific, so I want to get ahold of those. They’re here:</p>
<p>• <a href="http://www.esrl.noaa.gov/psd/data/gridded/data.ncep.reanalysis.surface.html">NCEP/NCAR Reanalysis 1: Surface</a>.</p>
<p><b>NCEP</b> is the <a href="http://www.ncep.noaa.gov/">National Centers for Environmental Prediction</a>, and <b>NCAR</b> is the <a href="http://ncar.ucar.edu/">National Center for Atmospheric Research</a>.  They have a bunch of files <a href="http://www.esrl.noaa.gov/psd/cgi-bin/db_search/DBSearch.pl?Dataset=NCEP+Reanalysis+Daily+Averages+Surface+Level&amp;Variable=Air+Temperature&amp;group=0&amp;submit=Search">here</a> containing worldwide daily average temperatures on a 2.5 degree latitude × 2.5 degree longitude grid (that’s 144 ×  73 grid points), from 1948 to 2010.  And if you go <a href="http://www.esrl.noaa.gov/psd/cgi-bin/DataAccess.pl?DB_dataset=NCEP+Reanalysis+Daily+Averages+Surface+Level&amp;DB_variable=Air+temperature&amp;DB_statistic=Mean&amp;DB_tid=41710&amp;DB_did=33&amp;DB_vid=668">here</a>, the website will help you get data from within a chosen rectangle in a grid, for a chosen time interval.</p>
<p>These are NetCDF files.  <b>NetCDF</b> stands for <a href="http://www.unidata.ucar.edu/software/netcdf/">Network Common Data Form</a>:</p>
<blockquote><p>
NetCDF is a set of software libraries and self-describing, machine-independent data formats that support the creation, access, and sharing of array-oriented scientific data.
</p></blockquote>
<p>According to my student Blake Pollard:</p>
<blockquote><p>
… the method of downloading a bunch of raw data via <b>ftp</b> (<a href="https://en.wikipedia.org/wiki/File_Transfer_Protocol">file transfer protocol</a>) is a great one to become familiar with. If you poke around on <a href="ftp://ftp.cdc.noaa.gov/Datasets/">ftp://ftp.cdc.noaa.gov/Datasets</a> or some other ftp servers maintained by government agencies you will find all the data you could ever want.  Examples of things you can download for free: raw multispectral satellite images, processed data products, ‘re-analysis’ data (which is some way of combining analysis/simulation to assimilate data), sea surface temperature anomalies at resolutions much higher than 2.5 degrees (although you pay for that in file size). Also, believe it or not, people actually use NetCDF files quite widely, so once you know how to play around with those you’ll find the world quite literally at your fingertips!
</p></blockquote>
<p>I know about ftp: I’m so old that I know this was around before the web existed.  Back then it meant “faster than ponies”.  But I need to get R to accept data from these NetCDF files: that’s what scares me!</p>
<p>Graham said that R has a “package” called <a href="http://cran.r-project.org/web/packages/RNetCDF/index.html">RNetCDF</a> for using NetCDF files.  So, I need to get ahold of this package, download some files in the NetCDF format, and somehow get R to eat those files with the help of this package.  </p>
<p>At first I was utterly clueless!  However, after a bit of messing around, I notice that right on top of the R interface there’s a menu item called <code>Packages</code>.  I boldly click on this and choose <code>Install Package(s)</code>.  </p>
<p>I am rewarded with an enormous alphabetically ordered list of packages… obviously statisticians have lots of stuff they like to do over and over!  I find <code>RNetCDF</code>, click on that and click something like “OK”.</p>
<p>I’m asked if I want to use a “personal library”.  I click “no”, and get an error message.  So I click “yes”.  The computer barfs out some promising text:</p>
<p><code>utils:::menuInstallPkgs()<br>
trying URL 'http://cran.stat.nus.edu.sg/bin/windows/contrib/3.1/RNetCDF_1.6.2-3.zip'<br>
Content type 'application/zip' length 548584 bytes (535 Kb)<br>
opened URL<br>
downloaded 535 Kb</code></p>
<p>package ‘RNetCDF’ successfully unpacked and MD5 sums checked</p>
<p>The downloaded binary packages are in<br>
        C:\Users\JOHN\AppData\Local\Temp\Rtmp4qJ2h8\downloaded_packages</p>
<p>Success!  <amp-anim src="https://i2.wp.com/math.ucr.edu/home/baez/emoticons/celebrating.gif" alt="" width="38" height="18" class="amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE4JyB3aWR0aD0nMzgnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></i-amphtml-sizer><noscript><img src="https://i2.wp.com/math.ucr.edu/home/baez/emoticons/celebrating.gif" alt="" width="38" height="18" class=""></noscript></amp-anim></p>
<p>But now I need to figure out how to download a file and get R to eat it and digest it with the help of <code>RNetCDF</code>.</p>
<p>At this point my <i>deus ex machina</i>, Graham, descends from the clouds and says:</p>
<blockquote><p>
You can download the files from your browser. It is probably easiest to do that for starters. Put<br>
<code>ftp://ftp.cdc.noaa.gov/Datasets/ncep.reanalysis.dailyavgs/surface/</code><br>
into the browser, then right-click a file and Save link as…</p>
<p>This code will download a bunch of them:<br>
<code><br>
for (year in 1950:1979) {<br>
  download.file(url=paste0("ftp://ftp.cdc.noaa.gov/Datasets/ncep.reanalysis.dailyavgs/surface/air.sig995.", year, ".nc"), destfile=paste0("air.sig995.", year, ".nc"), mode="wb")<br>
  }<br>
</code></p>
<p>It will put them into the “working directory”, probably <code>C:\Users\JOHN\Documents</code>. You can find the working directory using <code>getwd()</code>, and change it with <code>setwd()</code>. But you must use / not \ in the filepath.
</p></blockquote>
<p>Compared to UNIX, the Windows operating system has the peculiarity of using \ instead of / in <a href="https://en.wikipedia.org/wiki/Path_%28computing%29#Representations_of_paths_by_operating_system_and_shell">path names</a>, but R uses the UNIX conventions even on Windows.   </p>
<p>So, after some mistakes, in the R interface I type</p>
<p><code>&gt; setwd("C:/Users/JOHN/Documents/My Backups/azimuth/el nino")</code></p>
<p>and then type</p>
<p><code>&gt; getwd()</code></p>
<p>to see if I’ve succeeded.  I’m rewarded with </p>
<p><code>[1] "C:/Users/JOHN/Documents/My Backups/azimuth/el nino"</code></p>
<p>Good!  </p>
<p>Then, following Graham’s advice, I cut-and-paste this into the R interface:</p>
<p><code>for (year in 1950:1979) {<br>
  download.file(url=paste0("ftp://ftp.cdc.noaa.gov/Datasets/ncep.reanalysis.dailyavgs/surface/air.sig995.", year, ".nc"), destfile=paste0("air.sig995.", year, ".nc"), mode="wb")<br>
  }</code></p>
<p>It seems to be working!   A little bar appears showing how each year’s data is getting downloaded.  It chugs away, taking a couple minutes for each year’s worth of data.</p>
<h3> Using R to process NetCDF files </h3>
<p>Okay, now I’ve got all the worldwide daily average temperatures on a 2.5 degree latitude × 2.5 degree longitude grid from 1950 to 1970.  </p>
<p><i>The world is MINE!</i>  <amp-anim src="https://i1.wp.com/math.ucr.edu/home/baez/emoticons/boing.gif" width="25" height="36" class="amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzM2JyB3aWR0aD0nMjUnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></i-amphtml-sizer><noscript><img src="https://i1.wp.com/math.ucr.edu/home/baez/emoticons/boing.gif" width="25" height="36" class=""></noscript></amp-anim></p>
<p>But what do I do with it?  Graham’s advice is again essential, along with a little R program, or <b>script</b>, that he wrote:</p>
<blockquote><p>
The R script <code>netcdf-convertor.R</code> from</p>
<p><a href="https://github.com/azimuth-project/el-nino/tree/master/R">https://github.com/azimuth-project/el-nino/tree/master/R</a></p>
<p>will eat the file, digest it, and spit it out again. It contains instructions.
</p></blockquote>
<p>I go to this URL, which is on <a href="https://en.wikipedia.org/wiki/GitHub">GitHub</a>, a popular free web-based service for software development.  You can store programs here, edit them, and GitHub will help you keep track of the different versions.  I know almost nothing about this stuff, but I’ve seen it before, so I’m not intimidated.</p>
<p>I click on the blue thing that says <code>netcdf-convertor.R</code> and see something that looks like the right script.  Unfortunately I can’t see how to download it!  I eventually see a button I’d overlooked, cryptically labelled “Raw”.  I realize that since I don’t want a roasted or oven-broiled piece of software, I should click on this.  I indeed succeed in downloading <code>netcdf-convertor.R</code> this way.   Graham later says I could have done something better, but oh well.  I’m just happy nothing has actually exploded yet.</p>
<p>Once I’ve downloaded this script, I open it using an text processor and look at it.  At top are a bunch of comments written by Graham:</p>
<p><code><br>
######################################################<br>
######################################################</code></p>
<p># You should be able to use this by editing this<br>
# section only.</p>
<p>setwd("C:/Users/Work/AAA/Programming/ProgramOutput/Nino")</p>
<p>lat.range &lt;- 13:14<br>
lon.range &lt;- 142:143</p>
<p>firstyear &lt;- 1957<br>
lastyear &lt;- 1958</p>
<p>outputfilename &lt;- paste0("Scotland-", firstyear, "-", lastyear, ".txt")</p>
<p>######################################################<br>
######################################################</p>
<p>#                  Explanation</p>
<p># 1. Use setwd() to set the working directory<br>
# to the one containing the .nc files such as<br>
# air.sig995.1951.nc.<br>
# Example:<br>
# setwd("C:/Users/Work/AAA/Programming/ProgramOutput/Nino")</p>
<p># 2. Supply the latitude and longitude range.  The<br>
# NOAA data is every 2.5 degrees. The ranges are<br>
# supplied as the number of steps of this size.<br>
# For latitude, 1 means North Pole, 73 means South<br>
# Pole. For longitude, 1 means 0 degrees East, 37<br>
# is 90E, 73 is 180, 109 is 90W or 270E, 144 is<br>
# 2.5W.</p>
<p># These roughly cover Scotland.<br>
# lat.range &lt;- 13:14<br>
# lon.range &lt;- 142:143</p>
<p># These are the area used by Ludescher et al,<br>
# 2013. It is 27x69 points which are then<br>
# subsampled to 9 by 23.<br>
# lat.range &lt;- 24:50<br>
# lon.range &lt;- 48:116 </p>
<p># 3. Supply the years<br>
# firstyear &lt;- 1950<br>
# lastyear &lt;- 1952</p>
<p># 4. Supply the output name as a text string.<br>
# paste0() concatenates strings which you may find<br>
# handy:<br>
# outputfilename &lt;- paste0("Pacific-", firstyear, "-", lastyear, ".txt")</p>
<p>######################################################<br>
######################################################</p>
<p>#            Example of output</p>
<p>#  S013E142 S013E143 S014E142 S014E143<br>
#  Y1950P001 281.60000272654 281.570002727211 281.60000272654 280.970002740622<br>
#  Y1950P002 280.740002745762 280.270002756268 281.070002738386 280.49000275135<br>
#  Y1950P003 280.100002760068 278.820002788678 281.120002737269 280.070002760738<br>
#  Y1950P004 281.070002738386 279.420002775267 281.620002726093 280.640002747998<br>
#  ...<br>
#  Y1950P193 285.450002640486 285.290002644062 285.720002634451 285.75000263378<br>
#  Y1950P194 285.570002637804 285.640002636239 286.070002626628 286.570002615452<br>
#  Y1950P195 285.92000262998 286.220002623275 286.200002623722 286.620002614334<br>
#  ...<br>
#  Y1950P364 276.100002849475 275.350002866238 276.37000284344 275.200002869591<br>
#  Y1950P365 276.990002829581 275.820002855733 276.020002851263 274.72000288032<br>
#  Y1951P001 278.220002802089 277.470002818853 276.700002836064 275.870002854615<br>
#  Y1951P002 277.750002812594 276.890002831817 276.650002837181 275.520002862439<br>
#  ...<br>
#  Y1952P365 280.35000275448 280.120002759621 280.370002754033 279.390002775937</p>
<p># There is one row for each day, and 365 days in<br>
# each year (leap days are omitted). In each row,<br>
# you have temperatures in Kelvin for each grid<br>
# point in a rectangle.</p>
<p># S13E142 means 13 steps South from the North Pole<br>
# and 142 steps East from Greenwich. The points<br>
# are in reading order, starting at the top-left<br>
# (Northmost, Westmost) and going along the top<br>
# row first.</p>
<p># Y1950P001 means year 1950, day 1. (P because<br>
# longer periods might be used later.)</p>
<p>######################################################<br>
######################################################<br>
</p>
<p>The instructions are admirably detailed concerning what I should do, but they don't say where the output will appear when I do it.   This makes me nervous.  I guess I should just try it.  After all, the program is not called DestroyTheWorld.</p>
<p>Unfortunately, at this point a lot of things start acting weird.  </p>
<p>It's too complicated and boring to explain in detail, but basically, I keep getting a <code>file missing</code> error message.  I don't understand why this happens under some conditions and not others.  I try lots of experiments.  </p>
<p>Eventually I discover that one year of temperature data failed to download—the year 1949, right after the first year available!  So, I'm getting the error message whenever I try to do anything involving that year of data.</p>
<p>To fix the problem, I simply download the 1949 data by hand from here:</p>
<p>• <a href="ftp://ftp.cdc.noaa.gov/Datasets/ncep.reanalysis.dailyavgs/surface/"> ftp://ftp.cdc.noaa.gov/Datasets/ncep.reanalysis.dailyavgs/surface/</a></p>
<p>(You can open ftp addresses in a web browser just like http addresses.)  I put it in my working directory for R, and everything is fine again.  Whew!</p>
<p>By the time things I get this file, I sort of know what to do—after all, I've spent about an hour trying lots of different things.   </p>
<p>I decide to create a file listing temperatures near where I live in Riverside from 1948 to 1979.  To do this, I open Graham's script  <code>netcdf-convertor.R</code> in a word processor and change this section:<br>
<code><br>
setwd("C:/Users/Work/AAA/Programming/ProgramOutput/Nino")<br>
lat.range &lt;- 13:14<br>
lon.range &lt;- 142:143<br>
firstyear &lt;- 1957<br>
lastyear &lt;- 1958<br>
outputfilename &lt;- paste0("Scotland-", firstyear, "-", lastyear, ".txt")<br>
</code></p>
<p>to this:<br>
<code><br>
setwd("C:/Users/JOHN/Documents/My Backups/azimuth/el nino")<br>
lat.range &lt;- 23:23<br>
lon.range &lt;- 98:98<br>
firstyear &lt;- 1948<br>
lastyear &lt;- 1979<br>
outputfilename &lt;- paste0("Riverside-", firstyear, "-", lastyear, ".txt")<br>
</code></p>
<p>Why?  Well, I want it to put the file in my working directory.  I want the years from 1948 to 1979.  And I want temperature data from where I live!  </p>
<p>Googling the info, I see Riverside, California is at 33.9481° N, 117.3961° W.  34° N is about 56 degrees south of the North Pole, which is 22 steps of size 2.5°. And because some idiot decided everyone should count starting at 1 instead of 0 even in contexts like this, the North Pole itself is step 1, not step 0… so Riverside is latitude step 23. That's why I write:</p>
<p><code>lat.range &lt;- 23:23</code></p>
<p>Similarly, 117.5° W is 242.5° E, which is 97 steps of size 2.5°… which counts as step 98 according to this braindead system.  That's why I write:</p>
<p><code>lon.range &lt;- 98:98</code></p>
<p>Having done this, I save the file <code>netcdf-convertor.R</code> under another name, <code>Riverside.R</code>.  </p>
<p>And then I do some stuff that it took some fiddling around to discover.</p>
<p>First, in my R interface I go to the menu item <code>File</code>, at far left, and click on <code>Open script</code>.   It lets me browse around, so I go to my working directory for R and choose <code>Riverside.R</code>.  A little window called <code>R editor</code> opens up in my R interface, containing this script.</p>
<p>I'm probably not doing this optimally, but I can now right-click on the R editor and see a menu with a choice called <code>Select all</code>.  If I click this, everything in the window turns blue.  Then I can right-click again and choose <code>Run line or selection</code>.  And the script runs!</p>
<p><i>Voilà!</i></p>
<p>It huffs and puffs, and then stops.  I peek in my working directory, and see that a file called</p>
<p><code>Riverside.1948-1979.txt</code></p>
<p>has been created.  When I open it, it has lots of lines, starting with these:<br>
<code><br>
S023E098<br>
Y1948P001 279.95<br>
Y1948P002 280.14<br>
Y1948P003 282.27<br>
Y1948P004 283.97<br>
Y1948P005 284.27<br>
Y1948P006 286.97<br>
</code></p>
<p>As Graham promised, each line has a year and day label, followed by a vector… which in my case is just a single number, since I only wanted the temperature in one location.  I’m hoping this is the temperature near Riverside, in kelvin.</p>
<h3> A small experiment </h3>
<p>To see if this is working, I’d like to plot these temperatures and see if they make sense.  Unfortunately I have no idea how to get R to take a file containing data of the sort I have and plot it!   I need to learn how, but right now I’m exhausted, so  I use another method to get the job done— a method that’s too suboptimal and embarrassing to describe here.  (Hint: it involves the word “Excel”.)</p>
<p>I do a few things, but here’s the most interesting one—namely, not very interesting.  I plot the temperatures for 1963:</p>
<div align="center">
<a href="http://math.ucr.edu/home/baez/ecological/riverside_temperature_1963.jpg"><br>
<amp-img width="450" src="https://i0.wp.com/math.ucr.edu/home/baez/ecological/riverside_temperature_1963.jpg" height="408.50409836066" class="amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzQwOC41MDQwOTgzNjA2Nicgd2lkdGg9JzQ1MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></i-amphtml-sizer><noscript><img width="450" src="https://i0.wp.com/math.ucr.edu/home/baez/ecological/riverside_temperature_1963.jpg" height="408.50409836066" class=""></noscript></amp-img></a>
</div>
<p>I compare it to some publicly available data, not from Riverside, but from nearby Los Angeles:</p>
<div align="center">
<a href="http://weatherspark.com/history/30699/1963/Los-Angeles-California-United-States"><br>
<amp-img width="450" src="https://i2.wp.com/fs.weatherspark.com.s3.amazonaws.com/production/reports/history/year/000/030/699/1963/temperature_temperature_f.png" alt="" height="295.5" class="amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzI5NS41JyB3aWR0aD0nNDUwJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZlcnNpb249JzEuMScvPg=="></i-amphtml-sizer><noscript><img width="450" src="https://i2.wp.com/fs.weatherspark.com.s3.amazonaws.com/production/reports/history/year/000/030/699/1963/temperature_temperature_f.png" alt="" height="295.5" class=""></noscript></amp-img></a>
</div>
<p>As you can see, there was a cold day on January 13th, when the temperature dropped to 33°F.  That seems to be visible on the graph I made, and looking at the data from which I made the graph, I see the temperature dropped to 251.4 kelvin on the 13th: that’s -7°F, very cold for here.  It <i>does</i> get colder around Riverside than in Los Angeles in the winter, since it’s a desert, with temperatures not buffered by the ocean.  So, this <i>does</i> seem compatible with the public records.  That’s mildly reassuring.</p>
<p>But other features of the graph don’t match, and I’m not quite sure if they should or not.  So, all this very tentative and unimpressive.  However, I’ve managed to  get over some of my worst fears, download some temperature data, and graph it! Now I need to learn how to use R to do statistics with this data, and graph it in a better way.</p>
<h3> Puzzles </h3>
<p>You can help me out by answering these puzzles.  Later I might pose puzzles where you can help us write really interesting programs.  But for now it’s just about learning R.</p>
<p><b>Puzzle 1.</b>  Given a text file with lots of lines of this form:<br>
<code><br>
S023E098<br>
Y1948P001 279.95<br>
Y1948P002 280.14<br>
Y1948P003 282.27<br>
Y1948P004 283.97<br>
</code></p>
<p>write an R program that creates a huge vector, or list of numbers, like this:<br>
<code><br>
279.95, 280.14, 282.27, 283.97, ...<br>
</code></p>
<p><b>Puzzle 2:</b> Extend the above program so that it plots this list of numbers, or outputs it to a new file.</p>
<p>If you want to test your programs, here’s the actual file: </p>
<p>• <a href="http://math.ucr.edu/home/baez/ecological/el_nino/Riverside-1948-1979.txt">Riverside-1948-1979.txt</a></p>
<h3> More puzzles </h3>
<p>If those puzzles are too easy, here are two more.  I gave these last time, but everyone was too wimpy to tackle them.</p>
<p><b>Puzzle 3.</b>  Modify the software so that it uses the same method to predict El Niños from 1980 to 2013.  You’ll have to adjust two lines in <code>netcdf-convertor-ludescher.R</code>:</p>
<pre>
firstyear &lt;- 1948
lastyear &lt;- 1980
</pre>
<p>should become</p>
<pre>
firstyear &lt;- 1980
lastyear &lt;- 2013
</pre>
<p>or whatever range of years you want.  You’ll also have to adjust names of years in <code>ludescher-replication.R</code>.  Search the file for the string <code>19</code> and make the necessary changes.  Ask me if you get stuck.</p>
<p><b>Puzzle 4.</b> Right now we average the link strength over all pairs <amp-img src="https://s0.wp.com/latex.php?latex=%28i%2Cj%29&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="(i,j)" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="31" height="17" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE3JyB3aWR0aD0nMzEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=%28i%2Cj%29&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="(i,j)" class="latex" width="31" height="17"></noscript></amp-img> where <amp-img src="https://s0.wp.com/latex.php?latex=i&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="i" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="5" height="12" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzEyJyB3aWR0aD0nNScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=i&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="i" class="latex" width="5" height="12"></noscript></amp-img> is a node in the <b>El Niño basin</b> defined by Ludescher <i>et al</i> and <amp-img src="https://s0.wp.com/latex.php?latex=j&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="j" class="latex amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" width="8" height="16" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE2JyB3aWR0aD0nOCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></i-amphtml-sizer><noscript><img src="https://s0.wp.com/latex.php?latex=j&amp;bg=ffffff&amp;fg=333333&amp;s=0&amp;c=20201002" alt="j" class="latex" width="8" height="16"></noscript></amp-img> is a node outside this basin.  The basin consists of the red dots here:</p>
<div align="center"><a href="http://math.ucr.edu/home/baez/ecological/el_nino/ludescher_el_nino_cooperativity_1.jpg"><br>
<amp-img width="450" src="https://i2.wp.com/math.ucr.edu/home/baez/ecological/el_nino/ludescher_el_nino_cooperativity_1a.jpg" height="298.14814814815" class="amp-wp-enforced-sizes i-amphtml-layout-intrinsic i-amphtml-layout-size-defined" layout="intrinsic" i-amphtml-layout="intrinsic"><i-amphtml-sizer class="i-amphtml-sizer"><img alt="" aria-hidden="true" class="i-amphtml-intrinsic-sizer" role="presentation" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzI5OC4xNDgxNDgxNDgxNScgd2lkdGg9JzQ1MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></i-amphtml-sizer><noscript><img width="450" src="https://i2.wp.com/math.ucr.edu/home/baez/ecological/el_nino/ludescher_el_nino_cooperativity_1a.jpg" height="298.14814814815" class=""></noscript></amp-img></a>
</div>
<p>What happens if you change the definition of the El Niño basin?  For example, can you drop those annoying two red dots that are south of the rest, without messing things up?  <i>Can you get better results if you change the shape of the basin?</i></p>
<p>To study these questions you need to rewrite <code>ludescher-replication.R</code> a bit.  Here’s where Graham defines the El Niño basin:</p>
<pre>
ludescher.basin &lt;- function() {
  lats &lt;- c( 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 6, 6)
  lons &lt;- c(11,12,13,14,15,16,17,18,19,20,21,22,16,22)
  stopifnot(length(lats) == length(lons))
  list(lats=lats,lons=lons)
}
</pre>
<p>These are lists of latitude and longitude coordinates: (5,11), (5,12), (5,13), etc.  A coordinate like (5,11) means the little circle that’s 5 down and 11 across in the grid on the above map.  So, that’s the leftmost point in Ludescher’s El Niño basin.  By changing these lists, you can change the definition of the El Niño basin.  </p>
<p>Next time I’ll discuss some criticisms of Ludescher <i>et al’</i>s paper, but later we will return to analyzing temperature data, looking for interesting patterns.</p>
<div id="jp-post-flair" class="sharedaddy">
<nav class="jp-relatedposts-i2" data-layout="grid"><h3 class="jp-relatedposts-headline"><em>Related</em></h3><div class="jp-related-posts-i2__row" data-post-count="3"><ul id="related-posts-item-614fb7a4f033c" aria-labelledby="related-posts-item-614fb7a4f033c-label" class="jp-related-posts-i2__post" role="menuitem"><li class="jp-related-posts-i2__post-link"><a id="related-posts-item-614fb7a4f033c-label" href="https://johncarlosbaez.wordpress.com/2014/07/08/el-nino-project-part-4/">El Niño Project (Part 4)</a></li><li class="jp-related-posts-i2__post-date">8 July, 2014</li><li class="jp-related-posts-i2__post-context">In "climate"</li></ul><ul id="related-posts-item-614fb7a4f0352" aria-labelledby="related-posts-item-614fb7a4f0352-label" class="jp-related-posts-i2__post" role="menuitem"><li class="jp-related-posts-i2__post-link"><a id="related-posts-item-614fb7a4f0352-label" href="https://johncarlosbaez.wordpress.com/2010/09/09/this-weeks-finds-week-302/">This Week’s Finds (Week 302)</a></li><li class="jp-related-posts-i2__post-date">9 September, 2010</li><li class="jp-related-posts-i2__post-context">In "climate"</li></ul><ul id="related-posts-item-614fb7a4f035f" aria-labelledby="related-posts-item-614fb7a4f035f-label" class="jp-related-posts-i2__post" role="menuitem"><li class="jp-related-posts-i2__post-link"><a id="related-posts-item-614fb7a4f035f-label" href="https://johncarlosbaez.wordpress.com/2010/10/15/this-weeks-finds-week-304/">This Week’s Finds (Week 304)</a></li><li class="jp-related-posts-i2__post-date">15 October, 2010</li><li class="jp-related-posts-i2__post-context">In "climate"</li></ul></div></nav></div>	</div>

	<footer class="amp-wp-article-footer">
			<div class="amp-wp-meta amp-wp-tax-category">
		Categories: <a href="https://johncarlosbaez.wordpress.com/category/climate/" rel="category tag">climate</a>, <a href="https://johncarlosbaez.wordpress.com/category/software/" rel="category tag">software</a>	</div>

		<div class="amp-wp-meta amp-wp-comments-link">
		<a href="https://johncarlosbaez.wordpress.com/2014/07/12/el-nino-project-part-5/#comments">
			Leave a Comment		</a>
	</div>
	</footer>
</article>

<footer class="amp-wp-footer">
	<div>
		<h2>Azimuth</h2>
		<a href="#top" class="back-to-top">Back to top</a>
	</div>
</footer>


	<amp-pixel src="https://pixel.wp.com/b.gif?rand=RANDOM&amp;host=johncarlosbaez.wordpress.com&amp;ref=DOCUMENT_REFERRER&amp;amp=1&amp;blog=12777403&amp;v=wpcom&amp;tz=0&amp;user_id=0&amp;post=18217&amp;subd=johncarlosbaez" class="i-amphtml-layout-fixed i-amphtml-layout-size-defined" style="width:1px;height:1px;" i-amphtml-layout="fixed"></amp-pixel>
	<amp-pixel src="https://pixel.wp.com/b.gif?rand=RANDOM&amp;v=wpcom-no-pv&amp;crypt=UE40eW5QN0p8M2Y%2FRE1TaVhzUzFMbjdWNHpwZGhTayxPSUFCMGNrd29%2BSmw0TDhnZmRTK0hlRi9QSGh6bi9GXVhBJWIlZlR5U1JMLU8%2FMkNtblkvY1d6eVImTEouL2UleTBRZmlNdkp0aWJaNFJhPS0uTVpHa1hIc25EbVJyQmw%2FSkZ%2BQ3lLcjU%2FNDBvQTZneFhaUTVPOXd0MXRdUmJDYn54WlVLT0RuOVBZZTZsU2JSPV16TGlJPUgvOWFaOEd1cFpzaUZ0WFVQSC01U05UW0Jbd1R1NnVaUC1hU1pfLU9dQmFjQV00ZVRSMkI2KzVSTUJf" class="i-amphtml-layout-fixed i-amphtml-layout-size-defined" style="width:1px;height:1px;" i-amphtml-layout="fixed"></amp-pixel>
	


</body></html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Petri Net Programming (Part 1) | Azimuth</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="pingback" href="https://johncarlosbaez.wordpress.com/xmlrpc.php" />
<meta name='robots' content='max-image-preview:large, noindex, follow' />
<link rel='dns-prefetch' href='//s2.wp.com' />
<link rel='dns-prefetch' href='//s0.wp.com' />
<link rel='dns-prefetch' href='//s.wordpress.com' />
<link rel="alternate" type="application/rss+xml" title="Azimuth &raquo; Feed" href="https://johncarlosbaez.wordpress.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Azimuth &raquo; Comments Feed" href="https://johncarlosbaez.wordpress.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Azimuth &raquo; Petri Net Programming (Part&nbsp;1) Comments Feed" href="https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/feed/" />
	<script type="text/javascript">
		/* <![CDATA[ */
		function addLoadEvent(func) {
			var oldonload = window.onload;
			if (typeof window.onload != 'function') {
				window.onload = func;
			} else {
				window.onload = function () {
					oldonload();
					func();
				}
			}
		}
		/* ]]> */
	</script>
			<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/s1.wp.com\/wp-includes\/js\/wp-emoji-release.min.js?m=1625065786h&ver=5.8.1"}};
			!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([10084,65039,8205,55357,56613],[10084,65039,8203,55357,56613])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='all-css-0-1' href='https://s0.wp.com/_static/??-eJyNkdtSAyEMhl9INkWnOl44PguHiKnAMhCsvL3Zepi1tdUbhj/Jl/yTwL4oN2fGzJC6KrEHyg0qRsPoVZkbH6nJtXYFv2OUnygTD+BnTNigdAuHslT4hPuCQhdpsQbJVIRXraftpMF2ih5snN2LimSrqQMaj4jfjSi72L2M2TVI6MlglKmLo5Uo0QysKmIwbkyJ8t+45Nb6B3Te/MGpNEMuZrFsxtxZhUr+yPa/W1TDlEM7g6/WvuxN4qmYU/MXsD35gHJeKfn8K8a3y0iRMcraUrE1JW+intTHtRfuMT3o2xt9d7/dbK5375l75CE=?cssminify=yes' type='text/css' media='all' />
<style id='wp-block-library-inline-css'>
.has-text-align-justify {
	text-align:justify;
}
</style>
<style id='global-styles-inline-css'>
body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--normal: 16px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--huge: 42px;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-normal-font-size{font-size: var(--wp--preset--font-size--normal) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-huge-font-size{font-size: var(--wp--preset--font-size--huge) !important;}
</style>
<link rel='stylesheet' id='all-css-2-1' href='https://s0.wp.com/_static/??-eJx9i0EKgCAQAD+ULYJRHaK3qJhY666o0fezW126zcAMGNR09LaUDq4kLFN1VCGeIuHpAxXwjgWy1TUwfURsqEP+W7MzyL6hh1a99JnWuEg1zEpNo1T7DZLtMYQ=?cssminify=yes' type='text/css' media='all' />
<link rel='stylesheet' id='print-css-3-1' href='https://s2.wp.com/wp-content/mu-plugins/global-print/global-print.css?m=1465851035h&cssminify=yes' type='text/css' media='print' />
<style id='jetpack-global-styles-frontend-style-inline-css'>
:root { --font-headings: unset; --font-base: unset; --font-headings-default: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif; --font-base-default: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;}
</style>
<link rel='stylesheet' id='all-css-6-1' href='https://s0.wp.com/wp-content/themes/h4/global.css?m=1420737423h&cssminify=yes' type='text/css' media='all' />
<script id='jetpack_related-posts-js-extra'>
var related_posts_js_options = {"post_heading":"h4"};
</script>
<script id='wpcom-actionbar-placeholder-js-extra'>
var actionbardata = {"siteID":"12777403","siteName":"Azimuth","siteURL":"http:\/\/johncarlosbaez.wordpress.com","siteHost":"johncarlosbaez.wordpress.com","icon":"<img alt='' src='https:\/\/s2.wp.com\/i\/logo\/wpcom-gray-white.png' class='avatar avatar-50' height='50' width='50' \/>","canManageOptions":"","canCustomizeSite":"","isFollowing":"","themeSlug":"pub\/contempt","signupURL":"https:\/\/wordpress.com\/start\/","loginURL":"https:\/\/wordpress.com\/log-in?redirect_to=https%3A%2F%2Fjohncarlosbaez.wordpress.com%2F2012%2F10%2F01%2Fpetri-net-programming%2F&signup_flow=account","themeURL":"","xhrURL":"https:\/\/johncarlosbaez.wordpress.com\/wp-admin\/admin-ajax.php","nonce":"677eca7dd0","isSingular":"1","isFolded":"","isLoggedIn":"","isMobile":"","subscribeNonce":"<input type=\"hidden\" id=\"_wpnonce\" name=\"_wpnonce\" value=\"0272f16312\" \/>","referer":"https:\/\/johncarlosbaez.wordpress.com\/2012\/10\/01\/petri-net-programming\/?replytocom=20414","canFollow":"1","feedID":"62242","statusMessage":"","subsEmailDefault":"instantly","customizeLink":"https:\/\/johncarlosbaez.wordpress.com\/wp-admin\/customize.php?url=https%3A%2F%2Fjohncarlosbaez.wordpress.com%2F2012%2F10%2F01%2Fpetri-net-programming%2F%3Freplytocom%3D20414","postID":"12315","shortlink":"https:\/\/wp.me\/pRBZ9-3cD","canEditPost":"","editLink":"https:\/\/wordpress.com\/post\/johncarlosbaez.wordpress.com\/12315","statsLink":"https:\/\/wordpress.com\/stats\/post\/12315\/johncarlosbaez.wordpress.com","i18n":{"view":"View site","follow":"Follow","following":"Following","edit":"Edit","login":"Log in","signup":"Sign up","customize":"Customize","report":"Report this content","themeInfo":"Get theme: Contempt","shortlink":"Copy shortlink","copied":"Copied","followedText":"New posts from this site will now appear in your <a href=\"https:\/\/wordpress.com\/read\">Reader<\/a>","foldBar":"Collapse this bar","unfoldBar":"Expand this bar","editSubs":"Manage subscriptions","viewReader":"View site in Reader","viewReadPost":"View post in Reader","subscribe":"Sign me up","enterEmail":"Enter your email address","followers":"Join 5,227 other followers","alreadyUser":"Already have a WordPress.com account? <a href=\"https:\/\/wordpress.com\/log-in?redirect_to=https%3A%2F%2Fjohncarlosbaez.wordpress.com%2F2012%2F10%2F01%2Fpetri-net-programming%2F&signup_flow=account\">Log in now.<\/a>","stats":"Stats","notifyNewPosts":"Notify me of new posts","notifyNewPostsDetails":"Receive web and mobile notifications for new posts from this site.","emailNewPosts":"Email me new posts","emailNewPostsDetails":"You can customize your notification settings further <a href=\"https:\/\/wordpress.com\/following\/manage?s=johncarlosbaez.wordpress.com\">here<\/a>.","emailNewComments":"Email me new comments","instantly":"Instantly","daily":"Daily","weekly":"Weekly"}};
</script>
<script crossorigin='anonymous' type='text/javascript' src='https://s0.wp.com/_static/??-eJyFjcEKwjAQRH/IbQxSPYnfUtu1bMhuYnZD7d/bQj1YBE/D8B4zbsrQJzEUc0FdTmqMqt2ITdCD+6ac7hQRqmJZBDEgeaS9xxVyrCOJuoKxMxxgXd21H+slGuSSXvOHkfSxDqgrDM+KZd6iYZK/EjCNZTnc5Btf/fnkL8fW+za8ASssW38='></script>
<script type='text/javascript'>
	window.addEventListener( 'DOMContentLoaded', function() {
		rltInitialize( {"token":null,"iframeOrigins":["https:\/\/widgets.wp.com"]} );
	} );
</script>
<link rel='stylesheet' id='all-css-0-2' href='https://s0.wp.com/wp-content/mu-plugins/highlander-comments/style.css?m=1625210320h&cssminify=yes' type='text/css' media='all' />
<!--[if lt IE 8]>
<link rel='stylesheet' id='highlander-comments-ie7-css'  href='https://s2.wp.com/wp-content/mu-plugins/highlander-comments/style-ie7.css?m=1351637563h&#038;ver=20110606' media='all' />
<![endif]-->
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://johncarlosbaez.wordpress.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://s1.wp.com/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress.com" />
<link rel="canonical" href="https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/" />
<link rel='shortlink' href='https://wp.me/pRBZ9-3cD' />
<link rel="alternate" type="application/json+oembed" href="https://public-api.wordpress.com/oembed/?format=json&amp;url=https%3A%2F%2Fjohncarlosbaez.wordpress.com%2F2012%2F10%2F01%2Fpetri-net-programming%2F&amp;for=wpcom-auto-discovery" /><link rel="alternate" type="application/xml+oembed" href="https://public-api.wordpress.com/oembed/?format=xml&amp;url=https%3A%2F%2Fjohncarlosbaez.wordpress.com%2F2012%2F10%2F01%2Fpetri-net-programming%2F&amp;for=wpcom-auto-discovery" />
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article" />
<meta property="og:title" content="Petri Net Programming (Part 1)" />
<meta property="og:url" content="https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/" />
<meta property="og:description" content="guest post by David Tanzer Petri nets are a simple model of computation with a range of modelling applications that include chemical reaction networks, manufacturing processes, and population biolo…" />
<meta property="article:published_time" content="2012-10-01T18:11:22+00:00" />
<meta property="article:modified_time" content="2014-08-12T10:38:34+00:00" />
<meta property="og:site_name" content="Azimuth" />
<meta property="og:image" content="http://math.ucr.edu/home/baez/networks/pictures/HIV_petri_net.png" />
<meta property="og:image:width" content="450" />
<meta property="og:locale" content="en_US" />
<meta name="twitter:site" content="@wordpressdotcom" />
<meta name="twitter:text:title" content="Petri Net Programming (Part&nbsp;1)" />
<meta name="twitter:image" content="http://math.ucr.edu/home/baez/networks/pictures/HIV_petri_net.png?w=144" />
<meta name="twitter:card" content="summary" />
<meta property="fb:app_id" content="249643311490" />
<meta property="article:publisher" content="https://www.facebook.com/WordPresscom" />

<!-- End Jetpack Open Graph Tags -->
<link rel="shortcut icon" type="image/x-icon" href="https://s1.wp.com/i/favicon.ico" sizes="16x16 24x24 32x32 48x48" />
<link rel="icon" type="image/x-icon" href="https://s1.wp.com/i/favicon.ico" sizes="16x16 24x24 32x32 48x48" />
<link rel="apple-touch-icon" href="https://s2.wp.com/i/webclip.png" />
<link rel='openid.server' href='https://johncarlosbaez.wordpress.com/?openidserver=1' />
<link rel='openid.delegate' href='https://johncarlosbaez.wordpress.com/' />
<link rel="search" type="application/opensearchdescription+xml" href="https://johncarlosbaez.wordpress.com/osd.xml" title="Azimuth" />
<link rel="search" type="application/opensearchdescription+xml" href="https://s1.wp.com/opensearch.xml" title="WordPress.com" />
<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>		<style type="text/css">
			.recentcomments a {
				display: inline !important;
				padding: 0 !important;
				margin: 0 !important;
			}

			table.recentcommentsavatartop img.avatar, table.recentcommentsavatarend img.avatar {
				border: 0px;
				margin: 0;
			}

			table.recentcommentsavatartop a, table.recentcommentsavatarend a {
				border: 0px !important;
				background-color: transparent !important;
			}

			td.recentcommentsavatarend, td.recentcommentsavatartop {
				padding: 0px 0px 1px 0px;
				margin: 0px;
			}

			td.recentcommentstextend {
				border: none !important;
				padding: 0px 0px 2px 10px;
			}

			.rtl td.recentcommentstextend {
				padding: 0px 10px 2px 0px;
			}

			td.recentcommentstexttop {
				border: none;
				padding: 0px 0px 0px 10px;
			}

			.rtl td.recentcommentstexttop {
				padding: 0px 10px 0px 0px;
			}
		</style>
		<meta name="application-name" content="Azimuth" /><meta name="msapplication-window" content="width=device-width;height=device-height" /><meta name="msapplication-task" content="name=Subscribe;action-uri=https://johncarlosbaez.wordpress.com/feed/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=Sign up for a free blog;action-uri=http://wordpress.com/signup/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Support;action-uri=http://support.wordpress.com/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Forums;action-uri=http://forums.wordpress.com/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="description" content="guest post by David Tanzer Petri nets are a simple model of computation with a range of modelling applications that include chemical reaction networks, manufacturing processes, and population biology dynamics. They are graphs through which entities flow and have their types transformed. They also have far-reaching mathematical properties which are the subject of an extensive&hellip;" />
<style type="text/css">
#headerimg{
	background: url(https://johncarlosbaez.files.wordpress.com/2010/08/azimuth_header.jpg) no-repeat;
}
#header h1 a, .description {
	color:#E5F2E9;
}
</style>
<link rel="amphtml" href="https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/amp/">		<link rel="stylesheet" id="custom-css-css" type="text/css" href="https://s0.wp.com/?custom-css=1&#038;csblog=RBZ9&#038;cscache=6&#038;csrev=7" />
		</head>
<body class="post-template-default single single-post postid-12315 single-format-standard customizer-styles-applied highlander-enabled highlander-light">

<div id="page">

<div id="header">
	<div id="headerimg" onclick="location.href='https://johncarlosbaez.wordpress.com';" style="cursor: pointer;">
		<h1><a href="https://johncarlosbaez.wordpress.com/">Azimuth</a></h1>
		<div class="description"></div>
	</div>
</div>

<ul id="pagebar" class="menu pagebar"><li ><a href="https://johncarlosbaez.wordpress.com/">Home</a></li><li class="page_item page-item-2"><a href="https://johncarlosbaez.wordpress.com/about/">About</a></li>
</ul>

<div id="grad" style="height: 65px; width: 100%; background: url(https://s2.wp.com/wp-content/themes/pub/contempt/images/blue_flower/topgrad.jpg);">&nbsp;</div>

	<div id="content" class="widecolumn">

  


		<div class="post-12315 post type-post status-publish format-standard hentry category-networks category-software" id="post-12315">
			<h2>Petri Net Programming (Part&nbsp;1)</h2>

			<div class="entry">
				<p><i>guest post by <b><a href="http://www.azimuthproject.org/azimuth/show/David+Tanzer">David Tanzer</a></b></i></p>
<p>Petri nets are a simple model of computation with a range of modelling applications that include chemical reaction networks, manufacturing processes, and population biology dynamics.  They are graphs through which entities flow and have their types transformed.  They also have far-reaching mathematical properties which are the subject of an extensive literature.  See the <a href="http://math.ucr.edu/home/baez/networks/">network theory</a> series here on Azimuth for a panoramic and well-diagrammed introduction to the theory and applications of Petri nets.</p>
<p>In this article, I will introduce Petri nets and give an expository presentation of a program to simulate them.  I am hoping that this will be of interest to anyone who wants to see how scientific concepts can be formulated and actualized in computer software.  Here the simulator program will be applied to a &#8220;toy model&#8221; of a chemical reaction network for the synthesis and dissociation of H<sub>2</sub>O molecules.  The source code for this program should give the reader some &#8220;clay&#8221; to work with.   </p>
<p>This material will prepare you for the further topic of <i>stochastic</i> Petri nets, where the sequencing of the Petri net is probabilistically controlled. </p>
<h3> Definition of Petri nets </h3>
<p>A <b>Petri net</b> is a diagram with two kinds of nodes: container nodes, called <b>species</b> (or &#8220;places&#8221;, &#8220;states&#8221;), which can hold zero or more <b>tokens</b>, and <b>transition</b> nodes, which are &#8220;wired&#8221; to some containers called its <b>inputs</b> and some called its <b>outputs</b>.  A transition can have multiple input or output connections to a single container.   </p>
<p>When a transition <b>fires</b>, it removes one token from each input container, and adds one token to each output container.  When there are multiple inputs or outputs to the same container, then that many tokens get removed or added.</p>
<p>The total state of the Petri net is described by a <b>labelling</b> function which maps each container to the number of tokens it holds.  A transition is <b>enabled</b> to fire in a labelling if there are enough tokens at its input containers.  If no transitions are enabled, the it is <b>halted</b>.</p>
<p>The sequencing is non-deterministic, because in a given labelling there may be several transitions that are enabled.  Dataflow arises whenever one transition sends tokens to a container that is read by another transition.</p>
<p>Petri nets represent <i>entity conversion networks</i>, which consist of entities of different species, along with reactions that convert input entities to output entities.  Each entity is symbolized by a token in the net, and all the tokens for a species are grouped into an associated container.  The conversion of entities is represented by the transitions that transform tokens.</p>
<h3> Example 1: Disease processes </h3>
<p>Here&#8217;s an example discussed earlier <a href="https://johncarlosbaez.wordpress.com/2012/06/27/the-mathematics-of-biodiversity-part-3/">on Azimuth</a>.  It describes the virus that causes AIDS.  The species are <b>healthy</b> cell, <b>infected</b> cell, and <b>virion</b> (the technical term for an individual virus).  The transitions are for infection, production of healthy cells, reproduction of virions within an infected cell, death of healthy cells, death of infected cells, and death of virions.  </p>
<div align="center">
<img width="450" src="https://i0.wp.com/math.ucr.edu/home/baez/networks/pictures/HIV_petri_net.png" /></div>
<p>Here the species are yellow circles and the transitions are aqua squares.  Note that there are three transitions called &#8220;death&#8221; and two called &#8220;production.&#8221;  They are disambiguated by a Greek letter suffix.</p>
<p>&bull; <b>production</b> (<img src="https://s0.wp.com/latex.php?latex=%5Calpha&#038;bg=ffffff&#038;fg=333333&#038;s=0&#038;c=20201002" alt="&#92;alpha" class="latex" />) describes the birth of one healthy cell, so it has no input and one <b>healthy</b> as output.  </p>
<p>&bull; <b>death</b> (<img src="https://s0.wp.com/latex.php?latex=%5Cgamma&#038;bg=ffffff&#038;fg=333333&#038;s=0&#038;c=20201002" alt="&#92;gamma" class="latex" />) has one <b>healthy</b> as input and no output.  </p>
<p>&bull; <b>death</b> (<img src="https://s0.wp.com/latex.php?latex=%5Cdelta&#038;bg=ffffff&#038;fg=333333&#038;s=0&#038;c=20201002" alt="&#92;delta" class="latex" />) has one <b>infected</b> as input and no output.  </p>
<p>&bull; <b>death</b> (<img src="https://s0.wp.com/latex.php?latex=%5Czeta&#038;bg=ffffff&#038;fg=333333&#038;s=0&#038;c=20201002" alt="&#92;zeta" class="latex" />) has one <b>virion</b> as input and no output.</p>
<p>&bull; <b>infection</b> (<img src="https://s0.wp.com/latex.php?latex=%5Cbeta&#038;bg=ffffff&#038;fg=333333&#038;s=0&#038;c=20201002" alt="&#92;beta" class="latex" />) takes one <b>healthy</b> and one <b>virion</b> as input, and has one <b>infected</b> cell as output.  </p>
<p>&bull; <b>production</b> (<img src="https://s0.wp.com/latex.php?latex=%5Cepsilon&#038;bg=ffffff&#038;fg=333333&#038;s=0&#038;c=20201002" alt="&#92;epsilon" class="latex" />) describes the reproduction of the virus in an infected cell, so it has one <b>infected</b> as input, and one <b>infected</b> and one <b>virion</b> as output.</p>
<h3> Example 2: Population dynamics </h3>
<p>Here the tokens represent organisms, and the species are biological species.  This simple example involving two species, <b>wolf</b> and <b>rabbit</b>: </p>
<div align="center">
<img width="450" src="https://i0.wp.com/math.ucr.edu/home/baez/networks/pictures/wolf-rabbit.png" /></div>
<p>There are three transitions: <b>birth</b>, which inputs one <b>rabbit</b> and outputs <b>rabbit</b> + <b>rabbit</b> like asexual reproduction), <b>predation</b>, which converts <b>rabbit</b> plus <b>wolf</b> to <b>wolf</b> plus <b>wolf</b>, and <b>death</b>, which inputs one <b>wolf</b> and outputs nothing.</p>
<h3> Example 3: Chemical reaction networks </h3>
<p>Here the entities are chemical units:  molecules, isolated atoms, or ions.  Each chemical unit is represented by a token in the net, and a container holds all of the tokens for a chemical species.  Chemical reactions are then modeled as transitions that consume input tokens and generate output tokens.  </p>
<p>We will be using the following simplified model for <i>water formation and dissociation</i>:</p>
<p>&bull; The species are H, O, and H<sub>2</sub>O. </p>
<p>&bull; Transition <b>combine</b> inputs two H atoms and one O atom, and outputs an H<sub>2</sub>O molecule.</p>
<p>&bull; Transition <b>split</b> is the reverse process, which inputs one H<sub>2</sub> and outputs two H and one O.</p>
<div align="center">
<img width="390" src="https://i2.wp.com/math.ucr.edu/home/baez/networks/pictures/H2O-example.png" /></div>
<p>Note that the model is intended to show the <i>idea</i> of chemical reaction Petri nets, so it is not physically realistic.  The actual reactions involve H<sub>2</sub> and O<sub>2</sub>, and there are intermediate transitions as well.   For more details, see <a href="http://math.ucr.edu/home/baez/networks/networks_3.html">Part 3</a> of the network theory series.</p>
<h3> A Petri net simulator </h3>
<p>The following Python script will simulate a Petri net, using parameters that describe the species, the transitions, and the initial labelling.  It will run the net for a specified number of steps.   At each step it chooses randomly among the enabled transitions, fires it, and prints the new labelling on the console.</p>
<h4> Download </h4>
<p>Here is the first <a href="http://www.cs.nyu.edu/tanzer/azimuth/petri1.py">Petri net simulator</a>.</p>
<h4> Running the script </h4>
<p>The model parameters are already coded into the script.  So let&#8217;s give it a whirl: </p>
<p>python petri1.py</p>
<p>This produced the output:</p>
<pre class="brush: plain; title: ; notranslate" title="">
    H, O, H2O, Transition
    5, 3, 4, split
    7, 4, 3, split
    9, 5, 2, combine
    7, 4, 3, combine
    5, 3, 4, split
    7, 4, 3, split
    9, 5, 2, split
    11, 6, 1, combine
    9, 5, 2, split
    11, 6, 1, split
    13, 7, 0, ...
</pre>
<p>We started out in a state with 5 H&#8217;s, 3 O&#8217;s, and 4 H<sub>2</sub>O&#8217;s, then a split took place, which increased H by 2, increased O by 1, and decreased H<sub>2</sub>O by one, then&#8230;</p>
<p>Running it again gives a different execution sequence.  </p>
<h4> Software structures used in the program </h4>
<p>Before performing a full dissection of the code, I&#8217;d like to make a digression to discuss some of the basic software constructs that are used in this program.  This is directed in particular to those of you who are coming from the science side, and are interested in learning more about programming.  </p>
<p>This program exercises a few of the basic mechanisms of object-oriented and functional programming.  The Petri net logic is bundled into the definition of a single <i>class</i> called PetriNet, and each  PetriNet <i>object</i> is an <i>instance</i> of the class.  This logic is grouped into <i>methods</i>, which are functions whose first parameter is bound to an instance of the class.</p>
<p>For example, here is the method IsHalted of the class PetriNet:</p>
<pre class="brush: python; title: ; notranslate" title="">
    def IsHalted(this):
        return len(this.EnabledTransitions()) == 0
</pre>
<p>The first parameter, conventionally called &#8220;this&#8221; or &#8220;self,&#8221; refers to the PetriNet class instance.  len returns the length of a list, and EnabledTransitions is a method that returns the list of transitions enabled in the current labelling.  </p>
<p>Here is the syntax for using the method:</p>
<pre class="brush: python; title: ; notranslate" title="">
    if petriNetInstance.IsHalted(): ...
</pre>
<p>If it were the case that IsHalted took additional parameters, the definition would look like this:</p>
<pre class="brush: python; title: ; notranslate" title="">
    def IsHalted(this, arg1, ..., argn):
</pre>
<p>and the call would look like this:</p>
<pre class="brush: python; title: ; notranslate" title="">
    if petriNetInstance.IsHalted(arg1, ..., argn)
</pre>
<p>Here is the definition of EnabledTransitions, which shows a basic element of functional programming:  </p>
<pre class="brush: python; title: ; notranslate" title="">
    def EnabledTransitions(this):
        return filter(lambda transition: transition.IsEnabled(this.labelling), this.transitions)
</pre>
<p>A PetriNet instance holds this list of Transition objects, called this.transitions.  The expression &#8220;lambda: transition &#8230;&#8221; is an <b>anonymous function</b> that maps a Transition object to the boolean result returned by calling the IsEnabled method on that transition, given the current labelling this.labelling.  The filter function takes an anonymous boolean-valued function and a list of objects, and returns the sublist consisting of those objects that satisfy this predicate.    </p>
<p>The program also gives an example of <i>class inheritance</i>, because the class PetriNet inherits all fields and methods from a base class called PetriNetBase.</p>
<h4> Python as a language for pedagogical and scientific programming </h4>
<p>We continue with our digression, to talk now about the choice of language.  With something as fundamental to our thinking as a language, it&#8217;s easy to see how the topic of language choice tends to become partisan.  Imagine, for example, a debate between different nationalities, about which language was more beautiful, logical, etc.  Here the issue is put into perspective by David Tweed from the Azimuth project:</p>
<blockquote><p> Programming languages are a lot like &#8220;motor vehicles&#8221;: a family car has different trade-offs to a sports car to a small van to a big truck to a motorbike to &#8230;. Each of these has their own niche where they make the most sense to use.
</p></blockquote>
<p>The Petri net simulator which I wrote in Python, and which will soon to be dissected, could have been equivalently written in any modern object-oriented programming language, such as C++, Java or C#.  I chose Python for the following reasons.  First, it is a scripting language.  This means that the casual user need not get involved with a  compilation step that is preparatory to running the program.  Second, it does provide the abstraction capabilities needed to express the Petri net model.  Third, I like the way that the syntax rolls out.  This syntax has been described as executable pseudo-code.  Finally, the language has a medium-sized user-base and support community.  </p>
<p>Python is good for proof of concept programs, and it works well as a pedagogical programming language.  Yet it is also practical.  It has been widely adopted in the field of scientific programming.  David Tweed explains it in these terms:</p>
<blockquote><p>
I think a big part of Python&#8217;s use comes from an the way that a lot of scientific programming is as much about &#8220;management&#8221; &#8212; parsing files of prexisting structured data, iterating over data, controlling network connections, calling C code, launching subprograms, etc &#8212; as much as &#8220;numeric computation&#8221;. This is where Python is particularly good, and it&#8217;s now acquired the NumPy &amp; SciPy extensions to speed up the numerical programming elements, but it&#8217;s primarily the higher level elements that make it attractive in science.
</p></blockquote>
<p>Because variables in Python are neither declared in the program text, nor inferred by the byte-code compiler, the types of the variables are known only at run time.  This has a negative impact on performance for data intensive calculations: rather than having the compiler generate the right code for the data type that is being processed, the types need to be checked at run time.  The NumPy and SciPy libraries address this by providing bulk array operations, e.g., addition of two matrices, in a native code library that is integrated with the Python runtime environment.  If this framework does not suffice for your high-performance numerical application, then you will have to turn to other languages, notably, C++.</p>
<p>All this being said, it is now time to return to the main topic of this article, which is the <i>content</i> of Petri net programming.</p>
<h4> Top-level structure of the Petri net simulator script </h4>
<p>At a high level, the script constructs a Petri net, constructs the initial labelling, and then runs the simulation for a given number of steps.</p>
<p>First construct the Petri net:</p>
<pre class="brush: python; title: ; notranslate" title="">  
    # combine: 2H + 1O -&gt; 1H2O
    combineSpec = (&quot;combine&quot;, [[&quot;H&quot;,2],[&quot;O&quot;,1]], [[&quot;H2O&quot;,1]])

    # split: 1H2O -&gt; 2H + 1O 
    splitSpec = (&quot;split&quot;, [[&quot;H2O&quot;,1]], [[&quot;H&quot;,2],[&quot;O&quot;,1]])

    petriNet = PetriNet(
        [&quot;H&quot;,&quot;O&quot;,&quot;H2O&quot;],         # species
        [combineSpec,splitSpec]  # transitions
    )
</pre>
<p>Then establish the initial labelling:</p>
<pre class="brush: python; title: ; notranslate" title="">
    initialLabelling = {&quot;H&quot;:5, &quot;O&quot;:3, &quot;H2O&quot;:4}
</pre>
<p>Then run it for twenty steps:</p>
<pre class="brush: python; title: ; notranslate" title="">
    steps = 20
    petriNet.RunSimulation(steps, initialLabelling)
</pre>
<h4> Program code </h4>
<p>Species will be represented simply by their names, i.e., as strings.  PetriNet and Transition will be defined as object classes.  Each PetriNet instance holds a list of species names, a list of transition names, a list of Transition objects, and the current labelling.  The labelling is a dictionary from species name to token count.   Each Transition object contains an input dictionary and an input dictionary.  The input dictionary map the name of a species to the number of times that the transition takes it as input, and similarly for the output dictionary.</p>
<h5> Class PetriNet </h5>
<p>The PetriNet class has a top-level method called RunSimulation, which  makes repeated calls to FireOneRule.  FireOneRule obtains the list of enabled transitions, chooses one randomly, and fires it.  This is accomplished by the method SelectRandom, which uses a random integer between 1 and N to choose a transition from the list of enabled transitions.</p>
<pre class="brush: python; title: ; notranslate" title="">
    class PetriNet(PetriNetBase):
        def RunSimulation(this, iterations, initialLabelling): 
            this.PrintHeader()  # prints e.g. &quot;H, O, H2O&quot;
            this.labelling = initialLabelling
            this.PrintLabelling() # prints e.g. &quot;3, 5, 2&quot; 

            for i in range(iterations):
               if this.IsHalted():
                   print &quot;halted&quot;
                   return 
               else:
                   this.FireOneRule()
                   this.PrintLabelling(); 
            print &quot;iterations completed&quot; 
    
        def EnabledTransitions(this):
            return filter(lambda transition: transition.IsEnabled(this.labelling), this.transitions)
    
        def IsHalted(this):
            return len(this.EnabledTransitions()) == 0
    
        def FireOneRule(this):
            this.SelectRandom(this.EnabledTransitions()).Fire (this.labelling)

        def SelectRandom(this, items):
            randomIndex = randrange(len(items))
            return items[randomIndex]
</pre>
<h5> Class Transition </h5>
<p>The Transition class exposes two key methods.  IsEnabled takes a labeling as parameter, and returns a boolean saying whether the transition can fire.  This is determined by comparing the input map for the transition with the token counts in the labeling, to see if there is sufficient tokens for it to fire.  The Fire method takes a labelling in, and updates the counts in it to reflect the action of removing input tokens and creating output tokens.  </p>
<pre class="brush: python; title: ; notranslate" title="">
    class Transition:
        # Fields:
        # transitionName
        # inputMap: speciesName -&amp;gt; inputCount
        # outputMap: speciesName -&amp;gt; outputCount 
    
        # constructor
        def __init__(this, transitionName):
           this.transitionName = transitionName
           this.inputMap = {} 
           this.outputMap = {} 
    
        def IsEnabled(this, labelling):
           for inputSpecies in this.inputMap.keys():
              if labelling[inputSpecies] &amp;lt; this.inputMap[inputSpecies]: 
                  return False  # not enough tokens
           return True # good to go 
    
        def Fire(this, labelling):
           print this.transitionName
           for inputName in this.inputMap.keys():
              labelling[inputName] = labelling[inputName] - this.inputMap[inputName] 
           for outputName in this.outputMap.keys():
              labelling[outputName] = labelling[outputName] + this.outputMap[outputName] 
</pre>
<h5> Class PetriNetBase </h5>
<p>Notice that the class line for PetriNet declares that it inherits from a base class PetriNetBase.  The base class contains utility methods that support PetriNet:  PrintHeader, PrintLabelling, SelectRandom, and the constructor, which converts the transition specifications into Transition objects.</p>
<pre class="brush: python; title: ; notranslate" title="">
    class PetriNetBase:
        # Fields:
        # speciesNames
        # Transition list
        # labelling: speciesName -&amp;gt; token count 
    
        # constructor
        def __init__(this, speciesNames, transitionSpecs):
            this.speciesNames = speciesNames
            this.transitions = this.BuildTransitions(transitionSpecs)
    
        def BuildTransitions(this, transitionSpecs):
            transitions = []
            for (transitionName, inputSpecs, outputSpecs) in transitionSpecs:
                transition = Transition(transitionName)
                for degreeSpec in inputSpecs:
                    this.SetDegree(transition.inputMap, degreeSpec)
                for degreeSpec in outputSpecs:
                    this.SetDegree(transition.outputMap, degreeSpec)
                transitions.append(transition)
            return transitions 
    
        def SetDegree(this, dictionary, degreeSpec):
            speciesName = degreeSpec[0]
            if len(degreeSpec) == 2:
                degree = degreeSpec[1]
            else: 
                degree = 1
            dictionary[speciesName] = degree
    
        def PrintHeader(this):
            print string.join(this.speciesNames, &quot;, &quot;) + &quot;, Transition&quot;
               
        def PrintLabelling(this):
            for speciesName in this.speciesNames:
                print str(this.labelling[speciesName]) + &quot;,&quot;, 
</pre>
<h3> Summary </h3>
<p>We&#8217;ve learned about an important model for computation, called Petri nets, and seen how it can be used to model a general class of entity conversion networks, which include chemical reaction networks as a major case.  Then we wrote a program to simulate them, and applied it to a simple model for formation and dissociation of water molecules.</p>
<p>This is a good beginning, but observe the following limitation of our current program:  it just randomly picks a rule.  When we run the program, the simulation makes a kind of random walk, back and forth, between the states of full synthesis and full dissociation.  But in a real chemical system, the rates at which the transitions fires are _probabilistically determined_, and depend, among other things, on the temperature.  With a high probability for formation, and a low probability for dissociation, we would expect the system to reach an equilibrium state in which H<sub>2</sub>O is the predominant &#8220;token&#8221; in the system.  The relative concentration of the various chemical species would be determined by the relative firing rates of the various transitions.</p>
<p>This gives motivation for the next article that I am writing, on <i>stochastic</i> Petri nets.  </p>
<h3> Programming exercises </h3>
<p>1.  Extend the constructor for PetriNet to accept a dictionary from transitionName to a number, which will give the relative probability of that transition firing.  Modify the firing rule logic to use these values.  This is a step in the direction of the stochastic Petri nets covered in the next article.</p>
<p>2.  Make a prediction about the overall evolution of the system, given fixed probabilities for synthesis and dissociation, and then run the program to see if your prediction is confirmed.</p>
<p>3.  If you like, improve the usability of the script, by passing the model parameters from the command line.  Use sys.argv and eval.  You can use single quotes, and pass a string like &#8220;{&#8216;H&#8217;:5, &#8216;O&#8217;:3, &#8216;H2O&#8217;:4}&#8221; from the command line.</p>
<p>By the way: if you do this exercises, please post a comment including your code, or a link to your code!  To make Python code look pretty on this blog, see <a href="http://pythonconquerstheuniverse.wordpress.com/2011/11/06/posting-sourcecode-on-wordpress/">this</a>.</p>
<h3> Acknowledgements </h3>
<p>Thanks to David Tweed and Ken Webb for reviewing the code and coming up with improvements to the specification syntax for the Petri nets.   Thanks to Jacob Biamonte for the diagrams, and for energetically reviewing the article.  John Baez contributed the three splendid examples of Petri nets.  He also encouraged me along the way, and provided good support as an editor.</p>
<h3> Appendix: Notes on the language interpreter </h3>
<p>The sample program is written in Python, which is a low-fuss scripting language with abstraction capabilities.  The language is well-suited for proof-of-concept programming, and it has a medium-sized user base and support community.  The main website is <a href="http://www.python.org">www.python.org</a>.</p>
<p>You have a few distributions to choose from:</p>
<p>&bull; If you are on a Linux or Mac type of system, it is likely to already be installed.  Just open a shell and type &#8220;python.&#8221;  Otherwise, use the package manager to install it.</p>
<p>&bull; In Windows, you can use the version from the python.org web site.  Alternatively, install <a href="http://www.cygwin.com">cygwin</a>, and in the installer, select Python, along with any of your other favorite Linux-style packages.  Then you can partially pretend that you are working on a Linux type of system.</p>
<p>&bull; The <a href="http://www.enthought.com">Enthought</a> Python distribution comes packaged with a suite of Python-based open-source scientific and numeric computing packages.  This includes ipython, scipy, numpy and matplotlib.</p>
<p>The program is distributed as a self-contained script, so in Linux and cygwin you can just execute ./petri1.py.  When running this way under cygwin, you can either refer to the cygwin version of the Python executable, or to any of the native Windows versions of interpreter. You just need to adjust the first line of the script to point to the python executable.  </p>
<div id="jp-post-flair" class="sharedaddy sd-sharing-enabled">
<div id='jp-relatedposts' class='jp-relatedposts' >
	<h3 class="jp-relatedposts-headline"><em>Related</em></h3>
</div></div>
				
				<p class="postmetadata alt">
					<small>
					This entry was posted  on Monday, October 1st, 2012 at 6:11 pm and is filed under <a href="https://johncarlosbaez.wordpress.com/category/networks/" rel="category tag">networks</a>, <a href="https://johncarlosbaez.wordpress.com/category/software/" rel="category tag">software</a>.					You can follow any responses to this entry through the <a href='https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/feed/'>RSS 2.0</a> feed.
											You can <a href="#respond">leave a response</a>, or <a href="https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/trackback/" rel="trackback">trackback</a> from your own site.
					
					</small>
				</p>

				<nav id="nav-below">
					<h3 class="assistive-text">Post navigation</h3>
					<span class="nav-previous"><a href="https://johncarlosbaez.wordpress.com/2012/09/28/azimuth-news-part-2/" rel="prev">&laquo; Previous Post</a></span>
					<span class="nav-next"><a href="https://johncarlosbaez.wordpress.com/2012/10/04/mathematics-of-the-environment/" rel="next">Next Post &raquo;</a></span>
				</nav><!-- #nav-below -->

			</div>
		</div>

	<div id="comments">


<h3 id="comments-title">24 Responses to <em>Petri Net Programming (Part&nbsp;1)</em></h3>


<ol class="commentlist">
			<li class="comment byuser comment-author-johncarlosbaez bypostauthor even thread-even depth-1 parent highlander-comment" id="comment-20388">
				<div id="div-comment-20388" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='https://0.gravatar.com/avatar/34784534843022b3541c8ddd693718cb?s=32&#038;d=identicon&#038;r=G' class='avatar avatar-32' height='32' width='32' />			<cite class="fn"><a href='http://math.ucr.edu/home/baez/' rel='external nofollow ugc' class='url'>John Baez</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/#comment-20388">1 October, 2012 at 6:46 pm</a>		</div>

		<p>Great post, David!  I hope we pick up enough steam to write some stochastic Petri net programs that tackle really interesting real-world issues, like:</p>
<p>&bull; how likely is it that a random stochastic Petri net displays bistability, like an &#8216;on-off switch&#8217;?</p>
<p>or </p>
<p>&bull; how likely is it that a random stochastic Petri net displays periodic behavior, like a &#8216;biological clock&#8217;?  </p>
<p>or </p>
<p>&bull; what rules for <i>evolution</i> of stochastic Petri nets push them toward interesting behavior?</p>
<p>or </p>
<p>&bull; take some stochastic Petri nets that are studied in the biology / chemistry literature, and answer some interesting open questions about them.</p>
<p>But for now, here&#8217;s a naive programming question: what&#8217;s an &#8216;anonymous function&#8217;?</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/?replytocom=20388#respond' data-commentid="20388" data-postid="12315" data-belowelement="div-comment-20388" data-respondelement="respond" data-replyto="Reply to John Baez" aria-label='Reply to John Baez'>Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment odd alt depth-2 highlander-comment" id="comment-20399">
				<div id="div-comment-20399" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='https://2.gravatar.com/avatar/842ef5d331ea7a9d725ac02ecdb18005?s=32&#038;d=identicon&#038;r=G' class='avatar avatar-32' height='32' width='32' />			<cite class="fn">Jesse C. McKeown</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/#comment-20399">2 October, 2012 at 12:44 am</a>		</div>

		<p>Anonymous functions are what most functions always were before we forgot they needn&#8217;t all have names.</p>
<p>Jim, <a href="#comment-20392" rel="nofollow">below</a> suggests lambda-abstracts as one way to get anonymous functions. Strictly speaking, any composite term that can be used as a &#8220;function&#8221; in the program-writing sense might as well be considered an anonymous function.</p>
<p>Languages like C tend to discourage function anonymity, and they get around the attendent difficulties (if they are difficulties) with things like &#8220;callbacks&#8221; and clever manipulation of machine state.  C particularly is designed with a byte-chunked RAM machine in mind, and doing things directly to that machine; the things that are used as functions in C are thought of as addresses where a particular bunch of machine instructions start.  These addresses can be used as parameters in calling other functions, or returned as values, but returned values won&#8217;t be &#8220;new&#8221; functions or combinates.</p>
<p>Other languages, especially those with a &#8220;functional programming&#8221; style are more encouraging of anonymous functions; lisp comes to mind particularly.  Of course, one can compile lisp into C (e.g.), so it ought to be possible to write in a functional style in C, directly; though the things that would be functions in lisp probably wouldn&#8217;t be C functions.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/?replytocom=20399#respond' data-commentid="20399" data-postid="12315" data-belowelement="div-comment-20399" data-respondelement="respond" data-replyto="Reply to Jesse C. McKeown" aria-label='Reply to Jesse C. McKeown'>Reply</a></div>
				</div>
				</li><!-- #comment-## -->
		<li class="comment even depth-2 parent highlander-comment" id="comment-20404">
				<div id="div-comment-20404" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='https://2.gravatar.com/avatar/2999923af32d9432e1d72404ec3e9dcb?s=32&#038;d=identicon&#038;r=G' class='avatar avatar-32' height='32' width='32' />			<cite class="fn">David Tanzer</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/#comment-20404">2 October, 2012 at 4:48 am</a>		</div>

		<p>Interesting questions about random stochastic Petri nets that you posed.   They lead to further questions.   </p>
<p>1.  By what method would we construct a random Petri net?  I see definitions on the web of a random graph, where you fix the set of nodes, and then assign a probability to each possible edge &#8212; then use these probabilities to build a graph.   With Petri nets we have two types of nodes, plus the possibility that an edge from A to B occurs multiple times.</p>
<p>The following questions will betray my lack of knowledge of the further reaches of Petri net theory.   I&#8217;m guessing my way through the terrain, so please correct and/oor elaborate.</p>
<p>2.   Bistable and periodic refer to the solutions to the rate equation, right?   We could think of the state space of a Petri net with k species either as the non-negative region of <img src="https://s0.wp.com/latex.php?latex=R+%5E+k&#038;bg=ffffff&#038;fg=333333&#038;s=0&#038;c=20201002" alt="R ^ k" class="latex" /> or <img src="https://s0.wp.com/latex.php?latex=N+%5E+k&#038;bg=ffffff&#038;fg=333333&#038;s=0&#038;c=20201002" alt="N ^ k" class="latex" />, depending on whether you use a continuous approximation or not.   In the continuous case we use a differential equation, the rate equation.  ( Is there a discrete analog?)   </p>
<p>The solutions to the equations give the trajectories in state space, given an initial state.  So we can look at attractor points and basins of attraction.   </p>
<p>Does bistable mean that there are two attractors and the whole (non-negative) region of <img src="https://s0.wp.com/latex.php?latex=R+%5E+k&#038;bg=ffffff&#038;fg=333333&#038;s=0&#038;c=20201002" alt="R ^ k" class="latex" /> is divided into the basins of attraction for these points?</p>
<p>Does periodic means that there are points that cycle back to themselves, or is it a broader notion, meaning that there are points whose trajectories are bounded, but do not converge to an attractor?</p>
<p>Can a system be bistable and periodic, in the sense that there are two attractors, but there are also points that are periodic?</p>
<p>Basically I&#8217;m asking about the character of the solutions to the rate equation, which I have not yet investigated.   Can you summarize the main theorems regarding the solutions.</p>
<p>3.  Given a stochastic Petri net, is there a decision procedure to say whether it is &#8220;bistable,&#8221; or &#8220;periodic&#8221;?    Or does one have to resort to a probabilistic test, involving selections of an initial starting vector, and testing to see whether (1) it appears to be headed for an attractor (or infinity), or (2) whether it appears to be a periodic point.   Clearly &#8220;appears&#8221; needs to be defined.</p>
<p>I realize these are somewhat broad and sketchy questions, but any expert hints you can provide would be great!</p>
<p>Thanks</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/?replytocom=20404#respond' data-commentid="20404" data-postid="12315" data-belowelement="div-comment-20404" data-respondelement="respond" data-replyto="Reply to David Tanzer" aria-label='Reply to David Tanzer'>Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment odd alt depth-3 highlander-comment" id="comment-20505">
				<div id="div-comment-20505" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='https://0.gravatar.com/avatar/34784534843022b3541c8ddd693718cb?s=32&#038;d=identicon&#038;r=G' class='avatar avatar-32' height='32' width='32' />			<cite class="fn"><a href='http://math.ucr.edu/home/baez/' rel='external nofollow ugc' class='url'>John Baez</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/#comment-20505">5 October, 2012 at 7:14 pm</a>		</div>

		<p>David Tanzer asked:</p>
<blockquote><p>
Bistable and periodic refer to the solutions to the rate equation, right?
</p></blockquote>
<p>Right.</p>
<blockquote><p>
We could think of the state space of a Petri net with k species either as the non-negative region of <img src="https://s0.wp.com/latex.php?latex=%5Cmathbb%7BR%7D%5Ek&#038;bg=ffffff&#038;fg=333333&#038;s=0&#038;c=20201002" alt="&#92;mathbb{R}^k" class="latex" /> or <img src="https://s0.wp.com/latex.php?latex=%5Cmathbb%7BN%7D%5Ek&#038;bg=ffffff&#038;fg=333333&#038;s=0&#038;c=20201002" alt="&#92;mathbb{N}^k" class="latex" />, depending on whether you use a continuous approximation or not. In the continuous case we use a differential equation, the rate equation.
</p></blockquote>
<p>Right.  My <a href="http://math.ucr.edu/home/baez/stoch_stable.pdf" rel="nofollow">book</a> with Jacob Biamonte wound up spending a lot of time on the rate equation.  We explained that when a Petri net has &#8216;deficiency zero&#8217; and is &#8216;weakly reversible&#8217;, people have a good understanding of solutions of the rate equation.  There are just as many equilibrium solutions as you&#8217;d expect, no more and no less.  They&#8217;re all stable, and there are no periodic solutions.</p>
<p>Even better, in this case, the &#8216;Anderson&#8211;Craciun&#8211;Kurtz theorem&#8217; lets you quickly obtain equilibrium solutions of the <i>master</i> equation from equilibrium solutions of the rate equation.</p>
<p>But this case is, in a sense, the <i>boring</i> case!</p>
<blockquote><p>
( Is there a discrete analog?)
</p></blockquote>
<p>Yes, but people haven&#8217;t studied this as much.  In fact, I don&#8217;t know if I&#8217;ve seen it anywhere, but I could easily describe it.  It might be fun to generalize the zero deficiency theorem to this case, if nobody has yet.  I think I could do it.</p>
<blockquote><p>
The solutions to the equations give the trajectories in state space, given an initial state. So we can look at attractor points and basins of attraction.
</p></blockquote>
<p>What I&#8217;m calling a &#8216;stable equilibrium&#8217; is exactly the same as what you&#8217;re calling an attractor.   When the &#8216;zero deficiency&#8217; condition holds, we have a good handle on the attractors, and there&#8217;s only one attractor in each &#8216;stoichiometric compatibility class&#8217;.</p>
<blockquote><p>
Does bistable mean that there are two attractors and the whole (non-negative) region of <img src="https://s0.wp.com/latex.php?latex=%5Cmathbb%7BR%7D%5Ek&#038;bg=ffffff&#038;fg=333333&#038;s=0&#038;c=20201002" alt="&#92;mathbb{R}^k" class="latex" /> is divided into the basins of attraction for these points?
</p></blockquote>
<p>No, but close.  It means there are two attractors in some stoichiometric compability class.</p>
<p>I&#8217;m reluctant to explain &#8216;stoichiometric compatibility class&#8217; in general, having already done so <a href="http://math.ucr.edu/home/baez/networks/networks_17.html" rel="nofollow">here</a>, but if you think about the water formation and dissociation example you described, you&#8217;ll quickly get the idea.  </p>
<p>There&#8217;s one stoichiometric compatibility class for each choice of these two quantities:</p>
<p>1) number of H<sub>2</sub>O&#8217;s plus the number of O&#8217;s</p>
<p>2) twice the number of H<sub>2</sub>O&#8217;s plus the number of H&#8217;s</p>
<p>These quantities can never change, since hydrogen and oxygen atoms can&#8217;t be created or destroyed by the reactions in this Petri net.  So, a solution of the rate equation <i>or</i> master equation can only wander around in one stoichiometric compatibility class.</p>
<p>Thanks to the deficiency zero theorem, the rate equation has one attractor in each stoichometric compatibility class.  Where this attractor is depends on the rate constants for the formation and dissociation of water.  </p>
<p>This is a nice example of the zero deficiency theorem.</p>
<blockquote><p>
Does periodic means that there are points that cycle back to themselves,
</p></blockquote>
<p>Yes.  The time it takes to come back is called the &#8216;period&#8217;.</p>
<blockquote><p>
or is it a broader notion, meaning that there are points whose trajectories are bounded, but do not converge to an attractor?
</p></blockquote>
<p>No, that broader notion would includes not just periodic solutions but quasiperiodic and chaotic ones.</p>
<blockquote><p>
Can a system be bistable and periodic, in the sense that there are two attractors, but there are also points that are periodic?
</p></blockquote>
<p>What&#8217;s periodic is not the system but a particular solution. A system can have any number of attractors and any number of periodic solutions.  </p>
<p>The word &#8216;bistable&#8217; focuses undo attention on the number <i>two</i>, which is interesting just because it&#8217;s the first number bigger than one.  A light switch is bistable, and people are interested in &#8216;switches&#8217; in biochemistry, but a general switch could have many stable settings.</p>
<blockquote><p>
Basically I’m asking about the character of the solutions to the rate equation, which I have not yet investigated. Can you summarize the main theorems regarding the solutions.
</p></blockquote>
<p>I summarized the deficiency zero theorem and Anderson-Craciun-Kurtz theorem rather vaguely above.  I did it quite precisely in the <a href="http://math.ucr.edu/home/baez/stoch_stable.pdf" rel="nofollow">book</a>.  There are also lots of other theorems, like the deficiency one theorem. </p>
<blockquote><p>
3. Given a stochastic Petri net, is there a decision procedure to say whether it is “bistable,” or “periodic”?
</p></blockquote>
<p>There are theorems&#8212;most notably the deficiency zero theorem and deficiency one theorem&#8211;that give necessary or sufficient theorems for these properties, but I don&#8217;t believe a full-fledged decision procedure is known.</p>
<blockquote><p>
Or does one have to resort to a probabilistic test, involving selections of an initial starting vector, and testing to see whether (1) it appears to be headed for an attractor (or infinity), or (2) whether it appears to be a periodic point. Clearly “appears” needs to be defined.
</p></blockquote>
<p>People can already do a lot better than this brute-force method, thanks in part to all the theorems people have shown, but I think there&#8217;s a huge unexplored territory here.  Mathematical chemists are interested in this problem, and it seems to be tricky.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/?replytocom=20505#respond' data-commentid="20505" data-postid="12315" data-belowelement="div-comment-20505" data-respondelement="respond" data-replyto="Reply to John Baez" aria-label='Reply to John Baez'>Reply</a></div>
				</div>
				</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even depth-2 parent highlander-comment" id="comment-20411">
				<div id="div-comment-20411" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='https://0.gravatar.com/avatar/64ff54801a8b7ffba98809347155d405?s=32&#038;d=identicon&#038;r=G' class='avatar avatar-32' height='32' width='32' />			<cite class="fn">Vasileios Anagnostopoulos</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/#comment-20411">2 October, 2012 at 10:05 am</a>		</div>

		<p>A naive programming answer :</p>
<p>Creating an  anonymous function is like cooking a cake in a pastry shop. The customer is the executor of the function. He will refer to it by name (like myPrecious, theYummy) and he uses it as he wishes (eating it the same day, eating half tomorrow and half today, eating it now, giving it as a present).<br />
The person who cooks it will not use it so there is no reason to give it a name.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/?replytocom=20411#respond' data-commentid="20411" data-postid="12315" data-belowelement="div-comment-20411" data-respondelement="respond" data-replyto="Reply to Vasileios Anagnostopoulos" aria-label='Reply to Vasileios Anagnostopoulos'>Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment odd alt depth-3 highlander-comment" id="comment-20412">
				<div id="div-comment-20412" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='https://0.gravatar.com/avatar/64ff54801a8b7ffba98809347155d405?s=32&#038;d=identicon&#038;r=G' class='avatar avatar-32' height='32' width='32' />			<cite class="fn">Vasileios Anagnostopoulos</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/#comment-20412">2 October, 2012 at 10:09 am</a>		</div>

		<p>Some more :</p>
<p>A pure anonymous function has no side effects. If the cooker has forgotten his keys inside he will not be able to enter his house after selling it. This cake (anonymous function) is not pure. But if it has no side effects (after giving it away nothing happens) then it is pure.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/?replytocom=20412#respond' data-commentid="20412" data-postid="12315" data-belowelement="div-comment-20412" data-respondelement="respond" data-replyto="Reply to Vasileios Anagnostopoulos" aria-label='Reply to Vasileios Anagnostopoulos'>Reply</a></div>
				</div>
				</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even depth-2 highlander-comment" id="comment-20414">
				<div id="div-comment-20414" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='https://0.gravatar.com/avatar/656e05d084448337fb49459225dc525e?s=32&#038;d=identicon&#038;r=G' class='avatar avatar-32' height='32' width='32' />			<cite class="fn">davidtweed</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/#comment-20414">2 October, 2012 at 11:24 am</a>		</div>

		<p>Another way of putting it is the difference between someone you introduce yourself to, say a new acquaintance and the person behind the till in a shop you&#8217;ll visit once. There&#8217;s no reason you can&#8217;t avoid asking the name of an acquaintance,but it makes things harder,and likewise you could find the name of the server,but its not clear it&#8217;s worth it even for them as they&#8217;re probably being tracked on throughout. Sometimes naming isn&#8217;t worth doing,even in programs.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/?replytocom=20414#respond' data-commentid="20414" data-postid="12315" data-belowelement="div-comment-20414" data-respondelement="respond" data-replyto="Reply to davidtweed" aria-label='Reply to davidtweed'>Reply</a></div>
				</div>
				</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-20392">
				<div id="div-comment-20392" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='https://0.gravatar.com/avatar/34691970b7fdbc9091b67882ef9db275?s=32&#038;d=identicon&#038;r=G' class='avatar avatar-32' height='32' width='32' />			<cite class="fn"><a href='http://gravatar.com/jimstuttard' rel='external nofollow ugc' class='url'>jimstuttard</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/#comment-20392">1 October, 2012 at 7:38 pm</a>		</div>

		<p>The lambda in lambda calculus is an anonymous function except for its name &#8220;lambda&#8221;</p>
<p>An example is:</p>
<p>\x -&gt; x**2 where x is a variable and \ is a lambda..</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/?replytocom=20392#respond' data-commentid="20392" data-postid="12315" data-belowelement="div-comment-20392" data-respondelement="respond" data-replyto="Reply to jimstuttard" aria-label='Reply to jimstuttard'>Reply</a></div>
				</div>
				</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 parent highlander-comment" id="comment-20422">
				<div id="div-comment-20422" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='https://0.gravatar.com/avatar/f2e74e210ef116a6f1ed2e39c2f4becb?s=32&#038;d=identicon&#038;r=G' class='avatar avatar-32' height='32' width='32' />			<cite class="fn"><a href='http://@jenwebs1990' rel='external nofollow ugc' class='url'>Jenny</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/#comment-20422">2 October, 2012 at 2:53 pm</a>		</div>

		<p>producer  input (fine) &#8211; process &#8211; output<br />
producer  input (virus) &#8211; process &#8211; output<br />
reproducer input (fine) &#8211; process &#8211; output<br />
reproducer  input (virus) &#8211; process &#8211; output</p>
<p>repeating&#8230;</p>
<p>basically input (fine)- process wont be infected- output(fine)<br />
input (virus) &#8211; &#8211; process will be infected- output(virus)</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/?replytocom=20422#respond' data-commentid="20422" data-postid="12315" data-belowelement="div-comment-20422" data-respondelement="respond" data-replyto="Reply to Jenny" aria-label='Reply to Jenny'>Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment odd alt depth-2 highlander-comment" id="comment-20482">
				<div id="div-comment-20482" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='https://2.gravatar.com/avatar/2999923af32d9432e1d72404ec3e9dcb?s=32&#038;d=identicon&#038;r=G' class='avatar avatar-32' height='32' width='32' />			<cite class="fn">David Tanzer</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/#comment-20482">4 October, 2012 at 10:48 pm</a>		</div>

		<p>Can you elaborate a bit in words the thought process that you are going though here?</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/?replytocom=20482#respond' data-commentid="20482" data-postid="12315" data-belowelement="div-comment-20482" data-respondelement="respond" data-replyto="Reply to David Tanzer" aria-label='Reply to David Tanzer'>Reply</a></div>
				</div>
				</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-odd thread-alt depth-1 highlander-comment" id="comment-20443">
				<div id="div-comment-20443" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='https://0.gravatar.com/avatar/34784534843022b3541c8ddd693718cb?s=32&#038;d=identicon&#038;r=G' class='avatar avatar-32' height='32' width='32' />			<cite class="fn"><a href='http://math.ucr.edu/home/baez/' rel='external nofollow ugc' class='url'>John Baez</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/#comment-20443">3 October, 2012 at 3:46 am</a>		</div>

		<p>Okay, thanks everyone: I think I get the idea of an anonymous function.  If I understand right, </p>
<p><img src="https://s0.wp.com/latex.php?latex=f%28x%29+%3A%3D+x%5E2+%2B+1+&#038;bg=ffffff&#038;fg=333333&#038;s=0&#038;c=20201002" alt="f(x) := x^2 + 1 " class="latex" /></p>
<p>is &#8216;nonymous&#8217; (my silly term), since we&#8217;ve given it the name <img src="https://s0.wp.com/latex.php?latex=f&#038;bg=ffffff&#038;fg=333333&#038;s=0&#038;c=20201002" alt="f" class="latex" />, but </p>
<p><img src="https://s0.wp.com/latex.php?latex=%5Clambda+x.+%28x%5E2+%2B+1%29+&#038;bg=ffffff&#038;fg=333333&#038;s=0&#038;c=20201002" alt="&#92;lambda x. (x^2 + 1) " class="latex" /></p>
<p>is an &#8216;anonymous&#8217; description of the same function in lambda-calculus terminology, and lots of mathematicians would use the anonymous description</p>
<p><img src="https://s0.wp.com/latex.php?latex=x+%5Cmapsto+x%5E2+%2B1+&#038;bg=ffffff&#038;fg=333333&#038;s=0&#038;c=20201002" alt="x &#92;mapsto x^2 +1 " class="latex" /></p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/?replytocom=20443#respond' data-commentid="20443" data-postid="12315" data-belowelement="div-comment-20443" data-respondelement="respond" data-replyto="Reply to John Baez" aria-label='Reply to John Baez'>Reply</a></div>
				</div>
				</li><!-- #comment-## -->
		<li class="comment odd alt thread-even depth-1 parent highlander-comment" id="comment-20453">
				<div id="div-comment-20453" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='https://2.gravatar.com/avatar/b4d356451462687f33b4d14fa843faa9?s=32&#038;d=identicon&#038;r=G' class='avatar avatar-32' height='32' width='32' />			<cite class="fn">sean matthews</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/#comment-20453">3 October, 2012 at 3:12 pm</a>		</div>

		<p>I think you may be missing something here.  Your discussion gets quite deep into the problems of building a petri-net simulator precisely in Python, but reading it, it is not clear to me that the concepts you find in Python are particularly relevant for understanding Petri-nets (this does not mean that you can&#8217;t build a good petri-net simulator in Python, only that what is interesting is the result, not the details of the implementation).</p>
<p>When I think about how to implement a Petri-net simulator (speaking as someone who first encountered them at least 30 years ago, when I was about 17) I don&#8217;t think in terms of object/class structures at all, but in terms of possible paths through a relational algebra. (I had the same feeling reading James Sethna&#8217;s book on statistical physics a while ago, where he provides a lot of class-based (python) code for working with graphs, when sparse matrixes and an algebraic approach would have been much more effective).</p>
<p>The result would be more concise and map much better onto the problem, so that intutions on one side could be reinforced on the other.  I&#8217;m sceptical that this is the case with something built around the limitations of Python.</p>
<p>Object-orientation is a bit like the gibbs vector calculus: it works and it is better than some of the alternatives, but algebraic geometry can do it better!</p>
<p>[you know, blog comment boxes are too short for this sort of point, it suddenly occurs to me]</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/?replytocom=20453#respond' data-commentid="20453" data-postid="12315" data-belowelement="div-comment-20453" data-respondelement="respond" data-replyto="Reply to sean matthews" aria-label='Reply to sean matthews'>Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment even depth-2 parent highlander-comment" id="comment-20484">
				<div id="div-comment-20484" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='https://2.gravatar.com/avatar/2999923af32d9432e1d72404ec3e9dcb?s=32&#038;d=identicon&#038;r=G' class='avatar avatar-32' height='32' width='32' />			<cite class="fn">David Tanzer</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/#comment-20484">5 October, 2012 at 4:07 am</a>		</div>

		<p>Hi Sean,<br />
Thanks for your reflective comments.  I&#8217;d be very interested to hear more about your relational-algebra interpretation of Petri net structures. </p>
<p>In terms of the article itself, I do not believe that I have missed the mark in terms of the aim that I set out, which was to address a three-fold audience of programming people who want to learn about science applications, science people who want to learn about programming, and any other curious folks.   I wrote it as, for lack of a better term, a &#8220;praxis paper,&#8221; in the sense of practical application of a field of study.   So first I introduced the concepts, and then moved to a pragmatic construction stage.   For the language, I choose one that is both capable of abstraction, and which has a substantial application base.   To give the idea of this genre in simpler terms, consider an article that introduces regular polyhedra, and the shows how to build them with common household materials.</p>
<p>I would further maintain that this &#8220;household materials&#8221; programming language can faithfully represent the mathematical concepts of many application domains, which are presented in terms of objects, functions and relations.    Take for example a definition of a Petri net.  A Petri net P consists of a pair (S,T) where S is a set of species names, and T is a set of transitions.   Each T is defined by a pair (I,O), where I: S -&gt; N is the input degree map, and O: S -&gt; N is the output degree map.   A labelling L: S -&gt; N is a map that counts the number of tokens for each species.   A transition T is enabled in a labelling L if for each s in S, L(s) &gt;= InputMap(T)(s).  </p>
<p>The definition itself introduces nouns, which means, in the first place, objects.  Functions are involved in the definition.  This one happens not to involve any relations.   So any language that allows us to work with objects, functions, and relations is a Useful Thing.   If you look at the definitions in the program I gave, sure there is some syntactic baggage, but if you look through that, you will see an isomorphic copy of the tuples and functions used in the above mathematical definition.   Consider, for example, the method IsEnabled of a Transition.   It is precisely a boolean valued function of a Transition (with a parameter that is conventionally called &#8220;this&#8221; or &#8220;self&#8221;) and a labelling, and the body of the function says exactly what I said above in natural language.  </p>
<p>The beauty of this kind of formal language is that it is mathematics that runs.  </p>
<p>Now it is true, as you pointed out, that I gave some discussion of Python per se, which is incidental to the topic of Petri net programming.   I was aware of this, and that is why I introduced those sections as part of a &#8220;digression.&#8221;   I put this in to get as many readers on board as possible.    Since the program text was to be presented in Python, if only because that is a native language of the author, then why not prep the uninitiated.   Finally, in the spirit of hands-on and &#8220;literate&#8221; coding, we _do_ want to present the code and dissect it.   This is not merely an &#8220;implementation.&#8221;   We&#8217;ve learned something about a theory, and now we want to learn the method of translating this theory into something that can do cool things.   We look _into_ the code, to see the isomorphic copy of theory.</p>
<p>* * *</p>
<p>Your view of Petri nets in terms of &#8220;possible paths through a relational algebra,&#8221; is intriguing, but I&#8217;d need to hear more about it to really understand what you mean.  Let&#8217;s suppose that your conceptualization &#8212; which undoubtedly is based on far more experience with Petri nets than I have &#8212; gives some kind of structural insight in the semantics of Petri nets, which can be put to good use in simulator.  I have no reason to doubt this.</p>
<p>Here is an analogy to explain the relation of your approach to mine.   Suppose we gave an introductory &#8220;praxis paper&#8221; on Abelian group theory.   A group is first defined, an then an &#8220;Abelian&#8221; group is introduced as one which has the constraint that the group operation is commutative.   After giving some examples, we could then introduce some theory-isomorphic code to test if the group operator is commutative, perform multiplications, using the simplifications that come along with commutativity, etc.   This could be some useful pedagogical code, that readers could tinker with.   Now, based on further analysis of the domain, along comes the Structure Theorem for finite Abelian groups, which gives a powerful, simplifying representation for such groups:  they are isomorphic to direct products of cyclic groups.   This leads to a more incisive representation for the groups, and new an better data structures to be used in a computational system.   But this latter advance doesn&#8217;t negate the pedagogical or experimental value of the original code, which is an executable expression of group theory, using the general terms of group theory. </p>
<p>Furthermore, once the new theory based on cyclic groups is put forward, it would be very natural then to translate these definitions into isomorphic forms in the household computing language, and use that for an expository presentation of the more advanced simulator.</p>
<p>So if you share with us the definitions behind your relational-algebraic approach to Petri net computation, we might ask for your permission to express it in a household abstract programming language and blog about it &#8212; with due credit to you of course!</p>
<p>Seriously though, in addition to giving us some more color on your idea, check out the discussions taking place on the <a href="http://azimuth.mathforge.org/discussion/1042/blog-connections-petri-nets-systems-biology-and-beyond/?Focus=7333#Comment_7333" rel="nofollow">Forum</a> of the Azimuth Project. There is a lot of ongoing, active interest in Petri nets, and their potential application to areas such as climate modelling.   (Theme question:  do we live in a bistable climate?)</p>
<p>It&#8217;s clear that you have an experienced eye for this problem domain, and if you are interested, you can make a real contribution to our ongoing research.   To become a posting member of the group only takes a few steps.   </p>
<p>Regards,<br />
Dave</p>
<p>P.S. &#8211; This invitation is generally extended to anyone who wants to discuss and work on the computational, mathematical and scientific challenges associated with environmental problems.   This is a focal point, but is not taken in a restrictive sense.   For example, we have recently been discussing Qinglan Xia&#8217;s gorgeous paper &#8220;The Formation of a Tree Leaf,&#8221; at <a href="http://www.ma.utexas.edu/users/qlxia/Research/leaf.pdf" rel="nofollow ugc">http://www.ma.utexas.edu/users/qlxia/Research/leaf.pdf</a>, which presents a simple physical model that accounts for the shape of tree leaves, in terms of an optimization process that seeks to minimize transport costs. from the root to the cells.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/?replytocom=20484#respond' data-commentid="20484" data-postid="12315" data-belowelement="div-comment-20484" data-respondelement="respond" data-replyto="Reply to David Tanzer" aria-label='Reply to David Tanzer'>Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment odd alt depth-3 highlander-comment" id="comment-20507">
				<div id="div-comment-20507" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='https://2.gravatar.com/avatar/b4d356451462687f33b4d14fa843faa9?s=32&#038;d=identicon&#038;r=G' class='avatar avatar-32' height='32' width='32' />			<cite class="fn">sean matthews</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/#comment-20507">5 October, 2012 at 7:52 pm</a>		</div>

		<p>Hmmm&#8230;  My point wasn&#8217;t really about petri nets, and more about the<br />
relevance of the specific programming language.  However, now that I<br />
am confronted with the problem, I suppose I should put my money where<br />
my mouth is. How would I implement petri-nets?</p>
<p>Call it Graham&#8217;s principle that the structure visible in a program<br />
should correspond to the problem, and not to the programming<br />
language. The ideal for this is usually Lisp (for which see Paul<br />
Graham passim), or, say, for large scale linear algebra, APL (alas<br />
only once upon a time) or (today) Matlab. For working with relations<br />
on tuples I think Prolog is likely to provide a clean map between<br />
concrete and abstract.</p>
<p>A petri-net is a bipartite graph G plus a set of counters on one of<br />
the types of nodes, T, so that the vector of these counters defines a<br />
state. G defines a relation R, of transitions from state to state;<br />
thus a particular run of a simulation of a petri-net has the form</p>
<p>   T1 -R-&gt; T2 -R-&gt; T3 -R-&gt; T4 -R-&gt; &#8230;</p>
<p>Prolog allows me to model tuple transitions very easily.  If I model<br />
numbers &#8216;peano-style&#8217;, as s(s(&#8230;(0))), and T has the form</p>
<p>t(n1, n2, n3, &#8230;.)</p>
<p>Then I can model a rule directly in Prolog as:</p>
<p>r(rulename,<br />
  t(n1.old, n2.old, n3.old, &#8230;.),<br />
  t(n1.new, n2.new, n3.new, &#8230;.)).</p>
<p>which is simply a declared relation between states (I&#8217;ve also included<br />
the name &#8211; which gives me a bit more control and documentation) and I<br />
am done.</p>
<p>So how does this work in practice?</p>
<p>Well I can write down the the &#8216;Chemical reaction&#8217; net as:</p>
<p>% t(O, H, H2O).</p>
<p>r(split,<br />
  t(  O ,     H  , s(H2O)),<br />
  t(s(O), s(s(H)),   H2O ).</p>
<p>r(combine,<br />
  t(s(O), s(s(H)),   H2O ),<br />
  t(  O ,     H  , s(H2O)).</p>
<p>Note that rules are directly declarative and I have completely<br />
separated them from any other interpretive framework &#8211; I can modify my<br />
non-deterministic model, or implement breadth first or bounded<br />
depth-first search on the space easily as extensions.  I can even run<br />
my model backwards, should I so want.</p>
<p>A basic simulator (with a bound on the number of transitions) then<br />
looks like:</p>
<p>simulate(T, T, [], 0).<br />
simulate(Tinit, Tfinal, [(Tinit, R) | L], N) :-<br />
             choose(R),<br />
	     r(R, Tinit, Tnext),<br />
	     PrecN is N &#8211; 1,<br />
	     simulate(Tnext, Tfinal, L, PrecN).<br />
simulate(T, T, [], N) :-<br />
	    not r(_, T, _),<br />
	    N &gt; 0.</p>
<p>choose is a bit more messy, since it should enumerate the possible<br />
rules in random order. A state specific version (we can do much better<br />
&#8211; more general &#8211; with a bit more space) would be</p>
<p>choose(R) :-<br />
	  (0 =:= rand(2) -&gt;<br />
	     (X = split  ; X = combine)<br />
	  |  (X = combine; X = split  ).</p>
<p>A call to the simulator, with a bound of 20 transitions, is then:</p>
<p>simulate(t(s(s(s(s(s(0))))), s(s(s(0))), s(s(s(s(0))))), Tfinal, L, 20).</p>
<p>Not sure there is enough code here to count as a program (&lt;= 19<br />
lines). I don&#039;t have a prolog interpreter to hand &#8211; my employers are<br />
very unenthusiastic about my installing my own software, so there may<br />
be typos above, but I hope the idea is clear.</p>
<p>Note the argument here is not in favor of Prolog (a similar-flavored<br />
&#8211; though not quite identical and not quite so concise &#8211; implementation<br />
would be easy in a language like Scheme), but in favor of choosing<br />
your tools so as to move you close to the problem rather than trying<br />
to move the problem closer to your tools, and thus, in this case, no<br />
objects/classes; if you were designing a user-interface, then an<br />
object/class model would be close to your problem.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/?replytocom=20507#respond' data-commentid="20507" data-postid="12315" data-belowelement="div-comment-20507" data-respondelement="respond" data-replyto="Reply to sean matthews" aria-label='Reply to sean matthews'>Reply</a></div>
				</div>
				</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-odd thread-alt depth-1 parent highlander-comment" id="comment-20458">
				<div id="div-comment-20458" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='https://0.gravatar.com/avatar/3807b278b4615e7eb19dcacc927f77e2?s=32&#038;d=identicon&#038;r=G' class='avatar avatar-32' height='32' width='32' />			<cite class="fn">Keith</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/#comment-20458">3 October, 2012 at 9:39 pm</a>		</div>

		<p>How does this compare to something like the Stochastic Pi Machine (<a href="http://research.microsoft.com/en-us/um/cambridge/groups/science/tools/spim/spim.htm" rel="nofollow ugc">http://research.microsoft.com/en-us/um/cambridge/groups/science/tools/spim/spim.htm</a>)?</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/?replytocom=20458#respond' data-commentid="20458" data-postid="12315" data-belowelement="div-comment-20458" data-respondelement="respond" data-replyto="Reply to Keith" aria-label='Reply to Keith'>Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment odd alt depth-2 parent highlander-comment" id="comment-20485">
				<div id="div-comment-20485" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='https://2.gravatar.com/avatar/2999923af32d9432e1d72404ec3e9dcb?s=32&#038;d=identicon&#038;r=G' class='avatar avatar-32' height='32' width='32' />			<cite class="fn">David Tanzer</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/#comment-20485">5 October, 2012 at 4:23 am</a>		</div>

		<p>Keith,<br />
Thank you for the link to this magnificent program!</p>
<p>For the comparison, right off the bat we have that:</p>
<p>My program is a proof-of-concept implementation of a simulator for Petri nets.   It is meant to teach the concepts, and to serve as a kind of &#8220;clay&#8221; that actually works.</p>
<p>That program is a full-fledged, incredibly well presented implementation of a simulation system for reactions that use the formalism of pi-calculus, not Petri nets.</p>
<p>I know next to nothing about the pi-calculus, but now that I see what it can do, I will learn more about it!!</p>
<p>Can anyone recommend a good tutorial introduction to the pi-calculus?   I find the Wikipedia presentation to be formalistic and unintuitive.  Thanks.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/?replytocom=20485#respond' data-commentid="20485" data-postid="12315" data-belowelement="div-comment-20485" data-respondelement="respond" data-replyto="Reply to David Tanzer" aria-label='Reply to David Tanzer'>Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment even depth-3 parent highlander-comment" id="comment-20494">
				<div id="div-comment-20494" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='https://0.gravatar.com/avatar/656e05d084448337fb49459225dc525e?s=32&#038;d=identicon&#038;r=G' class='avatar avatar-32' height='32' width='32' />			<cite class="fn">davidtweed</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/#comment-20494">5 October, 2012 at 2:38 pm</a>		</div>

		<p>There&#8217;s surely better actual tutorials, but <a href="http://golem.ph.utexas.edu/category/2009/09/the_pi_calculus_ii.html" rel="nofollow">here&#8217;s</a> a lightning introduction by Mike Stay.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/?replytocom=20494#respond' data-commentid="20494" data-postid="12315" data-belowelement="div-comment-20494" data-respondelement="respond" data-replyto="Reply to davidtweed" aria-label='Reply to davidtweed'>Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment odd alt depth-4 highlander-comment" id="comment-20538">
				<div id="div-comment-20538" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='https://2.gravatar.com/avatar/2999923af32d9432e1d72404ec3e9dcb?s=32&#038;d=identicon&#038;r=G' class='avatar avatar-32' height='32' width='32' />			<cite class="fn">David Tanzer</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/#comment-20538">7 October, 2012 at 4:46 am</a>		</div>

		<p>Wow.  I sort of get the idea, but not well.</p>
<p>If the stochastic pi-machine is pi-calculus in action, then that is proof that the calculus is cool and useful.</p>
<p>So I&#8217;m trying to make sense of the code that have for the sample reactions.   Here a document that explains the some of the examples in the Sliverlight reaction simulator:</p>
<p><object data="http://research.microsoft.com/en-us/projects/spim/gillespie.pdf" type="application/pdf" width="100%" height="800" style="height: 800px;"><p><a href="http://research.microsoft.com/en-us/projects/spim/gillespie.pdf">Click to access gillespie.pdf</a></p></object></p>
<p>It includes radioactive decay, and Lotka reactions.   Here is the Lotka reaction logic:</p>
<p>directive sample 5.0 1000<br />
directive plot Y()<br />
new c1@5.0:chan<br />
new <a href="mailto:c2@0.0025">c2@0.0025</a>:chan</p>
<p>let X() = ?c1; X()<br />
let Y() =<br />
  do !c1; (Y() | Y())<br />
  or !c2<br />
  or ?c2<br />
run (X() | 10 of Y())</p>
<p>The following questions are directed generally to anyone here.   How much of this is pure pi-calculus, and how much is in the stochastic extension?   The channels have rate constants associated with them, but is that the extent of the extension?</p>
<p>Can anyone give a detailed analysis and explanation of this code, to explain how it is acheiving the marvelous simulation result?   Remember, I don&#8217;t really know what pi-calculus is, so you&#8217;ll have to start from a point of few assumptions.  </p>
<p>Here is the the language definition document for stochastic pi-calculus:</p>
<p><object data="http://research.microsoft.com/en-us/projects/spim/language.pdf" type="application/pdf" width="100%" height="800" style="height: 800px;"><p><a href="http://research.microsoft.com/en-us/projects/spim/language.pdf">Click to access language.pdf</a></p></object></p>
<p>Thanks</p>

		
				</div>
				</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even depth-3 highlander-comment" id="comment-20503">
				<div id="div-comment-20503" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='https://0.gravatar.com/avatar/34784534843022b3541c8ddd693718cb?s=32&#038;d=identicon&#038;r=G' class='avatar avatar-32' height='32' width='32' />			<cite class="fn"><a href='http://math.ucr.edu/home/baez/' rel='external nofollow ugc' class='url'>John Baez</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/#comment-20503">5 October, 2012 at 6:41 pm</a>		</div>

		<p>The pi calculus is meant as a distilled framework for describing &#8216;concurrency&#8217;&#8212;roughly, computer networks where nodes can create channels to other nodes and send messages along these nodes&#8212;much as the lambda calculus is a distilled framework for describing computations done sequentially by a single processor.</p>
<p>Personally I find these distilled frameworks, that seek to get everything done with as few primitives as possible, less clear than a category-theoretic description of <i>large classes</i> of frameworks.  When you try to distill everything down to a few primitives you wind up making a lot of arbitrary choices, and the resulting framework tends to look cryptic.</p>
<p>Of course, category theory also looks cryptic to those who haven&#8217;t studied it&#8230; but it has the advantage of being so generally useful that once you learn it and formulate some idea in this way, a bunch of connections to other ideas are instantly visible&#8212;ideas in math, logic, physics, and computation, for starters.</p>
<p>Right now I have just one grad student: Mike Stay, who works at Google.  He&#8217;s working with me on categories and computation.  In that post David Tweed mentions, he was endeavoring to explain the pi calculus to me, in response to my <a href="http://golem.ph.utexas.edu/category/2009/08/the_pi_calculus.html" rel="nofollow">plea for help</a>.  As a result, he got interested in describing </p>
<p>By now he&#8217;s gone a lot further.  See:</p>
<p>&bull; Mike Stay, <a href="http://golem.ph.utexas.edu/category/2011/04/higher_categories_for_concurre.html" rel="nofollow">Higher categories for concurrency</a>, <i>n</i>-Category Caf&eacute;.</p>
<p>for the state of his thinking a year and a half ago.  Since then he&#8217;s been working on this subject with Jamie Vicary and making even more progress.</p>
<p>By now it&#8217;s clear to me that bigraphs, the pi calculus and other frameworks for concurrency would really profit from a category-theoretic description, and that when this is done it&#8217;ll look a bit like a <i>categorification</i> of Petri net theory, with symmetric monoidal bicategories replacing symmetric monoidal categories.</p>
<p>In other words: instead of describing a bunch of &#8216;particles&#8217; interacting in time, these fancier frameworks describe a bunch of <i>labelled graphs</i> interacting and changing topology in time.  The vertices of the graph are what I called &#8216;nodes&#8217;, and the edges are what I called &#8216;channels&#8217;.  The nodes can do things (e.g. compute) and send messages to each other along the edges.</p>
<p>This sort of framework might be useful in biology and ecology, too.  It would certainly be relevant to the &#8216;smart grid&#8217;.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/?replytocom=20503#respond' data-commentid="20503" data-postid="12315" data-belowelement="div-comment-20503" data-respondelement="respond" data-replyto="Reply to John Baez" aria-label='Reply to John Baez'>Reply</a></div>
				</div>
				</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment odd alt thread-even depth-1 highlander-comment" id="comment-20548">
				<div id="div-comment-20548" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='https://0.gravatar.com/avatar/06b43ef7c724d20cc4dbb39a55a6620d?s=32&#038;d=identicon&#038;r=G' class='avatar avatar-32' height='32' width='32' />			<cite class="fn"><a href='http://gravatar.com/k4ntico' rel='external nofollow ugc' class='url'>Boris Borcic</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/#comment-20548">7 October, 2012 at 3:13 pm</a>		</div>

		<p>While I don&#8217;t feel this way of running Petri nets is very useful, I used the opportunity of the proposed exercise to extend the engine for the case of transitions with relative rates. This, to better show the flexibility of Python as a base to create DSL &#8211; domain specific languages. In this case a DSL for petri nets, which for the three examples of the post, allows to encode them entirely as</p>
<pre class="brush: python; title: ; wrap-lines: false; notranslate" title="">
@petrinet
def AIDS() :
    α = 0.1 | _ &gt;&gt; healthy
    β = healthy+virion &gt;&gt; infected
    γ = 0.2 | healthy &gt;&gt; _
    δ = 0.3 | infected &gt;&gt; _
    ε = infected &gt;&gt; infected+virion
    ζ = 0.2 | virion &gt;&gt; _

@petrinet
def rabbits_and_wolves() :
    birth = rabbit &gt;&gt; 2*rabbit
    predation = rabbit+wolf &gt;&gt; 2*wolf
    death = 0.3 | wolf &gt;&gt; _

@petrinet
def chemical_reaction() :
    split = H2O &gt;&gt; 2*H+O
    combine = 2*H+O &gt;&gt; H2O
</pre>
<p>The optional number and vertical bar at the beginning of a rule expresses a weight or unnormalized rate different from unity.</p>
<p>The code is written for Python 3.3 but except for the use of greek letters in the &#8220;AIDS&#8221; petri net, should also run on Python 2.7. The implementation of the syntax in 65 LOCs is minimalistic, as no step is taken ensure graceful errors when the DSL code strays from the syntax illustrated. </p>
<p>The way to invoke the code is</p>
<pre class="brush: python; collapse: false; title: ; wrap-lines: false; notranslate" title="">
&gt;&gt;&gt; for step,transition,labelling in AIDS(healthy=5,virion=5):
	print(transition,&quot;==&gt;&quot;,labelling)
	if step&gt;10 : break

β ==&gt; 4*healthy+1*infected+4*virion
ε ==&gt; 4*healthy+1*infected+5*virion
β ==&gt; 3*healthy+2*infected+4*virion
β ==&gt; 2*healthy+3*infected+3*virion
ε ==&gt; 2*healthy+3*infected+4*virion
β ==&gt; 1*healthy+4*infected+3*virion
ε ==&gt; 1*healthy+4*infected+4*virion
β ==&gt; 5*infected+3*virion
ε ==&gt; 5*infected+4*virion
ε ==&gt; 5*infected+5*virion
ε ==&gt; 5*infected+6*virion
</pre>
<p>And here is the code. I just hope the sourcecode quoting works as advertised :)</p>
<pre class="brush: python; collapse: false; title: ; wrap-lines: false; notranslate" title="">
# -*- coding: utf-8 -*-
from __future__ import print_function
from collections import Counter

class Bag(Counter) :
    weight=1
    transitions=[]
    output={}
    
    def __rmul__(self, other) :
        return Bag({s:n*other for s,n in self.items()})
    
    def __add__(self,other) :
        return Bag(Counter.__add__(self,other))
    
    def __rshift__(self,other) :
        self.output=other
        self.transitions.append(self)
        return self

    def __ror__(self,other) :
        self.weight=other
        return self

    def __call__(self,other) :
        return Bag(other-self+self.output)

    def __repr__(self) :
        return '+'.join(&quot;%s*%s&quot; % (n,s)
                        for s,n in sorted(self.items())
                        if n) or '{}'

def petrinet(fun) :

    code = getattr(fun,'__code__',0) or fun.func_code
    
    species={ n : Bag([n]) for n in code.co_names }
    species['_'] = Bag()

    Bag.transitions[:]=[]
    eval(code,species,{})
    transitions=Bag.transitions[:]
    
    for n,t in zip(code.co_varnames,transitions):
        t.name=n
    del species['__builtins__']
    del species['_']
        
    def petrirun(**labelling) :
        from random import random
        from itertools import count
        labelling=Bag(labelling)
        for step in count(1) :
            possible=[t for t in transitions if t == t &amp; labelling]
            if not possible : break
            pick=random()*sum(t.weight for t in possible)
            for k,transition in enumerate(possible) :
                pick-=transition.weight
                if pick&lt;=0 :
                    labelling=transition(labelling)
                    yield step,transition.name,labelling
                    break
                
    petrirun.species=species
    petrirun.transitions=transitions
    return petrirun
</pre>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/?replytocom=20548#respond' data-commentid="20548" data-postid="12315" data-belowelement="div-comment-20548" data-respondelement="respond" data-replyto="Reply to Boris Borcic" aria-label='Reply to Boris Borcic'>Reply</a></div>
				</div>
				</li><!-- #comment-## -->
		<li class="comment even thread-odd thread-alt depth-1 parent highlander-comment" id="comment-20700">
				<div id="div-comment-20700" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='https://2.gravatar.com/avatar/2999923af32d9432e1d72404ec3e9dcb?s=32&#038;d=identicon&#038;r=G' class='avatar avatar-32' height='32' width='32' />			<cite class="fn">David Tanzer</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/#comment-20700">12 October, 2012 at 7:31 pm</a>		</div>

		<p>Cool.  Can you say a bit about how these DSL language constructs are working together to make this program run?</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/?replytocom=20700#respond' data-commentid="20700" data-postid="12315" data-belowelement="div-comment-20700" data-respondelement="respond" data-replyto="Reply to David Tanzer" aria-label='Reply to David Tanzer'>Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment odd alt depth-2 highlander-comment" id="comment-20703">
				<div id="div-comment-20703" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='https://2.gravatar.com/avatar/2999923af32d9432e1d72404ec3e9dcb?s=32&#038;d=identicon&#038;r=G' class='avatar avatar-32' height='32' width='32' />			<cite class="fn">David Tanzer</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/#comment-20703">12 October, 2012 at 8:00 pm</a>		</div>

		<p>I.e., How does it work?  I am not familiar with these 2.7 language constructs.  </p>
<p>Looking it over some more, I&#8217;m getting some hazy pciture of it..   The syntax &#8220;@petrinet ___&#8221; is a way to pass the defined set of transitions to the function &#8220;petrinet.&#8221;    </p>
<p>What is the type of the defined objects like &#8220;chemical_reaction.&#8221;   Are they something like rulesets?  And what is the general role of the symbols |, _ and &gt;&gt;.   Yet you call the object AIDS like a function.</p>
<p>Above and beyond these language specifics, can you post here a small amount of dissection of the code?   Saying essentially, here is what I wanted to achieve, and these are the mechanisms I used, which work together correctly because of XYZ.   Thanks.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/?replytocom=20703#respond' data-commentid="20703" data-postid="12315" data-belowelement="div-comment-20703" data-respondelement="respond" data-replyto="Reply to David Tanzer" aria-label='Reply to David Tanzer'>Reply</a></div>
				</div>
				</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-20717">
				<div id="div-comment-20717" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='https://0.gravatar.com/avatar/06b43ef7c724d20cc4dbb39a55a6620d?s=32&#038;d=identicon&#038;r=G' class='avatar avatar-32' height='32' width='32' />			<cite class="fn"><a href='http://gravatar.com/k4ntico' rel='external nofollow ugc' class='url'>Boris Borcic</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/#comment-20717">13 October, 2012 at 11:21 am</a>		</div>

		<p>The only thing that&#8217;s 2.7 is the Counter library class (itself a subclass of dict) which saves me some definitions, such as that of the &amp; operator by a special method of the user-defined subclass Bag. That subclass itself (through special __methods__ that are the Python way of overloading operators) serves to implement the syntax for transitions. This is comparable in power and limitations to making up user syntax by defining operators in Prolog. &#8220;Practicality beats purity&#8221; is a motto of Python, and this is reflected in using that single general-purpose subclass Bag to represent at once species, transition inputs, transitions outputs, and transitions (given this, the name of the subclass is debatable &#8211; as it doesn&#8217;t properly fit the last specialization).</p>
<p>The implementation is a hack, and can be largely characterized as using reflection to re-target Python&#8217;s own compilation engine. The syntax @petrinet is what&#8217;s called a decorator (iirc it was borrowed from Java around python 2.4), and the way it works is that the result of compiling the function definition that follows, gets passed to the function petrinet, and the return value bound instead to the name of the defined function in the outer scope.</p>
<p>The function petrinet() takes apart the compiled function object which allows it to create bindings for all unbound variables meant to name species, to values that are singleton Bags with 1 exemplary of the name or species token counted in. The code of the function is then evaluated while the Bag class of these bound values provides appropriate definitions for the algebraic syntax of transitions. The most flaky is the cheap way transition names get associated with transitions; this is done by simply mapping evaluations of the &gt;&gt; operator in the sandboxed function evaluation, in order, to the names of local variables listed by the compiled function object. This boils down to the unenforced requirement that the decorated petri net function is formed of simple assignment statements to distinct variables, of the form</p>
<p>transition_name = (expression involving a single call to &gt;&gt;)</p>
<p>that is, with the RHS an expression involving exactly one evaluation of the &gt;&gt; operator. Also, the function must be declared with an empty parameter list or things will break.</p>
<p>The function petrirun is there to demonstrate that the intended semantics is captured (in a more realistic setting the procedural interpretation of the petri net would be better decoupled). petrirun() gets instantiated by petrinet() for each petri net as the executable object. It is actually a generator because it returns values with a yield statement, what allows to pull out of it, subsequent values on demand, for instance as the generator in a for-loop as demonstrated above. The list of transitions and the list of species are attached to it as user function attributes for allowing later user access. The petrirun instance should also be renamed to the decorated function name (to appear under that name when coming out in the REPL or tracebacks)  but that was left out. petrirun() is also designed to exploit named parameters function call syntax to serve the stipulation of the initial labelling of the run.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/?replytocom=20717#respond' data-commentid="20717" data-postid="12315" data-belowelement="div-comment-20717" data-respondelement="respond" data-replyto="Reply to Boris Borcic" aria-label='Reply to Boris Borcic'>Reply</a></div>
				</div>
				</li><!-- #comment-## -->
		<li class="pingback odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-23183">
				<div id="div-comment-23183" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://johncarlosbaez.wordpress.com/2012/12/20/petri-net-programming-part-2/' rel='external nofollow ugc' class='url'>Petri Net Programming (Part 2) « Azimuth</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/#comment-23183">20 December, 2012 at 6:22 pm</a>		</div>

		<p>In the previous article, I explored a simple computational model called Petri nets [&#8230;]</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/?replytocom=23183#respond' data-commentid="23183" data-postid="12315" data-belowelement="div-comment-23183" data-respondelement="respond" data-replyto="Reply to Petri Net Programming (Part 2) « Azimuth" aria-label='Reply to Petri Net Programming (Part 2) « Azimuth'>Reply</a></div>
				</div>
				</li><!-- #comment-## -->
</ol>



	<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Leave a Reply to <a href="#comment-20414">davidtweed</a> <small><a rel="nofollow" id="cancel-comment-reply-link" href="/2012/10/01/petri-net-programming/#respond">Cancel reply</a></small></h3><form action="https://johncarlosbaez.wordpress.com/wp-comments-post.php" method="post" id="commentform" class="comment-form"><input type="hidden" id="highlander_comment_nonce" name="highlander_comment_nonce" value="6dd877e3cf" /><input type="hidden" name="_wp_http_referer" value="/2012/10/01/petri-net-programming/?replytocom=20414" />
<input type="hidden" name="hc_post_as" id="hc_post_as" value="guest" />

<div class="comment-form-field comment-textarea">
	<label for="comment">Enter your comment here...</label>
	<div id="comment-form-comment"><textarea id="comment" name="comment" title="Enter your comment here..."></textarea></div>
</div>

<div id="comment-form-identity">
	<div id="comment-form-nascar">
		<p>Fill in your details below or click an icon to log in:</p>
		<ul>
			<li class="selected" style="display:none;">
				<a href="#comment-form-guest" id="postas-guest" class="nascar-signin-link"
                   title="Login via Guest">
									</a>
			</li>
			<li>
				<a href="#comment-form-load-service:WordPress.com" id="postas-wordpress" class="nascar-signin-link"
                   title="Login via WordPress.com">
					<svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24" ><rect x="0" fill="none" width="24" height="24"/><g><path fill="#0087be" d="M12.158 12.786l-2.698 7.84c.806.236 1.657.365 2.54.365 1.047 0 2.05-.18 2.986-.51-.024-.037-.046-.078-.065-.123l-2.762-7.57zM3.008 12c0 3.56 2.07 6.634 5.068 8.092L3.788 8.342c-.5 1.117-.78 2.354-.78 3.658zm15.06-.454c0-1.112-.398-1.88-.74-2.48-.456-.74-.883-1.368-.883-2.11 0-.825.627-1.595 1.51-1.595.04 0 .078.006.116.008-1.598-1.464-3.73-2.36-6.07-2.36-3.14 0-5.904 1.613-7.512 4.053.21.008.41.012.58.012.94 0 2.395-.114 2.395-.114.484-.028.54.684.057.74 0 0-.487.058-1.03.086l3.275 9.74 1.968-5.902-1.4-3.838c-.485-.028-.944-.085-.944-.085-.486-.03-.43-.77.056-.742 0 0 1.484.114 2.368.114.94 0 2.397-.114 2.397-.114.486-.028.543.684.058.74 0 0-.488.058-1.03.086l3.25 9.665.897-2.997c.456-1.17.684-2.137.684-2.907zm1.82-3.86c.04.286.06.593.06.924 0 .912-.17 1.938-.683 3.22l-2.746 7.94c2.672-1.558 4.47-4.454 4.47-7.77 0-1.564-.4-3.033-1.1-4.314zM12 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10z"/></g></svg>				</a>
			</li>
			<li>
			<iframe id="googleplus-sign-in" name="googleplus-sign-in" src="https://public-api.wordpress.com/connect/?googleplus-sign-in=https%3A%2F%2Fjohncarlosbaez.wordpress.com&#038;color_scheme=light" width="24" height="24" scrolling="no" allowtransparency="true" seamless="seamless" frameborder="0"></iframe>
			</li>
			<li>
				<a href="#comment-form-load-service:Twitter" id="postas-twitter" class="nascar-signin-link"
                   title="Login via Twitter">
					<svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24" ><rect x="0" fill="none" width="24" height="24"/><g><path fill="#1DA1F2" d="M22.23 5.924c-.736.326-1.527.547-2.357.646.847-.508 1.498-1.312 1.804-2.27-.793.47-1.67.812-2.606.996C18.325 4.498 17.258 4 16.078 4c-2.266 0-4.103 1.837-4.103 4.103 0 .322.036.635.106.935-3.41-.17-6.433-1.804-8.457-4.287-.353.607-.556 1.312-.556 2.064 0 1.424.724 2.68 1.825 3.415-.673-.022-1.305-.207-1.86-.514v.052c0 1.988 1.415 3.647 3.293 4.023-.344.095-.707.145-1.08.145-.265 0-.522-.026-.773-.074.522 1.63 2.038 2.817 3.833 2.85-1.404 1.1-3.174 1.757-5.096 1.757-.332 0-.66-.02-.98-.057 1.816 1.164 3.973 1.843 6.29 1.843 7.547 0 11.675-6.252 11.675-11.675 0-.178-.004-.355-.012-.53.802-.578 1.497-1.3 2.047-2.124z"/></g></svg>				</a>
			</li>
			<li>
				<a href="#comment-form-load-service:Facebook" id="postas-facebook" class="nascar-signin-link"
                   title="Login via Facebook">
					<svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24" ><rect x="0" fill="none" width="24" height="24"/><g><path fill="#3B5998" d="M20.007 3H3.993C3.445 3 3 3.445 3 3.993v16.013c0 .55.445.994.993.994h8.62v-6.97H10.27V11.31h2.346V9.31c0-2.325 1.42-3.59 3.494-3.59.993 0 1.847.073 2.096.106v2.43h-1.438c-1.128 0-1.346.537-1.346 1.324v1.734h2.69l-.35 2.717h-2.34V21h4.587c.548 0 .993-.445.993-.993V3.993c0-.548-.445-.993-.993-.993z"/></g></svg>				</a>
			</li>
		</ul>
	</div>

	<div id="comment-form-guest" class="comment-form-service selected">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
<a href="https://gravatar.com/site/signup/" target="_blank">				<img src="https://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="Gravatar" width="25" class="no-grav" />
</a>			</div>

				<div class="comment-form-fields">
				<div class="comment-form-field comment-form-email">
					<label for="email">Email <span class="required">(required)</span> <span class="nopublish">(Address never made public)</span></label>
					<div class="comment-form-input"><input id="email" name="email" type="email" value="" /></div>
				</div>
				<div class="comment-form-field comment-form-author">
					<label for="author">Name <span class="required">(required)</span></label>
					<div class="comment-form-input"><input id="author" name="author" type="text" value="" /></div>
				</div>
				<div class="comment-form-field comment-form-url">
					<label for="url">Website</label>
					<div class="comment-form-input"><input id="url" name="url" type="url" value="" /></div>
				</div>
			</div>
			
		</div>
	</div>

	<div id="comment-form-wordpress" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="https://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="WordPress.com Logo" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="wp_avatar" id="wordpress-avatar" class="comment-meta-wordpress" value="" />
				<input type="hidden" name="wp_user_id" id="wordpress-user_id" class="comment-meta-wordpress" value="" />
				<input type="hidden" name="wp_access_token" id="wordpress-access_token" class="comment-meta-wordpress" value="" />
						<p class="comment-form-posting-as pa-wordpress">
			<strong></strong>
			You are commenting using your WordPress.com account.			<span class="comment-form-log-out">
				(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'wordpress' );">Log&nbsp;Out</a>&nbsp;/&nbsp;
				<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)
			</span>
			<span class="pa-icon"><svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24" ><rect x="0" fill="none" width="24" height="24"/><g><path fill="#0087be" d="M12.158 12.786l-2.698 7.84c.806.236 1.657.365 2.54.365 1.047 0 2.05-.18 2.986-.51-.024-.037-.046-.078-.065-.123l-2.762-7.57zM3.008 12c0 3.56 2.07 6.634 5.068 8.092L3.788 8.342c-.5 1.117-.78 2.354-.78 3.658zm15.06-.454c0-1.112-.398-1.88-.74-2.48-.456-.74-.883-1.368-.883-2.11 0-.825.627-1.595 1.51-1.595.04 0 .078.006.116.008-1.598-1.464-3.73-2.36-6.07-2.36-3.14 0-5.904 1.613-7.512 4.053.21.008.41.012.58.012.94 0 2.395-.114 2.395-.114.484-.028.54.684.057.74 0 0-.487.058-1.03.086l3.275 9.74 1.968-5.902-1.4-3.838c-.485-.028-.944-.085-.944-.085-.486-.03-.43-.77.056-.742 0 0 1.484.114 2.368.114.94 0 2.397-.114 2.397-.114.486-.028.543.684.058.74 0 0-.488.058-1.03.086l3.25 9.665.897-2.997c.456-1.17.684-2.137.684-2.907zm1.82-3.86c.04.286.06.593.06.924 0 .912-.17 1.938-.683 3.22l-2.746 7.94c2.672-1.558 4.47-4.454 4.47-7.77 0-1.564-.4-3.033-1.1-4.314zM12 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10z"/></g></svg></span>
		</p>
					</div>
	
		</div>
	</div>

	<div id="comment-form-googleplus" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="https://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="Google photo" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="googleplus_avatar" id="googleplus-avatar" class="comment-meta-googleplus" value="" />
				<input type="hidden" name="googleplus_user_id" id="googleplus-user_id" class="comment-meta-googleplus" value="" />
				<input type="hidden" name="googleplus_access_token" id="googleplus-access_token" class="comment-meta-googleplus" value="" />
						<p class="comment-form-posting-as pa-googleplus">
			<strong></strong>
			You are commenting using your Google account.			<span class="comment-form-log-out">
				(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'googleplus' );">Log&nbsp;Out</a>&nbsp;/&nbsp;
				<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)
			</span>
			<span class="pa-icon"><svg xmlns="http://www.w3.org/2000/svg" role="presentation" x="0px" y="0px" viewBox="0 0 60 60" ><path fill="#519bf7" d="M56.3,30c0,-1.6 -0.2,-3.4 -0.6,-5h-3.1H42.2H30v10.6h14.8C44,39.3 42,42 39.1,43.9l8.8,6.8C53,46 56.3,39 56.3,30z" /><path fill="#3db366" d="M30,57.5c6.7,0 13.1,-2.4 17.9,-6.8l-8.8,-6.8c-2.5,1.6 -5.6,2.4 -9.1,2.4c-7.2,0 -13.3,-4.7 -15.4,-11.2l-9.3,7.1C9.8,51.3 19.1,57.5 30,57.5z" /><path fill="#fdc600" d="M5.3,42.2l9.3,-7.1c-0.5,-1.6 -0.8,-3.3 -0.8,-5.1s0.3,-3.5 0.8,-5.1l-9.3,-7.1C3.5,21.5 2.5,25.6 2.5,30S3.5,38.5 5.3,42.2z" /><path fill="#f15b44" d="M40.1,17.4l8,-8C43.3,5.1 37,2.5 30,2.5C19.1,2.5 9.8,8.7 5.3,17.8l9.3,7.1c2.1,-6.5 8.2,-11.1 15.4,-11.1C33.9,13.7 37.4,15.1 40.1,17.4z" /></svg></span>
		</p>
					</div>
	
		</div>
	</div>

	<div id="comment-form-twitter" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="https://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="Twitter picture" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="twitter_avatar" id="twitter-avatar" class="comment-meta-twitter" value="" />
				<input type="hidden" name="twitter_user_id" id="twitter-user_id" class="comment-meta-twitter" value="" />
				<input type="hidden" name="twitter_access_token" id="twitter-access_token" class="comment-meta-twitter" value="" />
						<p class="comment-form-posting-as pa-twitter">
			<strong></strong>
			You are commenting using your Twitter account.			<span class="comment-form-log-out">
				(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'twitter' );">Log&nbsp;Out</a>&nbsp;/&nbsp;
				<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)
			</span>
			<span class="pa-icon"><svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24" ><rect x="0" fill="none" width="24" height="24"/><g><path fill="#1DA1F2" d="M22.23 5.924c-.736.326-1.527.547-2.357.646.847-.508 1.498-1.312 1.804-2.27-.793.47-1.67.812-2.606.996C18.325 4.498 17.258 4 16.078 4c-2.266 0-4.103 1.837-4.103 4.103 0 .322.036.635.106.935-3.41-.17-6.433-1.804-8.457-4.287-.353.607-.556 1.312-.556 2.064 0 1.424.724 2.68 1.825 3.415-.673-.022-1.305-.207-1.86-.514v.052c0 1.988 1.415 3.647 3.293 4.023-.344.095-.707.145-1.08.145-.265 0-.522-.026-.773-.074.522 1.63 2.038 2.817 3.833 2.85-1.404 1.1-3.174 1.757-5.096 1.757-.332 0-.66-.02-.98-.057 1.816 1.164 3.973 1.843 6.29 1.843 7.547 0 11.675-6.252 11.675-11.675 0-.178-.004-.355-.012-.53.802-.578 1.497-1.3 2.047-2.124z"/></g></svg></span>
		</p>
					</div>
	
		</div>
	</div>

	<div id="comment-form-facebook" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="" alt="Facebook photo" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="fb_avatar" id="facebook-avatar" class="comment-meta-facebook" value="" />
				<input type="hidden" name="fb_user_id" id="facebook-user_id" class="comment-meta-facebook" value="" />
				<input type="hidden" name="fb_access_token" id="facebook-access_token" class="comment-meta-facebook" value="" />
						<p class="comment-form-posting-as pa-facebook">
			<strong></strong>
			You are commenting using your Facebook account.			<span class="comment-form-log-out">
				(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'facebook' );">Log&nbsp;Out</a>&nbsp;/&nbsp;
				<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)
			</span>
			<span class="pa-icon"><svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24" ><rect x="0" fill="none" width="24" height="24"/><g><path fill="#3B5998" d="M20.007 3H3.993C3.445 3 3 3.445 3 3.993v16.013c0 .55.445.994.993.994h8.62v-6.97H10.27V11.31h2.346V9.31c0-2.325 1.42-3.59 3.494-3.59.993 0 1.847.073 2.096.106v2.43h-1.438c-1.128 0-1.346.537-1.346 1.324v1.734h2.69l-.35 2.717h-2.34V21h4.587c.548 0 .993-.445.993-.993V3.993c0-.548-.445-.993-.993-.993z"/></g></svg></span>
		</p>
					</div>
	
		</div>
	</div>


	<div id="comment-form-load-service" class="comment-form-service">
		<div class="comment-form-posting-as-cancel"><a href="javascript:HighlanderComments.cancelExternalWindow();">Cancel</a></div>
		<p>Connecting to %s</p>
	</div>

</div>

<script type="text/javascript">
var highlander_expando_javascript = function () {

	function hide( sel ) {
		var el = document.querySelector( sel );
		if ( el ) {
			el.style.setProperty( 'display', 'none' );
		}
	}

	function show( sel ) {
		var el = document.querySelector( sel );
		if ( el ) {
			el.style.removeProperty( 'display' );
		}
	}

	var input = document.createElement( 'input' );
	var comment = document.querySelector( '#comment' );

	if ( input && comment && 'placeholder' in input ) {
		var label = document.querySelector( '.comment-textarea label' );
		if ( label ) {
			var text = label.textContent;
			label.parentNode.removeChild( label );
			comment.setAttribute( 'placeholder', text );
		}
	}

	// Expando Mode: start small, then auto-resize on first click + text length
	hide( '#comment-form-identity' );
	hide( '#comment-form-subscribe' );
	hide( '#commentform .form-submit' );

	if ( comment ) {
		comment.style.height = '10px';

		var handler = function () {
			comment.style.height = HighlanderComments.initialHeight + 'px';
			show( '#comment-form-identity' );
			show( '#comment-form-subscribe' );
			show( '#commentform .form-submit' );
			HighlanderComments.resizeCallback();

			comment.removeEventListener( 'focus', handler );
		};

		comment.addEventListener( 'focus', handler );
	}
}

if ( document.readyState !== 'loading' ) {
	highlander_expando_javascript();
} else {
	if ( typeof window.jQuery === 'function' ) {
		// Use jQuery's `ready` if available.
		// This solves some scheduling issues between this script and the main highlander script.
		jQuery( document ).ready( highlander_expando_javascript );
	} else {
		// If not available, add a vanilla event listener.
		document.addEventListener( 'DOMContentLoaded', highlander_expando_javascript );
	}
}

</script>

<div id="comment-form-subscribe">
	<p class="comment-subscription-form"><input type="checkbox" name="subscribe" id="subscribe" value="subscribe" style="width: auto;"/> <label class="subscribe-label" id="subscribe-label" for="subscribe" style="display: inline;">Notify me of new comments via email.</label></p><p class="post-subscription-form"><input type="checkbox" name="subscribe_blog" id="subscribe_blog" value="subscribe" style="width: auto;"/> <label class="subscribe-label" id="subscribe-blog-label" for="subscribe_blog"  style="display: inline;">Notify me of new posts via email.</label></p></div>




<p class="form-submit wp-block-button"><input name="submit" type="submit" id="comment-submit" class="submit wp-block-button__link" value="Post Comment" /> <input type='hidden' name='comment_post_ID' value='12315' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='20414' />
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="a8d91ec47c" /></p>
<input type="hidden" name="genseq" value="1632613535" />
<input type="hidden" id="ak_js" name="ak_js" value="185"/><textarea name="ak_hp_textarea" cols="45" rows="8" maxlength="100" style="display: none !important;"></textarea><script>document.getElementById( "ak_js" ).setAttribute( "value", ( new Date() ).getTime() );</script></form>	</div><!-- #respond -->
	<div style="clear: both"></div><p class="akismet_comment_form_privacy_notice">This site uses Akismet to reduce spam. <a href="https://akismet.com/privacy/" target="_blank" rel="nofollow noopener">Learn how your comment data is processed</a>.</p>
</div><!-- #comments -->
	
	</div>



	<div id="sidebar">
				<ul>

		
		<li id="recent-posts-3" class="widget widget_recent_entries">
		<h2 class="widgettitle">latest posts:</h2>

		<ul>
											<li>
					<a href="https://johncarlosbaez.wordpress.com/2021/09/23/classical-mechanics-versus-thermodynamics-part-3/">Classical Mechanics versus Thermodynamics (Part&nbsp;3)</a>
									</li>
											<li>
					<a href="https://johncarlosbaez.wordpress.com/2021/09/22/maxwells-relations-part-3/">Maxwell&#8217;s Relations (Part&nbsp;3)</a>
									</li>
											<li>
					<a href="https://johncarlosbaez.wordpress.com/2021/09/18/maxwells-relations-part-two/">Maxwell&#8217;s Relations (Part&nbsp;2)</a>
									</li>
											<li>
					<a href="https://johncarlosbaez.wordpress.com/2021/09/17/maxwells-relations-part-1/">Maxwell&#8217;s Relations (Part&nbsp;1)</a>
									</li>
											<li>
					<a href="https://johncarlosbaez.wordpress.com/2021/09/13/the-cyclic-identity-for-partial-derivatives/">The Cyclic Identity for Partial&nbsp;Derivatives</a>
									</li>
											<li>
					<a href="https://johncarlosbaez.wordpress.com/2021/08/17/information-geometry-part-21/">Information Geometry (Part&nbsp;21)</a>
									</li>
											<li>
					<a href="https://johncarlosbaez.wordpress.com/2021/08/14/information-geometry-part-20/">Information Geometry (Part&nbsp;20)</a>
									</li>
											<li>
					<a href="https://johncarlosbaez.wordpress.com/2021/08/08/information-geometry-part-19/">Information Geometry (Part&nbsp;19)</a>
									</li>
											<li>
					<a href="https://johncarlosbaez.wordpress.com/2021/08/05/information-geometry-part-18/">Information Geometry (Part&nbsp;18)</a>
									</li>
											<li>
					<a href="https://johncarlosbaez.wordpress.com/2021/07/29/structured-vs-decorated-cospans-part-2/">Structured vs Decorated Cospans (Part&nbsp;2)</a>
									</li>
					</ul>

		</li>
<li id="recent-comments-2" class="widget widget_recent_comments"><h2 class="widgettitle">latest comments:</h2>
				<table class="recentcommentsavatar" cellspacing="0" cellpadding="0" border="0">
					<tr><td title="amarashiki" class="recentcommentsavatartop" style="height:32px; width:32px;"><a href="http://gravatar.com/amarashiki" rel="nofollow"><img alt='' src='https://0.gravatar.com/avatar/62b2df0762257e75433ad6f161488c3a?s=32&#038;d=identicon&#038;r=G' class='avatar avatar-32' height='32' width='32' /></a></td><td class="recentcommentstexttop" style=""><a href="http://gravatar.com/amarashiki" rel="nofollow">amarashiki</a> on <a href="https://johncarlosbaez.wordpress.com/2012/01/23/classical-mechanics-versus-thermodynamics-part-2/#comment-172566">Classical Mechanics versus The&hellip;</a></td></tr><tr><td title="John Baez" class="recentcommentsavatarend" style="height:32px; width:32px;"><a href="http://math.ucr.edu/home/baez/" rel="nofollow"><img alt='' src='https://0.gravatar.com/avatar/34784534843022b3541c8ddd693718cb?s=32&#038;d=identicon&#038;r=G' class='avatar avatar-32' height='32' width='32' /></a></td><td class="recentcommentstextend" style=""><a href="http://math.ucr.edu/home/baez/" rel="nofollow">John Baez</a> on <a href="https://johncarlosbaez.wordpress.com/2021/09/23/classical-mechanics-versus-thermodynamics-part-3/#comment-172560">Classical Mechanics versus The&hellip;</a></td></tr><tr><td title="domenico" class="recentcommentsavatarend" style="height:32px; width:32px;"><img alt='' src='https://2.gravatar.com/avatar/ba06491deb8346d20356ac2ae05893ee?s=32&#038;d=identicon&#038;r=G' class='avatar avatar-32' height='32' width='32' /></td><td class="recentcommentstextend" style="">domenico on <a href="https://johncarlosbaez.wordpress.com/2021/09/23/classical-mechanics-versus-thermodynamics-part-3/#comment-172559">Classical Mechanics versus The&hellip;</a></td></tr><tr><td title="domenico" class="recentcommentsavatarend" style="height:32px; width:32px;"><img alt='' src='https://2.gravatar.com/avatar/ba06491deb8346d20356ac2ae05893ee?s=32&#038;d=identicon&#038;r=G' class='avatar avatar-32' height='32' width='32' /></td><td class="recentcommentstextend" style="">domenico on <a href="https://johncarlosbaez.wordpress.com/2021/09/23/classical-mechanics-versus-thermodynamics-part-3/#comment-172558">Classical Mechanics versus The&hellip;</a></td></tr><tr><td title="Maxwell Relations | Equivalent eXchange" class="recentcommentsavatarend" style="height:32px; width:32px;"><a href="http://equivalentexchange.blog/2021/09/25/maxwell-relations/" rel="nofollow"></a></td><td class="recentcommentstextend" style=""><a href="http://equivalentexchange.blog/2021/09/25/maxwell-relations/" rel="nofollow">Maxwell Relations |&hellip;</a> on <a href="https://johncarlosbaez.wordpress.com/2021/09/22/maxwells-relations-part-3/#comment-172557">Maxwell&#8217;s Relations (Par&hellip;</a></td></tr><tr><td title="Maxwell Relations | Equivalent eXchange" class="recentcommentsavatarend" style="height:32px; width:32px;"><a href="http://equivalentexchange.blog/2021/09/25/maxwell-relations/" rel="nofollow"></a></td><td class="recentcommentstextend" style=""><a href="http://equivalentexchange.blog/2021/09/25/maxwell-relations/" rel="nofollow">Maxwell Relations |&hellip;</a> on <a href="https://johncarlosbaez.wordpress.com/2021/09/18/maxwells-relations-part-two/#comment-172556">Maxwell&#8217;s Relations (Par&hellip;</a></td></tr><tr><td title="Maxwell Relations | Equivalent eXchange" class="recentcommentsavatarend" style="height:32px; width:32px;"><a href="http://equivalentexchange.blog/2021/09/25/maxwell-relations/" rel="nofollow"></a></td><td class="recentcommentstextend" style=""><a href="http://equivalentexchange.blog/2021/09/25/maxwell-relations/" rel="nofollow">Maxwell Relations |&hellip;</a> on <a href="https://johncarlosbaez.wordpress.com/2021/09/17/maxwells-relations-part-1/#comment-172555">Maxwell&#8217;s Relations (Par&hellip;</a></td></tr><tr><td title="Robert A. Wilson" class="recentcommentsavatarend" style="height:32px; width:32px;"><a href="https://robwilson1.wordpress.com" rel="nofollow"><img alt='' src='https://2.gravatar.com/avatar/24dc7e2371491f36fd4538b3474920b5?s=32&#038;d=identicon&#038;r=G' class='avatar avatar-32' height='32' width='32' /></a></td><td class="recentcommentstextend" style=""><a href="https://robwilson1.wordpress.com" rel="nofollow">Robert A. Wilson</a> on <a href="https://johncarlosbaez.wordpress.com/2021/04/04/the-koide-formula/#comment-172553">The Koide Formula</a></td></tr><tr><td title="John Baez" class="recentcommentsavatarend" style="height:32px; width:32px;"><a href="http://math.ucr.edu/home/baez/" rel="nofollow"><img alt='' src='https://0.gravatar.com/avatar/34784534843022b3541c8ddd693718cb?s=32&#038;d=identicon&#038;r=G' class='avatar avatar-32' height='32' width='32' /></a></td><td class="recentcommentstextend" style=""><a href="http://math.ucr.edu/home/baez/" rel="nofollow">John Baez</a> on <a href="https://johncarlosbaez.wordpress.com/2021/09/23/classical-mechanics-versus-thermodynamics-part-3/#comment-172545">Classical Mechanics versus The&hellip;</a></td></tr><tr><td title="Wolfgang" class="recentcommentsavatarend" style="height:32px; width:32px;"><img alt='' src='https://1.gravatar.com/avatar/d3c6d7ec8069e25c08a0a11263581925?s=32&#038;d=identicon&#038;r=G' class='avatar avatar-32' height='32' width='32' /></td><td class="recentcommentstextend" style="">Wolfgang on <a href="https://johncarlosbaez.wordpress.com/2021/09/23/classical-mechanics-versus-thermodynamics-part-3/#comment-172543">Classical Mechanics versus The&hellip;</a></td></tr>				</table>
				</li>
<li id="text-3" class="widget widget_text"><h2 class="widgettitle">How To Write Math Here:</h2>
			<div class="textwidget"><p>You can <a href="http://en.wikibooks.org/wiki/LaTeX/Mathematics">include math in your comments using LaTeX</a>,  but you need to do it this way:</p>
<p>&#036;latex  E = mc^2&#036;</p>
<p>You need the word 'latex' right after the first dollar sign, and it needs a space after it.  Double dollar signs don't work, and other limitations apply, some described <a href="http://en.support.wordpress.com/latex/">here</a>.  You can't preview comments here, but I'm happy to fix errors.</p>
</div>
		</li>
<li id="categories-2" class="widget widget_categories"><h2 class="widgettitle">Read Posts On:</h2>

			<ul>
					<li class="cat-item cat-item-177"><a href="https://johncarlosbaez.wordpress.com/category/art/">art</a> (3)
</li>
	<li class="cat-item cat-item-4003"><a href="https://johncarlosbaez.wordpress.com/category/astronomy/">astronomy</a> (29)
</li>
	<li class="cat-item cat-item-8262191"><a href="https://johncarlosbaez.wordpress.com/category/azimuth/">azimuth</a> (60)
</li>
	<li class="cat-item cat-item-86856"><a href="https://johncarlosbaez.wordpress.com/category/biodiversity/">biodiversity</a> (38)
</li>
	<li class="cat-item cat-item-4936"><a href="https://johncarlosbaez.wordpress.com/category/biology/">biology</a> (107)
</li>
	<li class="cat-item cat-item-355244"><a href="https://johncarlosbaez.wordpress.com/category/carbon-emissions/">carbon emissions</a> (78)
</li>
	<li class="cat-item cat-item-5936"><a href="https://johncarlosbaez.wordpress.com/category/chemistry/">chemistry</a> (74)
</li>
	<li class="cat-item cat-item-6108"><a href="https://johncarlosbaez.wordpress.com/category/climate/">climate</a> (155)
</li>
	<li class="cat-item cat-item-5043"><a href="https://johncarlosbaez.wordpress.com/category/computer-science/">computer science</a> (57)
</li>
	<li class="cat-item cat-item-9204"><a href="https://johncarlosbaez.wordpress.com/category/conferences/">conferences</a> (81)
</li>
	<li class="cat-item cat-item-1098"><a href="https://johncarlosbaez.wordpress.com/category/culture/">culture</a> (4)
</li>
	<li class="cat-item cat-item-657"><a href="https://johncarlosbaez.wordpress.com/category/economics/">economics</a> (32)
</li>
	<li class="cat-item cat-item-1212"><a href="https://johncarlosbaez.wordpress.com/category/energy/">energy</a> (50)
</li>
	<li class="cat-item cat-item-25393"><a href="https://johncarlosbaez.wordpress.com/category/engineering/">engineering</a> (11)
</li>
	<li class="cat-item cat-item-14852"><a href="https://johncarlosbaez.wordpress.com/category/mathematics/game-theory/">game theory</a> (29)
</li>
	<li class="cat-item cat-item-1215"><a href="https://johncarlosbaez.wordpress.com/category/geography/">geography</a> (4)
</li>
	<li class="cat-item cat-item-337"><a href="https://johncarlosbaez.wordpress.com/category/health/">health</a> (4)
</li>
	<li class="cat-item cat-item-678"><a href="https://johncarlosbaez.wordpress.com/category/history/">history</a> (2)
</li>
	<li class="cat-item cat-item-23375499"><a href="https://johncarlosbaez.wordpress.com/category/information-and-entropy/">information and entropy</a> (92)
</li>
	<li class="cat-item cat-item-3558"><a href="https://johncarlosbaez.wordpress.com/category/jobs/">jobs</a> (11)
</li>
	<li class="cat-item cat-item-5465"><a href="https://johncarlosbaez.wordpress.com/category/journals/">journals</a> (5)
</li>
	<li class="cat-item cat-item-3582"><a href="https://johncarlosbaez.wordpress.com/category/mathematics/">mathematics</a> (478)
</li>
	<li class="cat-item cat-item-18"><a href="https://johncarlosbaez.wordpress.com/category/music/">music</a> (3)
</li>
	<li class="cat-item cat-item-3968"><a href="https://johncarlosbaez.wordpress.com/category/networks/">networks</a> (185)
</li>
	<li class="cat-item cat-item-154934"><a href="https://johncarlosbaez.wordpress.com/category/oceans/">oceans</a> (13)
</li>
	<li class="cat-item cat-item-1211"><a href="https://johncarlosbaez.wordpress.com/category/physics/">physics</a> (204)
</li>
	<li class="cat-item cat-item-10451"><a href="https://johncarlosbaez.wordpress.com/category/probability/">probability</a> (92)
</li>
	<li class="cat-item cat-item-4909"><a href="https://johncarlosbaez.wordpress.com/category/psychology/">psychology</a> (6)
</li>
	<li class="cat-item cat-item-3330"><a href="https://johncarlosbaez.wordpress.com/category/publishing/">publishing</a> (19)
</li>
	<li class="cat-item cat-item-46615"><a href="https://johncarlosbaez.wordpress.com/category/puzzles/">puzzles</a> (14)
</li>
	<li class="cat-item cat-item-4140243"><a href="https://johncarlosbaez.wordpress.com/category/quantum-technologies/">quantum technologies</a> (28)
</li>
	<li class="cat-item cat-item-562"><a href="https://johncarlosbaez.wordpress.com/category/questions/">questions</a> (3)
</li>
	<li class="cat-item cat-item-93974"><a href="https://johncarlosbaez.wordpress.com/category/risks/">risks</a> (48)
</li>
	<li class="cat-item cat-item-37893"><a href="https://johncarlosbaez.wordpress.com/category/seminars/">seminars</a> (21)
</li>
	<li class="cat-item cat-item-581"><a href="https://johncarlosbaez.wordpress.com/category/software/">software</a> (19)
</li>
	<li class="cat-item cat-item-39438"><a href="https://johncarlosbaez.wordpress.com/category/strategies/">strategies</a> (36)
</li>
	<li class="cat-item cat-item-6877"><a href="https://johncarlosbaez.wordpress.com/category/sustainability/">sustainability</a> (71)
</li>
	<li class="cat-item cat-item-66608272"><a href="https://johncarlosbaez.wordpress.com/category/the-practice-of-science/">the practice of science</a> (27)
</li>
	<li class="cat-item cat-item-61590"><a href="https://johncarlosbaez.wordpress.com/category/this-weeks-finds/">this week&#039;s finds</a> (18)
</li>
			</ul>

			</li>
<li id="linkcat-20924250" class="widget widget_links"><h2 class="widgettitle">also visit these:</h2>

	<ul class='xoxo blogroll'>
<li><a href="http://www.azimuthproject.org/azimuth/show/Azimuth+Blog" title="Go here to see what’s on this blog, organized by topic or author!">Azimuth Blog Overview</a></li>
<li><a href="http://www.azimuthproject.org/azimuth/show/HomePage" title="for scientists and engineers who want to save the planet">Azimuth Project</a></li>
<li><a href="http://bittooth.blogspot.com/" title="David Summers on energy: oil, gas and more">Bit Tooth Energy</a></li>
<li><a href="http://bravenewclimate.com/" title="Barry Brooks on climate and energy policy">Brave New Climate</a></li>
<li><a href="http://physics.ucsd.edu/do-the-math/" title="UC San Diego prof uses physics and estimation to assess energy, growth, options">Do the Math</a></li>
<li><a href="http://dotearth.blogs.nytimes.com/" title="Andrew Revkin’s environmental blog on the New York Times">Dot Earth</a></li>
<li><a href="http://e360.yale.edu/" title="News from the Yale School of Forestry &amp; Environmental Studies">Environment 360</a></li>
<li><a href="http://planet3.org/" title="A metablog on sustainability">Planet3.0</a></li>
<li><a href="http://www.realclimate.org/" title="climate science from climate scientists">RealClimate</a></li>
<li><a href="http://www.easterbrook.ca/steve/" title="Steve Easterbrook&#8217;s blog on software engineering and climate modeling">Serendipity</a></li>
<li><a href="http://scienceofdoom.com/" title="climate science in perspective">The Science of Doom</a></li>
<li><a href="http://e360.yale.edu/" title="opinion, analysis, reporting and debate on environmental issues">Yale Environment 360</a></li>

	</ul>
</li>

<li id="rss_links-3" class="widget widget_rss_links"><h2 class="widgettitle">RSS feeds:</h2>
<p class="size-small"><a class="feed-image-link" href="https://johncarlosbaez.wordpress.com/feed/" title="Subscribe to Posts"><img src="https://johncarlosbaez.wordpress.com/i/rss/red-small.png?m=1391188133h" alt="RSS Feed" /></a>&nbsp;<a href="https://johncarlosbaez.wordpress.com/feed/" title="Subscribe to Posts">RSS - Posts</a></p><p class="size-small"><a class="feed-image-link" href="https://johncarlosbaez.wordpress.com/comments/feed/" title="Subscribe to Comments"><img src="https://johncarlosbaez.wordpress.com/i/rss/red-small.png?m=1391188133h" alt="RSS Feed" /></a>&nbsp;<a href="https://johncarlosbaez.wordpress.com/comments/feed/" title="Subscribe to Comments">RSS - Comments</a></p>
</li>
<li id="blog_subscription-3" class="widget widget_blog_subscription jetpack_subscription_widget"><h2 class="widgettitle"><label for="subscribe-field">Email Subscription:</label></h2>

			<form
				action="https://subscribe.wordpress.com"
				method="post"
				accept-charset="utf-8"
				id=""
			>
				<p>Enter your email address to subscribe to this blog and receive notifications of new posts by email.</p>
					<div class="jetpack-subscribe-count">
						<p>
						Join 5,227 other followers						</p>
					</div>
									<p id="subscribe-email">
					<label
						id="subscribe-field-label"
						for="subscribe-field"
						class="screen-reader-text"
					>
						Email Address:					</label>

					<input
							type="email"
							name="email"
							
							style="width: 95%; padding: 1px 10px"
							placeholder="Enter your email address"
							value=""
							id="subscribe-field"
						/>				</p>

				<p id="subscribe-submit"
									>
                    <input type="hidden" name="action" value="subscribe"/>
                    <input type="hidden" name="blog_id" value="12777403"/>
                    <input type="hidden" name="source" value="https://johncarlosbaez.wordpress.com/2012/10/01/petri-net-programming/?replytocom=20414"/>
                    <input type="hidden" name="sub-type" value="widget"/>
                    <input type="hidden" name="redirect_fragment" value="blog_subscription-3"/>
					<input type="hidden" id="_wpnonce" name="_wpnonce" value="0272f16312" />                    <button type="submit"
	                    	                        class="wp-block-button__link"
	                    		                	                >
	                    Sign me up!                    </button>
                </p>
            </form>
			
</li>
<li id="search-3" class="widget widget_search"><h2 class="widgettitle">SEARCH:</h2>
<form method="get" id="searchform" action="https://johncarlosbaez.wordpress.com/">
<div><label for="s" class="search-label">Search</label><input type="text" value="" name="s" id="s" />
<input type="submit" id="searchsubmit" value="Search" />
</div>
</form></li>
<li id="blog-stats-2" class="widget widget_blog-stats"><h2 class="widgettitle">Blog Stats:</h2>
		<ul>
			<li>4,176,945 hits</li>
		</ul>
		</li>
		</ul>
	</div>



<div id="footer">
	<p>
	<br />
	<a href="https://wordpress.com/?ref=footer_blog" rel="nofollow">Blog at WordPress.com.</a>
	</p>
</div>

</div>

		<!--  -->
<script src='//0.gravatar.com/js/gprofiles.js?ver=202138y' id='grofiles-cards-js'></script>
<script id='wpgroho-js-extra'>
var WPGroHo = {"my_hash":""};
</script>
<script crossorigin='anonymous' type='text/javascript' src='https://s1.wp.com/wp-content/mu-plugins/gravatar-hovercards/wpgroho.js?m=1610363240h'></script>

	<script>
		// Initialize and attach hovercards to all gravatars
		( function() {
			function init() {
				if ( typeof Gravatar === 'undefined' ) {
					return;
				}

				if ( typeof Gravatar.init !== 'function' ) {
					return;
				}

				Gravatar.profile_cb = function ( hash, id ) {
					WPGroHo.syncProfileData( hash, id );
				};

				Gravatar.my_hash = WPGroHo.my_hash;
				Gravatar.init( 'body', '#wp-admin-bar-my-account' );
			}

			if ( document.readyState !== 'loading' ) {
				init();
			} else {
				document.addEventListener( 'DOMContentLoaded', init );
			}
		} )();
	</script>

		<div style="display:none">
	<div class="grofile-hash-map-34784534843022b3541c8ddd693718cb">
	</div>
	<div class="grofile-hash-map-842ef5d331ea7a9d725ac02ecdb18005">
	</div>
	<div class="grofile-hash-map-2999923af32d9432e1d72404ec3e9dcb">
	</div>
	<div class="grofile-hash-map-34784534843022b3541c8ddd693718cb">
	</div>
	<div class="grofile-hash-map-64ff54801a8b7ffba98809347155d405">
	</div>
	<div class="grofile-hash-map-656e05d084448337fb49459225dc525e">
	</div>
	<div class="grofile-hash-map-34691970b7fdbc9091b67882ef9db275">
	</div>
	<div class="grofile-hash-map-f2e74e210ef116a6f1ed2e39c2f4becb">
	</div>
	<div class="grofile-hash-map-b4d356451462687f33b4d14fa843faa9">
	</div>
	<div class="grofile-hash-map-3807b278b4615e7eb19dcacc927f77e2">
	</div>
	<div class="grofile-hash-map-06b43ef7c724d20cc4dbb39a55a6620d">
	</div>
	<div class="grofile-hash-map-62b2df0762257e75433ad6f161488c3a">
	</div>
	<div class="grofile-hash-map-ba06491deb8346d20356ac2ae05893ee">
	</div>
	<div class="grofile-hash-map-24dc7e2371491f36fd4538b3474920b5">
	</div>
	<div class="grofile-hash-map-d3c6d7ec8069e25c08a0a11263581925">
	</div>
	</div>
<script id='highlander-comments-js-extra'>
var HighlanderComments = {"loggingInText":"Logging In\u2026","submittingText":"Posting Comment\u2026","postCommentText":"Post Comment","connectingToText":"Connecting to %s","commentingAsText":"%1$s: You are commenting using your %2$s account.","logoutText":"Log Out","loginText":"Log In","connectURL":"https:\/\/johncarlosbaez.wordpress.com\/public.api\/connect\/?action=request","logoutURL":"https:\/\/johncarlosbaez.wordpress.com\/wp-login.php?action=logout&_wpnonce=f7f58f7d33","homeURL":"https:\/\/johncarlosbaez.wordpress.com\/","postID":"12315","gravDefault":"identicon","enterACommentError":"Please enter a comment","enterEmailError":"Please enter your email address here","invalidEmailError":"Invalid email address","enterAuthorError":"Please enter your name here","gravatarFromEmail":"This picture will show whenever you leave a comment. Click to customize it.","logInToExternalAccount":"Log in to use details from one of these accounts.","change":"Change","changeAccount":"Change Account","comment_registration":"","userIsLoggedIn":"","isJetpack":"","text_direction":"ltr"};
</script>
<script crossorigin='anonymous' type='text/javascript' src='https://s1.wp.com/_static/??/wp-content/js/jquery/jquery.autoresize.js,/wp-content/mu-plugins/highlander-comments/script.js?m=1626677336j'></script>

<script>
window.addEventListener( "load", function( event ) {
	var link = document.createElement( "link" );
	link.href = "https://s0.wp.com/wp-content/mu-plugins/actionbar/actionbar.css?v=20210915";
	link.type = "text/css";
	link.rel = "stylesheet";
	document.head.appendChild( link );

	var script = document.createElement( "script" );
	script.src = "https://s0.wp.com/wp-content/mu-plugins/actionbar/actionbar.js?v=20210920";
	script.defer = true;
	document.body.appendChild( script );
} );
</script>

	<script crossorigin='anonymous' type='text/javascript' src='https://s0.wp.com/_static/??-eJzTLy/QTc7PK0nNK9EvyClNz8wr1i+uzCtJrMjITM/IAeKS1CJMEWP94uSizIISoOIM5/yiVL2sYh19yo1yKiotzgjISczMo6qBlSUZ+SAT7XNtDc0MTU3MzSyNjbIApPxg5w=='></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "https://s1.wp.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.head.appendChild( corecss );
		var themecssurl = "https://s2.wp.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?m=1363304414h&amp;ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		document.head.appendChild( themecss );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();

	// Infinite scroll support
	if ( typeof( jQuery ) !== 'undefined' ) {
		jQuery( function( $ ) {
			$( document.body ).on( 'post-load', function() {
				SyntaxHighlighter.highlight();
			} );
		} );
	}
</script>
<script crossorigin='anonymous' type='text/javascript' src='https://s2.wp.com/_static/??-eJyFTs0OgjAMfiHHAgcTDsZnGVtDNuk2207g7S2JXIyJp/58v3atxpcskMUmtgFe0UPdusQXq1DMfmkB+MB8QVSaIajL3mHMJ+nUYzN1aXPMbF1Q3EyOLDoWIN2MkPMP/hapcXo2oP0zurVqkKlUtl2j9Mfyq42egBOEP0XWGGYQttwm9hSrxJKPDne89ddhHPthuPbpDZCYYT4='></script>
<script type="text/javascript">
// <![CDATA[
(function() {
try{
  if ( window.external &&'msIsSiteMode' in window.external) {
    if (window.external.msIsSiteMode()) {
      var jl = document.createElement('script');
      jl.type='text/javascript';
      jl.async=true;
      jl.src='/wp-content/plugins/ie-sitemode/custom-jumplist.php';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jl, s);
    }
  }
}catch(e){}
})();
// ]]>
</script><script src="//stats.wp.com/w.js?62" defer></script> <script type="text/javascript">
_tkq = window._tkq || [];
_stq = window._stq || [];
_tkq.push(['storeContext', {'blog_id':'12777403','blog_tz':'0','user_lang':'en','blog_lang':'en','user_id':'0'}]);
_stq.push(['view', {'blog':'12777403','v':'wpcom','tz':'0','user_id':'0','post':'12315','subd':'johncarlosbaez'}]);
_stq.push(['extra', {'crypt':'UE40eW5QN0p8M2Y/RE1TaVhzUzFMbjdWNHpwZGhTayxPSUFCMGNrd29+Smw0TDhnZmRTK0hlRi9QSGh6bi9GXVhBJWIlZlR5U1JMLU8/MkNtblkvY1d6eVImTEouL2UleTBRZmlNdkp0aWJaNFJhPS0uTVpHa1hIc25EbVJyQmw/SkZ+Q3lLcjU/NDBvQTZVV3grXVBKWjRhQ0VEJkNLVTA2UXpOdVRjWnBQRjRDbUNDQVY/JVpHZnVRWjVdMzFQY3NdbWNKUnp1T3ZFQiZvNiswZkRZTEptRlNuLy14R1txaVIrcU4/U1M2Wy1LRzVCaUNUUU02MHosVi9bTSw0W2tkXzVlTUxkb2lMeERwJmtHfHxxRWk2dHQ2a1ExRm9dLnIwWlV+VkJvSkFXSVlwN09tel1VcWFsbV1GTV9XamZ5NXpidyU3V3NFbD1uWGVDTTMtcEZKS2tSUFU3VVpGaSt2Vzl0NWx4cA=='}]);
_stq.push([ 'clickTrackerInit', '12777403', '12315' ]);
	</script>
<noscript><img src="https://pixel.wp.com/b.gif?v=noscript" style="height:1px;width:1px;overflow:hidden;position:absolute;bottom:1px;" alt="" /></noscript>
<script>
if ( 'object' === typeof wpcom_mobile_user_agent_info ) {

	wpcom_mobile_user_agent_info.init();
	var mobileStatsQueryString = "";
	
	if( false !== wpcom_mobile_user_agent_info.matchedPlatformName )
		mobileStatsQueryString += "&x_" + 'mobile_platforms' + '=' + wpcom_mobile_user_agent_info.matchedPlatformName;
	
	if( false !== wpcom_mobile_user_agent_info.matchedUserAgentName )
		mobileStatsQueryString += "&x_" + 'mobile_devices' + '=' + wpcom_mobile_user_agent_info.matchedUserAgentName;
	
	if( wpcom_mobile_user_agent_info.isIPad() )
		mobileStatsQueryString += "&x_" + 'ipad_views' + '=' + 'views';

	if( "" != mobileStatsQueryString ) {
		new Image().src = document.location.protocol + '//pixel.wp.com/g.gif?v=wpcom-no-pv' + mobileStatsQueryString + '&baba=' + Math.random();
	}
	
}
</script>
</body>
</html>
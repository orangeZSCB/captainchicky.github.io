function defaultMaster(){var n=myNavParams.showBanner,t=myNavParams.showLeftNavigation,i=myNavParams.leftNavState;myNavParams.supportNewNavigation?n&&t?showTopBanner(!0):n&&!t?(showTopBanner(!0),$("#mainLeftNavContainer").hide(),$("#mainBodyContainer").addClass("no-left-nav"),$("#dvHamBurger").hide()):!n&&t?(showTopBanner(!0),$("#mainBodyContainer").css("margin-left","255px"),$("#mainLeftNavContainer").show(),$("#dvHamBurger").show(),$("#toggleRightMenu").hide(),$("#main-body-container").css("padding-top","0")):($("#mainLeftNavContainer").hide(),showTopBanner(!1),$("body").addClass("no-top-nav"),$("#mainBodyContainer").addClass("no-left-top-nav")):n?($("#mainTopNavContainer").show(),$("#dvMainRow").removeClass("main-row-integration")):($("#mainTopNavContainer").hide(),$("#dvMainRow").addClass("main-row-integration"),$("#main-body-container").css("padding-top","0"));t?i==="False"?expand():fncollapse():($("#mainLeftNavContainer").hide(),$("#mainBtnExpand").hide(),$("#mainBtnCollapse").hide(),$("#mainBodyContainer").removeClass("col-xs-10").addClass("col-xs-12"),$("#mainBodyContainer").css("margin-left","0px"));success(navigationData)}function showTopBanner(n){$("#mainTopNavContainer").toggle(n);$("body").css("padding-top",n&&!myNavParams.isMyFoundations?"54px":"0");n||($("body").css("margin-left","5px"),$("body").css("margin-right","5px"),$("body").css("margin-top","5px"))}function topNavMaster(){var n=myNavParams.showBanner;n?($("#mainTopNavContainer").show(),myNavParams.supportNewNavigation&&$("body").css("padding-top","54px"),$("#dvMainRow").removeClass("main-row-integration")):($("#mainTopNavContainer").hide(),$("#dvMainRow").addClass("main-row-integration"));myNavParams.supportNewNavigation?toggleNav():$("#btnExpand").click(toggleNav);success(navigationData)}function playerMaster(){var n=myNavParams.showPlayerHeader;n?(showTopBanner(!0),$("#dvMainRow").removeClass("main-row-integration")):(showTopBanner(!1),$("#main-body-container").addClass("main-row-integration"));success(navigationData)}function toggleNav(){var n=$("#mainLeftNavContainer");(n.length>0)?n.is(":visible")?fncollapse():expand():fncollapse()}function setLeftNavState(n){var t=parseInt(Math.random()*99999999),i="/service/LeftNavStateUpdate.aspx?arg="+n+"&r="+t;$.get(i)}function fncollapse(){var t,i,n;$("#mainLeftNavContainer").hide();$("#mainBodyContainer").addClass("no-left-nav");$("#buttonExpand").show();$("#mainLeftNavContainer").hide();t=myNavParams.supportNewNavigation;i=myNavParams.supportMobile;i||($("#mainBodyContainer").removeClass("col-xs-10"),$("#mainBodyContainer").addClass("col-xs-12"),$("#mainBodyContainer").css("margin-left","0px"));t||(n='<a id="btnExpand" href="#"style="margin-top:1px;margin-left:2px;margin-right:5px;float:left;"  onclick="toggleNav()" ><img src="/Common/btn_open_nav.png" title="'+myNavParams.showNavigationText+'" alt="'+myNavParams.showNavigationText+'" style="width:23px;"><span class="readableButHidden">'+myNavParams.showNavigationText+"<\/span><\/a>");$("#dashboardContainer").is(":visible")?$("#dashboardExpand").html(n):$("#PanelCourseName").is(":visible")?$("#btnExpandCourse").html(n):$("#btnExpandAnnouncements").length>0?$("#btnExpandAnnouncements").html(n):typeof pnlGBBreadCrumbId!="undefined"&&$("#"+pnlGBBreadCrumbId).is(":visible")?$("#btnExpandGradebookBreadcrumb").html(n):typeof pnlBreadCrumbId!="undefined"&&$("#"+pnlBreadCrumbId).is(":visible")?$("#btnExpandBreadcrumb").html(n):$("#mainBtnExpand").html(n);$("#btnHamBurger").text(myNavParams.showNavigationText);$("body").css("background-color","#fff");flagNavInitialization||setLeftNavState(!1)}function expand(){$("#mainBodyContainer").css("margin-left","");$("#mainBtnCollapse").show();$("#buttonExpand").hide();$("#mainBtnExpand").html("");$("#dashboardExpand").html("");$("#btnExpandAnnouncements").html("");$("#btnExpandCourse").html("");$("#btnExpandGradebookBreadcrumb").html("");$("#btnExpandBreadcrumb").html("");$("#mainLeftNavContainer").show();$("#mainBodyContainer").removeClass("no-left-nav");var n=myNavParams.supportMobile;n||($("#mainBodyContainer").removeClass("col-xs-12"),$("#mainBodyContainer").addClass("col-xs-10"),$("#mainBodyContainer").css("margin-left",""));$("#btnHamBurger").text(myNavParams.hideNavigationText);myNavParams.isMyFoundations||$("body").css("background-color","#F0F0F0");flagNavInitialization||setLeftNavState(!0)}function success(n){buildLeftNav(n);myNavParams.supportNewNavigation?(buildLogoMobile(n),buildMobileTopNav(n)):(buildLogo(n),buildTopNav(n))}function storeNavData(n){window.navigation_key=n}function getStoredNavData(){return navigation_key}function buildLeftNav(n){var t=$("#mainLeftNav").html();$.each(n.LeftNavigation,function(n,i){t=t+"<div ";t=i.Url==="#empty"?t+'class="menu-item-empty">':i.Key===getStoredNavData()?t+'class = "menu-item-selected">':i.Url==null?t+'class = "menu-subheader">':t+'class="menu-item">';i.Url==="#empty"?(t=t+'<a href="'+i.Url+'" data-role="none" class="navA" aria-hidden="true" tabindex="-1" title="" onclick=storeNavData("'+i.Key+'")',t=t+">"+i.Name+"<\/a>"):i.Url!=null?(t=t+'<a href="'+i.Url+'" data-role="none" class="navA" onclick=storeNavData("'+i.Key+'")',i.Tooltip!=null&&(t=t+' title="'+i.Tooltip+'"'),t=t+">"+i.Name+"<\/a>"):t=t+"<span>"+i.Name+"<\/span>";t=t+"<\/div>"});$("#mainLeftNav").html(t)}function buildLogo(n){var t=myNavParams.hasCustomBanner,i=myNavParams.showBanner,r=myNavParams.isCC;t?($("#mainBandLogo").addClass("custom_banner_logo"),$("#mainBandLogo").addClass("banner_logo")):$("#mainBandLogo").addClass("improvedBanner_logo");i?t?$("#mainBandLogo").attr("src","/images/spacer.gif"):($("#mainBandLogo").attr("src",n.ProductHeaderInfo.ImageUrl),$("#mainBandLogo").attr("alt",n.ProductHeaderInfo.Name)):currentMaster==="playermaster"&&r?($("#mainBandLogo").attr("src","/images/spacer.gif"),$("#mainBandLogo").hide()):$("#mainBandLogo").attr("src","/images/spacer.gif")}function buildLogoMobile(n){var t=myNavParams.hasCustomBanner,i=myNavParams.showBanner,r=myNavParams.isCC;t&&($("#mainBandLogo").addClass("custom_banner_logo"),$("#mainBandLogo").addClass("banner_logo"));i?t?$("#mainBandLogo").attr("src","/images/spacer.gif"):($("#mainBandLogo").attr("src",n.ProductHeaderInfo.ImageUrl),$("#mainBandLogo").attr("alt",n.ProductHeaderInfo.Name)):currentMaster==="playermaster"&&r?($("#mainBandLogo").attr("src","/images/spacer.gif"),$("#mainBandLogo").hide()):$("#mainBandLogo").attr("src","/images/spacer.gif")}function buildTopNav(n){var t="",o=myNavParams.hasCustomBanner,u=myNavParams.showBanner,f=myNavParams.pageLinkMode,i=myNavParams.userName,e=i,r="",s=myNavParams.currentLocaleFormat;i.length>30&&(e=myNavParams.userName.substring(0,30)+"...",r=i);r+=myNavParams.NoNameScreenReaderText;$.each(n.TopNavigation,function(n,h){t=t+"<li";h.SubMenuData!=null&&h.SubMenuData.length>0&&(t=t+' class="dropdown"');h.IsSeparator&&(u||f==="Frame")&&(t=o?t+' class="divider-vertical"':t+' class="nav-divider"');t=t+">";h.SubMenuData!=null&&(h.SubMenuData.length>0?(t=h.Key===49?t+'<a href="#" data-role="none" class="dropdown-toggle my_account_name" data-toggle="dropdown" title="'+r+'" aria-expanded="false">'+e+'<b class="caret"><\/b><\/a>':t+'<a href="#" data-role="none" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">'+h.Name+' <b class="caret"><\/b><\/a>',t=t+'<ul class="dropdown-menu">',$.each(h.SubMenuData,function(n,i){i.IsSeparator?t=t+'<li class="divider"><\/li>':(t=t+"<li>",t=t+'<a data-role="none" class="navA" href="'+i.Url+'"',i.Tooltip!=null&&(t=t+' title="'+i.Tooltip+'"'),t=t+">"+i.Name+"<\/a>",t=t+"<\/li>")}),t=t+"<\/ul>"):t=h.Key===49?t+'<span class="my_account_name">'+i+" <\/span>":t+'<a data-role="none" href="#" >'+h.Name+" <\/a>");h.Url!=null&&h.SubMenuData==null&&(t=t+'<a data-role="none" href="'+h.Url+'"',h.Tooltip!=null&&(t=t+' title="'+h.Tooltip+'"'),t=t+">"+h.Name+"<\/a>");h.Url==null&&h.Name!=null&&(u||f==="Frame")&&(t=t+'<span id="toptime" class="navbar-text navbar-text-time" title="'+s+'">'+formatCourseDate(h.Name)+"<\/span>");t=t+"<\/li>"});$("#mainTopNav").html(t)}function buildMobileTopNav(n){var t="",o=myNavParams.hasCustomBanner,i=myNavParams.showBanner,f=myNavParams.pageLinkMode,r=myNavParams.userName,e=r,u="",s=myNavParams.currentLocaleFormat;r.length>30&&(e=myNavParams.userName.substring(0,30)+"...",u=r);u+=myNavParams.NoNameScreenReaderText;$.each(n.TopNavigation,function(n,h){t=t+"<li";h.SubMenuData!=null&&h.SubMenuData.length>0&&(t=t+' class="dropdown"');h.IsSeparator&&(i||f==="Frame")&&(t=o?t+' class="divider"':t+' class="divider"');t=t+">";h.SubMenuData!=null&&(h.SubMenuData.length>0?(h.Key===49?t=t+'<a href="#" data-role="none" class="dropdown-toggle my_account_name" data-toggle="dropdown" title="'+u+'" aria-expanded="false">'+e+'<i class="fa fa-user" aria-hidden="true"><\/i><\/a>':h.Key===43?i&&(t=t+'<a href="#" data-role="none" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="fa fa-question-circle" area-hidden="true"><\/i><span class="sr-only">'+h.Name+"<\/span><\/a>"):t=t+'<a href="#" data-role="none" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">'+h.Name+' <i aria-hidden="true" class="fa fa-user"><\/b><\/a>',(h.Key===43&&i||h.Key!==43)&&(t=t+'<ul class="dropdown-menu">',$.each(h.SubMenuData,function(n,i){i.IsSeparator?t=t+'<li class="divider"><\/li>':(t=t+"<li>",t=t+'<a data-role="none" class="navA" href="'+i.Url+'"',i.Tooltip!=null&&(t=t+' title="'+i.Tooltip+'"'),t=t+">"+i.Name+"<\/a>",t=t+"<\/li>")}),t=t+"<\/ul>")):t=h.Key===49?t+'<span class="navbar-text">'+r+' <i class="fa fa-user" aria-hidden="true"><\/i><\/span>':t+'<a data-role="none" href="#" >'+h.Name+" <\/a>");h.Url!=null&&h.SubMenuData==null&&(t=t+'<a data-role="none" href="'+h.Url+'"',h.Tooltip!=null&&(t=t+' title="'+h.Tooltip+'"'),t=t+">"+h.Name+"<\/a>");h.Url==null&&h.Name!=null&&(i||f==="Frame")&&(t=t+'<span id="toptime" class="navbar-text navbar-text-time" title="'+s+'">'+formatCourseDate(h.Name)+"<\/span>");h.Url==null&&h.Name==null&&(t+="|");t=t+"<\/li>"});$("#mainTopNav").html(t)}function formatCourseDate(n){var e=myNavParams.IsSelfStudy,t,i,r,u,f;return(e?window.initialjsclockServerDateTime=(new Date).toString():window.initialjsclockServerDateTime===""&&(window.initialjsclockServerDateTime=n),i=Date.parse(window.initialjsclockServerDateTime),r=new Date,t=r.valueOf()-i,u=new Date,f=new Date(u.valueOf()-t),typeof formatLocalDate=="function")?formatLocalDate(f,LocClockPattern):n}var flagNavInitialization=!0;$.fn.exists=function(){return this.length>0};$(function(){currentMaster==="default"?defaultMaster():currentMaster==="topnav"?topNavMaster():playerMaster();flagNavInitialization=!1})